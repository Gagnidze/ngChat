(self.webpackChunkng_chat=self.webpackChunkng_chat||[]).push([[179],{8255:_e=>{function ne(M){return Promise.resolve().then(()=>{var b=new Error("Cannot find module '"+M+"'");throw b.code="MODULE_NOT_FOUND",b})}ne.keys=()=>[],ne.resolve=ne,ne.id=8255,_e.exports=ne},8583:(_e,ne,M)=>{"use strict";M.d(ne,{mr:()=>Ke,ez:()=>L,K0:()=>ee,Do:()=>rt,V_:()=>U,Ye:()=>st,S$:()=>ze,mk:()=>ir,sg:()=>vt,O5:()=>Ae,b0:()=>Ve,lw:()=>G,EM:()=>Ht,JF:()=>Er,PM:()=>jt,w_:()=>Z,bD:()=>te,q:()=>fe,Mx:()=>rr,HT:()=>re});var b=M(7716);let I=null;function fe(){return I}function re(R){I||(I=R)}class Z{}const ee=new b.OlP("DocumentToken");let G=(()=>{class R{historyGo(S){throw new Error("Not implemented")}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=(0,b.Yz7)({factory:Y,token:R,providedIn:"platform"}),R})();function Y(){return(0,b.LFG)(J)}const U=new b.OlP("Location Initialized");let J=(()=>{class R extends G{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(S){const $=fe().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",S,!1),()=>$.removeEventListener("popstate",S)}onHashChange(S){const $=fe().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",S,!1),()=>$.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,$,ue){B()?this._history.pushState(S,$,ue):this.location.hash=ue}replaceState(S,$,ue){B()?this._history.replaceState(S,$,ue):this.location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return R.\u0275fac=function(S){return new(S||R)(b.LFG(ee))},R.\u0275prov=(0,b.Yz7)({factory:se,token:R,providedIn:"platform"}),R})();function B(){return!!window.history.pushState}function se(){return new J((0,b.LFG)(ee))}function Ce(R,j){if(0==R.length)return j;if(0==j.length)return R;let S=0;return R.endsWith("/")&&S++,j.startsWith("/")&&S++,2==S?R+j.substring(1):1==S?R+j:R+"/"+j}function We(R){const j=R.match(/#|\?|$/),S=j&&j.index||R.length;return R.slice(0,S-("/"===R[S-1]?1:0))+R.slice(S)}function Me(R){return R&&"?"!==R[0]?"?"+R:R}let ze=(()=>{class R{historyGo(S){throw new Error("Not implemented")}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=(0,b.Yz7)({factory:Re,token:R,providedIn:"root"}),R})();function Re(R){const j=(0,b.LFG)(ee).location;return new Ve((0,b.LFG)(G),j&&j.origin||"")}const Ke=new b.OlP("appBaseHref");let Ve=(()=>{class R extends ze{constructor(S,$){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ce(this._baseHref,S)}path(S=!1){const $=this._platformLocation.pathname+Me(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&S?`${$}${ue}`:$}pushState(S,$,ue,Be){const qe=this.prepareExternalUrl(ue+Me(Be));this._platformLocation.pushState(S,$,qe)}replaceState(S,$,ue,Be){const qe=this.prepareExternalUrl(ue+Me(Be));this._platformLocation.replaceState(S,$,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var $,ue;null===(ue=($=this._platformLocation).historyGo)||void 0===ue||ue.call($,S)}}return R.\u0275fac=function(S){return new(S||R)(b.LFG(G),b.LFG(Ke,8))},R.\u0275prov=b.Yz7({token:R,factory:R.\u0275fac}),R})(),rt=(()=>{class R extends ze{constructor(S,$){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(S){const $=Ce(this._baseHref,S);return $.length>0?"#"+$:$}pushState(S,$,ue,Be){let qe=this.prepareExternalUrl(ue+Me(Be));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(S,$,qe)}replaceState(S,$,ue,Be){let qe=this.prepareExternalUrl(ue+Me(Be));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(S,$,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var $,ue;null===(ue=($=this._platformLocation).historyGo)||void 0===ue||ue.call($,S)}}return R.\u0275fac=function(S){return new(S||R)(b.LFG(G),b.LFG(Ke,8))},R.\u0275prov=b.Yz7({token:R,factory:R.\u0275fac}),R})(),st=(()=>{class R{constructor(S,$){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=S;const ue=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=We(xt(ue)),this._platformStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,$=""){return this.path()==this.normalize(S+Me($))}normalize(S){return R.stripTrailingSlash(function(R,j){return R&&j.startsWith(R)?j.substring(R.length):j}(this._baseHref,xt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,$="",ue=null){this._platformStrategy.pushState(ue,"",S,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me($)),ue)}replaceState(S,$="",ue=null){this._platformStrategy.replaceState(ue,"",S,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me($)),ue)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var $,ue;null===(ue=($=this._platformStrategy).historyGo)||void 0===ue||ue.call($,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(S="",$){this._urlChangeListeners.forEach(ue=>ue(S,$))}subscribe(S,$,ue){return this._subject.subscribe({next:S,error:$,complete:ue})}}return R.\u0275fac=function(S){return new(S||R)(b.LFG(ze),b.LFG(G))},R.normalizeQueryParams=Me,R.joinWithSlash=Ce,R.stripTrailingSlash=We,R.\u0275prov=(0,b.Yz7)({factory:Fe,token:R,providedIn:"root"}),R})();function Fe(){return new st((0,b.LFG)(ze),(0,b.LFG)(G))}function xt(R){return R.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Zero=0]="Zero",Ue[Ue.One=1]="One",Ue[Ue.Two=2]="Two",Ue[Ue.Few=3]="Few",Ue[Ue.Many=4]="Many",Ue[Ue.Other=5]="Other",Ue))();const Zr=b.kL8;class Un{}let Br=(()=>{class R extends Un{constructor(S){super(),this.locale=S}getPluralCategory(S,$){switch(Zr($||this.locale)(S)){case Ue.Zero:return"zero";case Ue.One:return"one";case Ue.Two:return"two";case Ue.Few:return"few";case Ue.Many:return"many";default:return"other"}}}return R.\u0275fac=function(S){return new(S||R)(b.LFG(b.soG))},R.\u0275prov=b.Yz7({token:R,factory:R.\u0275fac}),R})();function rr(R,j){j=encodeURIComponent(j);for(const S of R.split(";")){const $=S.indexOf("="),[ue,Be]=-1==$?[S,""]:[S.slice(0,$),S.slice($+1)];if(ue.trim()===j)return decodeURIComponent(Be)}return null}let ir=(()=>{class R{constructor(S,$,ue,Be){this._iterableDiffers=S,this._keyValueDiffers=$,this._ngEl=ue,this._renderer=Be,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,b.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem($=>this._toggleClass($.key,$.currentValue)),S.forEachChangedItem($=>this._toggleClass($.key,$.currentValue)),S.forEachRemovedItem($=>{$.previousValue&&this._toggleClass($.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem($=>{if("string"!=typeof $.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,b.AaK)($.item)}`);this._toggleClass($.item,!0)}),S.forEachRemovedItem($=>this._toggleClass($.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach($=>this._toggleClass($,!0)):Object.keys(S).forEach($=>this._toggleClass($,!!S[$])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach($=>this._toggleClass($,!1)):Object.keys(S).forEach($=>this._toggleClass($,!1)))}_toggleClass(S,$){(S=S.trim())&&S.split(/\s+/g).forEach(ue=>{$?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return R.\u0275fac=function(S){return new(S||R)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))},R.\u0275dir=b.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class Wt{constructor(j,S,$,ue){this.$implicit=j,this.ngForOf=S,this.index=$,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vt=(()=>{class R{constructor(S,$,ue){this._viewContainer=S,this._template=$,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;if(!this._differ&&S)try{this._differ=this._differs.find(S).create(this.ngForTrackBy)}catch($){throw new Error(`Cannot find a differ supporting object '${S}' of type '${function(R){return R.name||typeof R}(S)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const $=[];S.forEachOperation((ue,Be,qe)=>{if(null==ue.previousIndex){const _t=this._viewContainer.createEmbeddedView(this._template,new Wt(null,this._ngForOf,-1,-1),null===qe?void 0:qe),Xt=new Ut(ue,_t);$.push(Xt)}else if(null==qe)this._viewContainer.remove(null===Be?void 0:Be);else if(null!==Be){const _t=this._viewContainer.get(Be);this._viewContainer.move(_t,qe);const Xt=new Ut(ue,_t);$.push(Xt)}});for(let ue=0;ue<$.length;ue++)this._perViewChange($[ue].view,$[ue].record);for(let ue=0,Be=this._viewContainer.length;ue<Be;ue++){const qe=this._viewContainer.get(ue);qe.context.index=ue,qe.context.count=Be,qe.context.ngForOf=this._ngForOf}S.forEachIdentityChange(ue=>{this._viewContainer.get(ue.currentIndex).context.$implicit=ue.item})}_perViewChange(S,$){S.context.$implicit=$.item}static ngTemplateContextGuard(S,$){return!0}}return R.\u0275fac=function(S){return new(S||R)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},R.\u0275dir=b.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();class Ut{constructor(j,S){this.record=j,this.view=S}}let Ae=(()=>{class R{constructor(S,$){this._viewContainer=S,this._context=new Ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Le("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Le("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,$){return!0}}return R.\u0275fac=function(S){return new(S||R)(b.Y36(b.s_b),b.Y36(b.Rgc))},R.\u0275dir=b.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class Ee{constructor(){this.$implicit=null,this.ngIf=null}}function Le(R,j){if(j&&!j.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,b.AaK)(j)}'.`)}let L=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275mod=b.oAB({type:R}),R.\u0275inj=b.cJS({providers:[{provide:Un,useClass:Br}]}),R})();const te="browser";function jt(R){return"server"===R}let Ht=(()=>{class R{}return R.\u0275prov=(0,b.Yz7)({token:R,providedIn:"root",factory:()=>new yr((0,b.LFG)(ee),window)}),R})();class yr{constructor(j,S){this.document=j,this.window=S,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const S=function(R,j){const S=R.getElementById(j)||R.getElementsByName(j)[0];if(S)return S;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const $=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ue=$.currentNode;for(;ue;){const Be=ue.shadowRoot;if(Be){const qe=Be.getElementById(j)||Be.querySelector(`[name="${j}"]`);if(qe)return qe}ue=$.nextNode()}}return null}(this.document,j);S&&(this.scrollToElement(S),this.attemptFocus(S))}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=j)}}scrollToElement(j){const S=j.getBoundingClientRect(),$=S.left+this.window.pageXOffset,ue=S.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo($-Be[0],ue-Be[1])}attemptFocus(j){return j.focus(),this.document.activeElement===j}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Wn(this.window.history)||Wn(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function Wn(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Er{}},7716:(_e,ne,M)=>{"use strict";M.d(ne,{deG:()=>ju,tb:()=>vv,AFp:()=>mv,ip1:()=>up,CZH:()=>Tc,hGG:()=>VT,z2F:()=>hd,sBO:()=>TI,Sil:()=>fd,_Vd:()=>Hl,EJc:()=>Cv,SBq:()=>Lu,qLn:()=>Fr,vpe:()=>Fu,gxx:()=>nc,tBr:()=>Da,XFs:()=>yt,OlP:()=>kr,zs3:()=>Pr,ZZ4:()=>Gd,aQg:()=>Kd,soG:()=>sf,YKP:()=>ly,v3s:()=>yT,h0i:()=>$l,PXZ:()=>fT,R0b:()=>pa,FiY:()=>gs,Lbi:()=>yv,g9A:()=>_v,Qsj:()=>dI,FYo:()=>zd,JOm:()=>u,Tiy:()=>kh,q3G:()=>qr,PiD:()=>Po,tp0:()=>Oi,EAV:()=>bT,Rgc:()=>ed,dDg:()=>Dv,DyG:()=>Cu,q4F:()=>Lh,GfV:()=>ny,s_b:()=>Zd,ifc:()=>lt,eFA:()=>Ov,G48:()=>sT,Gpc:()=>J,X6Q:()=>gp,_c5:()=>MT,VLi:()=>iT,c2e:()=>Ev,zSh:()=>Hc,wAp:()=>an,vHH:()=>We,EiD:()=>ql,mCW:()=>ca,qzn:()=>f,JVY:()=>V,pB0:()=>At,eBb:()=>Ne,L6k:()=>X,LAX:()=>it,cg1:()=>Th,Tjo:()=>OT,kL8:()=>w_,yhl:()=>D,dqk:()=>vn,sIi:()=>zc,CqO:()=>_h,QGY:()=>mh,F4k:()=>Om,RDi:()=>xn,AaK:()=>G,z3N:()=>c,qOj:()=>ih,TTD:()=>L,_Bn:()=>Q_,xp6:()=>rg,uIk:()=>ah,ekj:()=>bh,Suo:()=>Yy,Xpm:()=>Jt,lG2:()=>Ei,Yz7:()=>In,cJS:()=>fn,oAB:()=>Mr,Yjl:()=>Jr,Y36:()=>Kc,_UZ:()=>Tm,qZA:()=>gh,TgZ:()=>ph,EpF:()=>Rm,n5z:()=>Lt,Ikx:()=>Dh,LFG:()=>gr,$8M:()=>Jn,NdJ:()=>yh,CRH:()=>qy,oxw:()=>Nm,Hsn:()=>Lm,F$t:()=>km,Q6J:()=>fh,s9C:()=>Eh,DdM:()=>Fy,VKq:()=>Uy,iGM:()=>Gy,MAs:()=>pm,CHM:()=>Io,oJD:()=>Zl,LSH:()=>Ql,kYT:()=>Vr,YNc:()=>hm,_uU:()=>s_,Oqu:()=>wh,hij:()=>Ud,Gf:()=>Ky});var b=M(9765),I=M(5319),fe=M(8891),F=M(6682),re=M(8819);function Z(e){for(let t in e)if(e[t]===Z)return t;throw Error("Could not find renamed property on target object.")}function ee(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function G(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(G).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Y(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const U=Z({__forward_ref__:Z});function J(e){return e.__forward_ref__=J,e.toString=function(){return G(this())},e}function B(e){return se(e)?e():e}function se(e){return"function"==typeof e&&e.hasOwnProperty(U)&&e.__forward_ref__===J}class We extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}function Fe(e,t){const n=t?` in ${t}`:"";throw new We("201",`No provider for ${Ke(e)} found${n}`)}function Ct(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function In(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function en(e){return mn(e,Zr)||mn(e,Wr)}function mn(e,t){return e.hasOwnProperty(t)?e[t]:null}function ar(e){return e&&(e.hasOwnProperty(qn)||e.hasOwnProperty(Qr))?e[qn]:null}const Zr=Z({\u0275prov:Z}),qn=Z({\u0275inj:Z}),Wr=Z({ngInjectableDef:Z}),Qr=Z({ngInjectorDef:Z});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Kn;function Sr(e){const t=Kn;return Kn=e,t}function wt(e,t,n){const r=en(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&yt.Optional?null:void 0!==t?t:void Fe(G(e),"Injector")}function nn(e){return{toString:e}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const St="undefined"!=typeof globalThis&&globalThis,Kt="undefined"!=typeof window&&window,ci="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mn="undefined"!=typeof global&&global,vn=St||Mn||Kt||ci,kn={},ce=[],ie=Z({\u0275cmp:Z}),Te=Z({\u0275dir:Z}),xe=Z({\u0275pipe:Z}),Ie=Z({\u0275mod:Z}),at=Z({\u0275loc:Z}),ft=Z({\u0275fac:Z}),Nt=Z({__NG_ELEMENT_ID__:Z});let En=0;function Jt(e){return nn(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ce,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,id:"c",styles:e.styles||ce,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,a=e.features,l=e.pipes;return r.id+=En++,r.inputs=Gr(e.inputs,n),r.outputs=Gr(e.outputs),a&&a.forEach(h=>h(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(cr):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(er):null,r})}function cr(e){return It(e)||function(e){return e[Te]||null}(e)}function er(e){return function(e){return e[xe]||null}(e)}const oi={};function Mr(e){return nn(()=>{const t={type:e.type,bootstrap:e.bootstrap||ce,declarations:e.declarations||ce,imports:e.imports||ce,exports:e.exports||ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(oi[e.id]=e.type),t})}function Vr(e,t){return nn(()=>{const n=Zn(e,!0);n.declarations=t.declarations||ce,n.imports=t.imports||ce,n.exports=t.exports||ce})}function Gr(e,t){if(null==e)return kn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}const Ei=Jt;function Jr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function It(e){return e[ie]||null}function Zn(e,t){const n=e[Ie]||null;if(!n&&!0===t)throw new Error(`Type ${G(e)} does not have '\u0275mod' property.`);return n}function Vt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Dn(e){return Array.isArray(e)&&!0===e[1]}function hn(e){return 0!=(8&e.flags)}function un(e){return 2==(2&e.flags)}function hi(e){return 1==(1&e.flags)}function Kr(e){return null!==e.template}function $n(e){return 0!=(512&e[2])}function Qn(e,t){return e.hasOwnProperty(ft)?e[ft]:null}class H{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function L(){return te}function te(e){return e.type.prototype.ngOnChanges&&(e.setInput=De),ge}function ge(){const e=ot(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function De(e,t,n,r){const i=ot(e)||function(e,t){return e[Ye]=t}(e,{previous:kn,current:null}),a=i.current||(i.current={}),l=i.previous,h=this.declaredInputs[n],v=l[h];a[h]=new H(v&&v.currentValue,t,l===kn),e[r]=t}L.ngInherit=!0;const Ye="__ngSimpleChanges__";function ot(e){return e[Ye]||null}let Wn;function xn(e){Wn=e}function vr(){return void 0!==Wn?Wn:"undefined"!=typeof document?document:void 0}function R(e){return!!e.listen}const S={createRenderer:(e,t)=>vr()};function ue(e){for(;Array.isArray(e);)e=e[0];return e}function _t(e,t){return ue(t[e])}function Xt(e,t){return ue(t[e.index])}function Fn(e,t){return e.data[t]}function Cn(e,t){const n=t[e];return Vt(n)?n:n[0]}function Vn(e){return 4==(4&e[2])}function Cr(e){return 128==(128&e[2])}function fr(e,t){return null==t?null:e[t]}function Ii(e){e[18]=0}function ai(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Mt={lFrame:mu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vo(){return Mt.bindingsEnabled}function Xe(){return Mt.lFrame.lView}function An(){return Mt.lFrame.tView}function Io(e){return Mt.lFrame.contextLView=e,e[8]}function br(){let e=_a();for(;null!==e&&64===e.type;)e=e.parent;return e}function _a(){return Mt.lFrame.currentTNode}function wi(e,t){const n=Mt.lFrame;n.currentTNode=e,n.isParent=t}function ya(){return Mt.lFrame.isParent}function ls(){Mt.lFrame.isParent=!1}function io(){return Mt.isInCheckNoChangesMode}function Di(e){Mt.isInCheckNoChangesMode=e}function Yr(){const e=Mt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bs(){return Mt.lFrame.bindingIndex++}function Ho(e,t){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=e,$o(t)}function $o(e){Mt.lFrame.currentDirectiveIndex=e}function Bs(){return Mt.lFrame.currentQueryIndex}function Ea(e){Mt.lFrame.currentQueryIndex=e}function ki(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function cs(e,t,n){if(n&yt.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&yt.Host||(i=ki(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,e=a}const r=Mt.lFrame=Ki();return r.currentTNode=t,r.lView=e,!0}function ds(e){const t=Ki(),n=e[1];Mt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ki(){const e=Mt.lFrame,t=null===e?null:e.child;return null===t?mu(e):t}function mu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function _u(){const e=Mt.lFrame;return Mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wo=_u;function yu(){const e=_u();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ri(){return Mt.lFrame.selectedIndex}function ws(e){Mt.lFrame.selectedIndex=e}function sr(){const e=Mt.lFrame;return Fn(e.tView,e.selectedIndex)}function Go(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:h,ngAfterViewInit:v,ngAfterViewChecked:T,ngOnDestroy:k}=a;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),v&&(e.viewHooks||(e.viewHooks=[])).push(-n,v),T&&((e.viewHooks||(e.viewHooks=[])).push(n,T),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,T)),null!=k&&(e.destroyHooks||(e.destroyHooks=[])).push(n,k)}}function oo(e,t,n){Ua(e,t,3,n)}function Hs(e,t,n,r){(3&e[2])===n&&Ua(e,t,n,r)}function qi(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ua(e,t,n,r){const a=null!=r?r:-1,l=t.length-1;let h=0;for(let v=void 0!==r?65535&e[18]:0;v<l;v++)if("number"==typeof t[v+1]){if(h=t[v],null!=r&&h>=r)break}else t[v]<0&&(e[18]+=65536),(h<a||-1==a)&&(or(e,n,t,v),e[18]=(4294901760&e[18])+v+2),v++}function or(e,t,n,r){const i=n[r]<0,a=n[r+1],h=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(h)}finally{}}}else try{a.call(h)}finally{}}class Ti{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function hs(e,t,n){const r=R(e);let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const l=n[i++],h=n[i++],v=n[i++];r?e.setAttribute(t,h,v,l):t.setAttributeNS(l,h,v)}else{const l=a,h=n[++i];hr(l)?r&&e.setProperty(t,l,h):r?e.setAttribute(t,l,h):t.setAttribute(l,h),i++}}return i}function Do(e){return 3===e||4===e||6===e}function hr(e){return 64===e.charCodeAt(0)}function To(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Va(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Va(e,t,n,r,i){let a=0,l=e.length;if(-1===t)l=-1;else for(;a<e.length;){const h=e[a++];if("number"==typeof h){if(h===t){l=-1;break}if(h>t){l=a-1;break}}}for(;a<e.length;){const h=e[a];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==l&&(e.splice(l,0,t),a=l+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function $s(e){return-1!==e}function Ts(e){return 32767&e}function ao(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ss=!0;function uo(e){const t=Ss;return Ss=e,t}let Ws=0;function Ai(e,t){const n=zs(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,pr(r.data,e),pr(t,null),pr(r.blueprint,null));const i=Gs(e,t),a=e.injectorIndex;if($s(i)){const l=Ts(i),h=ao(i,t),v=h[1].data;for(let T=0;T<8;T++)t[a+T]=h[l+T]|v[l+T]}return t[a+8]=i,a}function pr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zs(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Gs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const a=i[1],l=a.type;if(r=2===l?a.declTNode:1===l?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function co(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nt)&&(r=n[Nt]),null==r&&(r=n[Nt]=Ws++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ba(e,t,n){if(n&yt.Optional)return e;Fe(t,"NodeInjector")}function As(e,t,n,r){if(n&yt.Optional&&void 0===r&&(r=null),0==(n&(yt.Self|yt.Host))){const i=e[9],a=Sr(void 0);try{return i?i.get(t,r,n&yt.Optional):wt(t,r,n&yt.Optional)}finally{Sr(a)}}return Ba(r,t,n)}function w(e,t,n,r=yt.Default,i){if(null!==e){const a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Nt)?e[Nt]:void 0;return"number"==typeof t?t>=0?255&t:g:t}(n);if("function"==typeof a){if(!cs(t,e,r))return r&yt.Host?Ba(i,n,r):As(t,n,r,i);try{const l=a(r);if(null!=l||r&yt.Optional)return l;Fe(n)}finally{Wo()}}else if("number"==typeof a){let l=null,h=zs(e,t),v=-1,T=r&yt.Host?t[16][6]:null;for((-1===h||r&yt.SkipSelf)&&(v=-1===h?Gs(e,t):t[h+8],-1!==v&&Ze(r,!1)?(l=t[1],h=Ts(v),t=ao(v,t)):h=-1);-1!==h;){const k=t[1];if(me(a,h,k.data)){const K=O(h,t,n,l,r,T);if(K!==_)return K}v=t[h+8],-1!==v&&Ze(r,t[1].data[h+8]===T)&&me(a,h,t)?(l=k,h=Ts(v),t=ao(v,t)):h=-1}}}return As(t,n,r,i)}const _={};function g(){return new mt(br(),Xe())}function O(e,t,n,r,i,a){const l=t[1],h=l.data[e+8],k=N(h,l,n,null==r?un(h)&&Ss:r!=l&&0!=(3&h.type),i&yt.Host&&a===h);return null!==k?W(t,l,k,h):_}function N(e,t,n,r,i){const a=e.providerIndexes,l=t.data,h=1048575&a,v=e.directiveStart,k=a>>20,Q=i?h+k:e.directiveEnd;for(let he=r?h:h+k;he<Q;he++){const ve=l[he];if(he<v&&n===ve||he>=v&&ve.type===n)return he}if(i){const he=l[v];if(he&&Kr(he)&&he.type===n)return v}return null}function W(e,t,n,r){let i=e[n];const a=t.data;if(function(e){return e instanceof Ti}(i)){const l=i;l.resolving&&function(e,t){throw new We("200",`Circular dependency in DI detected for ${e}`)}(Ke(a[n]));const h=uo(l.canSeeViewProviders);l.resolving=!0;const v=l.injectImpl?Sr(l.injectImpl):null;cs(e,r,yt.Default);try{i=e[n]=l.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const l=te(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==v&&Sr(v),uo(h),l.resolving=!1,Wo()}}return i}function me(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ze(e,t){return!(e&yt.Self||e&yt.Host&&t)}class mt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return w(this._tNode,this._lView,t,void 0,n)}}function Lt(e){return nn(()=>{const t=e.prototype.constructor,n=t[ft]||cn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[ft]||cn(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function cn(e){return se(e)?()=>{const t=cn(B(e));return t&&t()}:Qn(e)}function Jn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const a=n[i];if(Do(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}}return null}(br(),e)}const mi="__parameters__";function Ri(e,t,n){return nn(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const l=new i(...a);return h.annotation=l,h;function h(v,T,k){const K=v.hasOwnProperty(mi)?v[mi]:Object.defineProperty(v,mi,{value:[]})[mi];for(;K.length<=k;)K.push(null);return(K[k]=K[k]||[]).push(l),v}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class kr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=In({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ju=new kr("AnalyzeForEntryComponents"),Cu=Function;function Lr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Lr(r,t)):t!==e&&t.push(r)}return t}function Li(e,t){e.forEach(n=>Array.isArray(n)?Li(n,t):t(n))}function Xo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function go(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function mo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function ui(e,t,n){let r=$r(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Du(e,t){const n=$r(e,t);if(n>=0)return e[1|n]}function $r(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const a=r+(i-r>>1),l=e[a<<n];if(t===l)return a<<n;l>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}const na={},Ao="__NG_DI_FLAG__",qs="ngTempTokenPath",zu=/\n/gm,ra="__source",ia=Z({provide:String,useValue:Z});let sa;function Zs(e){const t=sa;return sa=e,t}function Ro(e,t=yt.Default){if(void 0===sa)throw new Error("inject() must be called from an injection context");return null===sa?wt(e,void 0,t):sa.get(e,t&yt.Optional?null:void 0,t)}function gr(e,t=yt.Default){return(Kn||Ro)(B(e),t)}function Xi(e){const t=[];for(let n=0;n<e.length;n++){const r=B(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,a=yt.Default;for(let l=0;l<r.length;l++){const h=r[l],v=qa(h);"number"==typeof v?-1===v?i=h.token:a|=v:i=h}t.push(gr(i,a))}else t.push(gr(r))}return t}function Oo(e,t){return e[Ao]=t,e.prototype[Ao]=t,e}function qa(e){return e[Ao]}function wa(e,t,n,r){const i=e[qs];throw t[ra]&&i.unshift(t[ra]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=G(t);if(Array.isArray(t))i=t.map(G).join(" -> ");else if("object"==typeof t){let a=[];for(let l in t)if(t.hasOwnProperty(l)){let h=t[l];a.push(l+":"+("string"==typeof h?JSON.stringify(h):G(h)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(zu,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[qs]=null,e}const Da=Oo(Ri("Inject",e=>({token:e})),-1),gs=Oo(Ri("Optional"),8),Po=Oo(Ri("Self"),2),Oi=Oo(Ri("SkipSelf"),4);let No,_o;function Qs(e){var t;return(null===(t=function(){if(void 0===No&&(No=null,vn.trustedTypes))try{No=vn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return No}())||void 0===t?void 0:t.createHTML(e))||e}function Ja(e){var t;return(null===(t=function(){if(void 0===_o&&(_o=null,vn.trustedTypes))try{_o=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return _o}())||void 0===t?void 0:t.createHTML(e))||e}class Js{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ou extends Js{getTypeName(){return"HTML"}}class xl extends Js{getTypeName(){return"Style"}}class el extends Js{getTypeName(){return"Script"}}class Nl extends Js{getTypeName(){return"URL"}}class y extends Js{getTypeName(){return"ResourceURL"}}function c(e){return e instanceof Js?e.changingThisBreaksApplicationSecurity:e}function f(e,t){const n=D(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function D(e){return e instanceof Js&&e.getTypeName()||null}function V(e){return new Ou(e)}function X(e){return new xl(e)}function Ne(e){return new el(e)}function it(e){return new Nl(e)}function At(e){return new y(e)}class bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Qs(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Rr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Qs(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Qs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const l=n.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&t.removeAttribute(l)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const ts=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,la=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ca(e){return(e=String(e)).match(ts)||e.match(la)?e:"unsafe:"+e}function ns(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ko(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const da=ns("area,br,col,hr,img,wbr"),eu=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ta=ns("rp,rt"),nl=ko(da,ko(eu,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ko(Ta,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ko(Ta,eu)),Aa=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tu=ns("srcset"),rs=ko(Aa,tu,ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),El=ns("script,style,template");class yo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!nl.hasOwnProperty(n))return this.sanitizedSomething=!0,!El.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),l=a.name,h=l.toLowerCase();if(!rs.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let v=a.value;Aa[h]&&(v=ca(v)),tu[h]&&(e=v,v=(e=String(e)).split(",").map(t=>ca(t.trim())).join(", ")),this.buf.push(" ",l,'="',fa(v),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();nl.hasOwnProperty(n)&&!da.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(fa(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Cl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xs=/([^\#-~ |!])/g;function fa(e){return e.replace(/&/g,"&amp;").replace(Cl,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(xs,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pu;function ql(e,t){let n=null;try{Pu=Pu||function(e){const t=new Rr(e);return function(){try{return!!(new window.DOMParser).parseFromString(Qs(""),"text/html")}catch(e){return!1}}()?new bn(t):t}(e);let r=t?String(t):"";n=Pu.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=Pu.getInertBodyElement(r)}while(r!==a);return Qs((new yo).sanitizeChildren(Ra(n)||n))}finally{if(n){const r=Ra(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ra(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var qr=(()=>((qr=qr||{})[qr.NONE=0]="NONE",qr[qr.HTML=1]="HTML",qr[qr.STYLE=2]="STYLE",qr[qr.SCRIPT=3]="SCRIPT",qr[qr.URL=4]="URL",qr[qr.RESOURCE_URL=5]="RESOURCE_URL",qr))();function Zl(e){const t=kl();return t?Ja(t.sanitize(qr.HTML,e)||""):f(e,"HTML")?Ja(c(e)):ql(vr(),Re(e))}function Ql(e){const t=kl();return t?t.sanitize(qr.URL,e)||"":f(e,"URL")?c(e):ca(Re(e))}function kl(){const e=Xe();return e&&e[12]}const Id="__ngContext__";function Pi(e,t){e[Id]=t}function p(e){const t=function(e){return e[Id]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function pi(e){return e.ngOriginalError}function Or(e,...t){e.error(...t)}class Fr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),i=(e=t)&&e.ngErrorLogger||Or;var e;i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(pi(t)):null}_findOriginalError(t){let n=t&&pi(t);for(;n&&pi(n);)n=pi(n);return n||null}}const Cf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vn))();function ru(e){return e instanceof Function?e():e}var u=(()=>((u=u||{})[u.Important=1]="Important",u[u.DashCase=2]="DashCase",u))();function s(e,t){return undefined(e,t)}function A(e){const t=e[3];return Dn(t)?t[3]:t}function ae(e){return Ge(e[13])}function pe(e){return Ge(e[4])}function Ge(e){for(;null!==e&&!Dn(e);)e=e[4];return e}function Qe(e,t,n,r,i){if(null!=r){let a,l=!1;Dn(r)?a=r:Vt(r)&&(l=!0,r=r[0]);const h=ue(r);0===e&&null!==n?null==i?Hp(t,n,h):Vl(t,n,h,i||null,!0):1===e&&null!==n?Vl(t,n,h,i||null,!0):2===e?function(e,t,n){const r=Dd(e,t);r&&function(e,t,n,r){R(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,h,l):3===e&&t.destroyNode(h),null!=a&&function(e,t,n,r,i){const a=n[7];a!==ue(n)&&Qe(t,e,r,a,i);for(let h=10;h<n.length;h++){const v=n[h];Vc(v[1],v,e,t,r,a)}}(t,e,a,n,i)}}function xi(e,t,n){return R(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Up(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,ai(i,-1)),n.splice(r,1)}function Tf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Up(i,r),t>0&&(e[n-1][4]=r[4]);const a=go(e,10+t);!function(e,t){Vc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=a[19];null!==l&&l.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Vp(e,t){if(!(256&t[2])){const n=t[11];R(n)&&n.destroyNode&&Vc(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Sf(e[1],e);for(;t;){let n=null;if(Vt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Vt(t)&&Sf(t[1],t),t=t[3];null===t&&(t=e),Vt(t)&&Sf(t[1],t),n=t&&t[4]}t=n}}(t)}}function Sf(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ti)){const a=n[r+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const h=i[a[l]],v=a[l+1];try{v.call(h)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const l=n[a+1],h="function"==typeof l?l(t):ue(t[l]),v=r[i=n[a+2]],T=n[a+3];"boolean"==typeof T?h.removeEventListener(n[a],v,T):T>=0?r[i=T]():r[i=-T].unsubscribe(),a+=2}else{const l=r[i=n[a+1]];n[a].call(l)}if(null!==r){for(let a=i+1;a<r.length;a++)r[a]();t[7]=null}}(e,t),1===t[1].type&&R(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Dn(t[3])){n!==t[3]&&Up(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function jp(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===lt.None||i===lt.Emulated)return null}return Xt(r,n)}(e,t.parent,n)}function Vl(e,t,n,r,i){R(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Hp(e,t,n){R(e)?e.appendChild(t,n):t.appendChild(n)}function $p(e,t,n,r,i){null!==r?Vl(e,t,n,r,i):Hp(e,t,n)}function Dd(e,t){return R(e)?e.parentNode(t):t.parentNode}function Wp(e,t,n){return Gp(e,t,n)}let Gp=function(e,t,n){return 40&e.type?Xt(e,n):null};function Td(e,t,n,r){const i=jp(e,r,t),a=t[11],h=Wp(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let v=0;v<n.length;v++)$p(a,i,n[v],h,!1);else $p(a,i,n,h,!1)}function Sd(e,t){if(null!==t){const n=t.type;if(3&n)return Xt(t,e);if(4&n)return Rf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Sd(e,r);{const i=e[t.index];return Dn(i)?Rf(-1,i):ue(i)}}if(32&n)return s(t,e)()||ue(e[t.index]);{const r=Yp(e,t);return null!==r?Array.isArray(r)?r[0]:Sd(A(e[16]),r):Sd(e,t.next)}}return null}function Yp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Rf(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Sd(r,i)}return t[7]}function Of(e,t,n,r,i,a,l){for(;null!=n;){const h=r[n.index],v=n.type;if(l&&0===t&&(h&&Pi(ue(h),r),n.flags|=4),64!=(64&n.flags))if(8&v)Of(e,t,n.child,r,i,a,!1),Qe(t,e,i,h,a);else if(32&v){const T=s(n,r);let k;for(;k=T();)Qe(t,e,i,k,a);Qe(t,e,i,h,a)}else 16&v?Zp(e,t,r,n,i,a):Qe(t,e,i,h,a);n=l?n.projectionNext:n.next}}function Vc(e,t,n,r,i,a){Of(n,r,e.firstChild,t,i,a,!1)}function Zp(e,t,n,r,i,a){const l=n[16],v=l[6].projection[r.projection];if(Array.isArray(v))for(let T=0;T<v.length;T++)Qe(t,e,i,v[T],a);else Of(e,t,v,l[3],i,a,!0)}function Qp(e,t,n){R(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Pf(e,t,n){R(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const Xp="ng-template";function vE(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Jp(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function eg(e){return 4===e.type&&e.value!==Xp}function EE(e,t,n){return t===(4!==e.type||n?e.value:Xp)}function CE(e,t,n){let r=4;const i=e.attrs||[],a=function(e){for(let t=0;t<e.length;t++)if(Do(e[t]))return t;return e.length}(i);let l=!1;for(let h=0;h<t.length;h++){const v=t[h];if("number"!=typeof v){if(!l)if(4&r){if(r=2|1&r,""!==v&&!EE(e,v,n)||""===v&&1===t.length){if(iu(r))return!1;l=!0}}else{const T=8&r?v:t[++h];if(8&r&&null!==e.attrs){if(!vE(e.attrs,T,n)){if(iu(r))return!1;l=!0}continue}const K=bE(8&r?"class":v,i,eg(e),n);if(-1===K){if(iu(r))return!1;l=!0;continue}if(""!==T){let Q;Q=K>a?"":i[K+1].toLowerCase();const he=8&r?Q:null;if(he&&-1!==Jp(he,T,0)||2&r&&T!==Q){if(iu(r))return!1;l=!0}}}}else{if(!l&&!iu(r)&&!iu(v))return!1;if(l&&iu(v))continue;l=!1,r=v|1&r}}return iu(r)||l}function iu(e){return 0==(1&e)}function bE(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)a=!0;else{if(1===l||2===l){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function tg(e,t,n=!1){for(let r=0;r<t.length;r++)if(CE(e,t[r],n))return!0;return!1}function TE(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function ng(e,t){return e?":not("+t.trim()+")":t}function SE(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const h=e[++n];i+="["+l+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!iu(l)&&(t+=ng(a,i),i=""),r=l,a=a||!iu(r);n++}return""!==i&&(t+=ng(a,i)),t}const On={};function rg(e){ig(An(),Xe(),ri()+e,io())}function ig(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&oo(t,a,n)}else{const a=e.preOrderHooks;null!==a&&Hs(t,a,0,n)}ws(n)}function Ad(e,t){return e<<17|t<<2}function su(e){return e>>17&32767}function Mf(e){return 2|e}function il(e){return(131068&e)>>2}function xf(e,t){return-131069&e|t<<2}function Nf(e){return 1|e}function pg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],a=n[r+1];if(-1!==a){const l=e.data[a];Ea(i),l.contentQueries(2,t[a],a)}}}function jc(e,t,n,r,i,a,l,h,v,T){const k=t.blueprint.slice();return k[0]=i,k[2]=140|r,Ii(k),k[3]=k[15]=e,k[8]=n,k[10]=l||e&&e[10],k[11]=h||e&&e[11],k[12]=v||e&&e[12]||null,k[9]=T||e&&e[9]||null,k[6]=a,k[16]=2==t.type?e[16]:k,k}function Xl(e,t,n,r,i){let a=e.data[t];if(null===a)a=function(e,t,n,r,i){const a=_a(),l=ya(),v=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=v),null!==a&&(l?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v)),v}(e,t,n,r,i),Mt.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const l=function(){const e=Mt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return wi(a,!0),a}function ec(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Bc(e,t,n){ds(t);try{const r=e.viewQuery;null!==r&&Zf(1,r,n);const i=e.template;null!==i&&gg(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pg(e,t),e.staticViewQueries&&Zf(2,e.viewQuery,n);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)oC(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,yu()}}function tc(e,t,n,r){const i=t[2];if(256==(256&i))return;ds(t);const a=io();try{Ii(t),function(e){Mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&gg(e,t,n,2,r);const l=3==(3&i);if(!a)if(l){const T=e.preOrderCheckHooks;null!==T&&oo(t,T,null)}else{const T=e.preOrderHooks;null!==T&&Hs(t,T,0,null),qi(t,0)}if(function(e){for(let t=ae(e);null!==t;t=pe(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],a=i[3];0==(1024&i[2])&&ai(a,1),i[2]|=1024}}}(t),function(e){for(let t=ae(e);null!==t;t=pe(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Cr(r)&&tc(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&pg(e,t),!a)if(l){const T=e.contentCheckHooks;null!==T&&oo(t,T)}else{const T=e.contentHooks;null!==T&&Hs(t,T,1),qi(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ws(~i);else{const a=i,l=n[++r],h=n[++r];Ho(l,a),h(2,t[a])}}}finally{ws(-1)}}(e,t);const h=e.components;null!==h&&function(e,t){for(let n=0;n<t.length;n++)sC(e,t[n])}(t,h);const v=e.viewQuery;if(null!==v&&Zf(2,v,r),!a)if(l){const T=e.viewCheckHooks;null!==T&&oo(t,T)}else{const T=e.viewHooks;null!==T&&Hs(t,T,2),qi(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ai(t[3],-1))}finally{yu()}}function jE(e,t,n,r){const i=t[10],a=!io(),l=Vn(t);try{a&&!l&&i.begin&&i.begin(),l&&Bc(e,t,r),tc(e,t,n,r)}finally{a&&!l&&i.end&&i.end()}}function gg(e,t,n,r,i){const a=ri(),l=2&r;try{ws(-1),l&&t.length>20&&ig(e,t,20,io()),n(r,i)}finally{ws(a)}}function Hf(e,t,n){!Vo()||(function(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Ai(n,t),Pi(r,t);const l=n.initialInputs;for(let h=i;h<a;h++){const v=e.data[h],T=Kr(v);T&&eC(t,n,v);const k=W(t,e,h,n);Pi(k,t),null!==l&&tC(0,h-i,k,v,0,l),T&&(Cn(n.index,t)[8]=k)}}(e,t,n,Xt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,l=n.index,h=Mt.lFrame.currentDirectiveIndex;try{ws(l);for(let v=r;v<i;v++){const T=e.data[v],k=t[v];$o(v),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&wg(T,k)}}finally{ws(-1),$o(h)}}(e,t,n))}function $f(e,t,n=Xt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const l=r[a+1],h=-1===l?n(t,e):e[l];e[i++]=h}}}function _g(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pd(e,t,n,r,i,a,l,h,v,T){const k=20+r,K=k+i,Q=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:On);return n}(k,K),he="function"==typeof T?T():T;return Q[1]={type:e,blueprint:Q,template:n,queries:null,viewQuery:h,declTNode:t,data:Q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:he,incompleteFirstPass:!1}}function Eg(e,t,n,r){const i=Og(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Pg(e).push(r,i.length-1))}function Cg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ha(e,t,n,r,i,a,l,h){const v=Xt(t,n);let k,T=t.inputs;!h&&null!=T&&(k=T[r])?(Ng(e,n,k,r,i),un(t)&&function(e,t){const n=Cn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=l?l(i,t.value||"",r):i,R(a)?a.setProperty(v,r,i):hr(r)||(v.setProperty?v.setProperty(r,i):v[r]=i))}function Wf(e,t,n,r){let i=!1;if(Vo()){const a=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];tg(n,l.selectors,!1)&&(i||(i=[]),co(Ai(n,t),e,l.type),Kr(l)?(Dg(e,n),i.unshift(l)):i.push(l))}return i}(e,t,n),l=null===r?null:{"":-1};if(null!==a){i=!0,Tg(n,e.data.length,a.length);for(let k=0;k<a.length;k++){const K=a[k];K.providersResolver&&K.providersResolver(K)}let h=!1,v=!1,T=ec(e,t,a.length,null);for(let k=0;k<a.length;k++){const K=a[k];n.mergedAttrs=To(n.mergedAttrs,K.hostAttrs),Sg(e,n,t,T,K),XE(T,K,l),null!==K.contentQueries&&(n.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(n.flags|=128);const Q=K.type.prototype;!h&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),h=!0),!v&&(Q.ngOnChanges||Q.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),v=!0),T++}!function(e,t){const r=t.directiveEnd,i=e.data,a=t.attrs,l=[];let h=null,v=null;for(let T=t.directiveStart;T<r;T++){const k=i[T],K=k.inputs,Q=null===a||eg(t)?null:nC(K,a);l.push(Q),h=Cg(K,T,h),v=Cg(k.outputs,T,v)}null!==h&&(h.hasOwnProperty("class")&&(t.flags|=16),h.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=h,t.outputs=v}(e,n)}l&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new We("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],a)}}}(n,r,l)}return n.mergedAttrs=To(n.mergedAttrs,n.attrs),i}function Ig(e,t,n,r,i,a){const l=a.hostBindings;if(l){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const v=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=v&&h.push(v),h.push(r,i,l)}}function wg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Dg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function XE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kr(t)&&(n[""]=e)}}function Tg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Sg(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=Qn(i.type)),l=new Ti(a,Kr(i),null);e.blueprint[r]=l,n[r]=l,Ig(e,t,0,r,ec(e,n,i.hostVars,On),i)}function eC(e,t,n){const r=Xt(t,e),i=_g(n),a=e[10],l=Md(e,jc(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=l}function Mu(e,t,n,r,i,a){const l=Xt(e,t);!function(e,t,n,r,i,a,l){if(null==a)R(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const h=null==l?Re(a):l(a,r||"",i);R(e)?e.setAttribute(t,i,h,n):n?t.setAttributeNS(n,i,h):t.setAttribute(i,h)}}(t[11],l,a,e.value,n,r,i)}function tC(e,t,n,r,i,a){const l=a[t];if(null!==l){const h=r.setInput;for(let v=0;v<l.length;){const T=l[v++],k=l[v++],K=l[v++];null!==h?r.setInput(n,K,T,k):n[k]=K}}}function nC(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ag(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function sC(e,t){const n=Cn(t,e);if(Cr(n)){const r=n[1];80&n[2]?tc(r,n,r.template,n[8]):n[5]>0&&Gf(n)}}function Gf(e){for(let r=ae(e);null!==r;r=pe(r))for(let i=10;i<r.length;i++){const a=r[i];if(1024&a[2]){const l=a[1];tc(l,a,l.template,a[8])}else a[5]>0&&Gf(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Cn(n[r],e);Cr(i)&&i[5]>0&&Gf(i)}}function oC(e,t){const n=Cn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Bc(r,n,n[8])}function Md(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Kf(e){for(;e;){e[2]|=64;const t=A(e);if($n(e)&&!t)return e;e=t}return null}function qf(e,t,n){const r=t[10];r.begin&&r.begin();try{tc(e,t,e.template,n)}catch(i){throw xg(t,i),i}finally{r.end&&r.end()}}function Rg(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=p(n),i=r[1];jE(i,r,i.template,n)}}(e[8])}function Zf(e,t,n){Ea(0),t(e,n)}const dC=(()=>Promise.resolve(null))();function Og(e){return e[7]||(e[7]=[])}function Pg(e){return e.cleanup||(e.cleanup=[])}function xg(e,t){const n=e[9],r=n?n.get(Fr,null):null;r&&r.handleError(t)}function Ng(e,t,n,r,i){for(let a=0;a<n.length;){const l=n[a++],h=n[a++],v=t[l],T=e.data[l];null!==T.setInput?T.setInput(v,i,r,h):v[h]=i}}function ol(e,t,n){const r=_t(t,e);!function(e,t,n){R(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function xd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let l=0;l<t.length;l++){const h=t[l];"number"==typeof h?a=h:1==a?i=Y(i,h):2==a&&(r=Y(r,h+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const nc=new kr("INJECTOR",-1);class kg{get(t,n=na){if(n===na){const r=new Error(`NullInjectorError: No provider for ${G(t)}!`);throw r.name="NullInjectorError",r}return n}}const Hc=new kr("Set Injector scope."),$c={},pC={};let Qf;function Lg(){return void 0===Qf&&(Qf=new kg),Qf}function Fg(e,t=null,n=null,r){return new mC(e,n,t||Lg(),r)}class mC{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];n&&Li(n,h=>this.processProvider(h,t,n)),Li([t],h=>this.processInjectorType(h,[],a)),this.records.set(nc,rc(void 0,this));const l=this.records.get(Hc);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof t?null:G(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=na,r=yt.Default){this.assertNotDestroyed();const i=Zs(this),a=Sr(void 0);try{if(!(r&yt.SkipSelf)){let h=this.records.get(t);if(void 0===h){const v=("function"==typeof(e=t)||"object"==typeof e&&e instanceof kr)&&en(t);h=v&&this.injectableDefInScope(v)?rc(Jf(t),$c):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&yt.Self?Lg():this.parent).get(t,n=r&yt.Optional&&n===na?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[qs]=l[qs]||[]).unshift(G(t)),i)throw l;return wa(l,t,"R3InjectorError",this.source)}throw l}finally{Sr(a),Zs(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(G(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=B(t)))return!1;let i=ar(t);const a=null==i&&t.ngModule||void 0,l=void 0===a?t:a,h=-1!==r.indexOf(l);if(void 0!==a&&(i=ar(a)),null==i)return!1;if(null!=i.imports&&!h){let k;r.push(l);try{Li(i.imports,K=>{this.processInjectorType(K,n,r)&&(void 0===k&&(k=[]),k.push(K))})}finally{}if(void 0!==k)for(let K=0;K<k.length;K++){const{ngModule:Q,providers:he}=k[K];Li(he,ve=>this.processProvider(ve,Q,he||ce))}}this.injectorDefTypes.add(l);const v=Qn(l)||(()=>new l);this.records.set(l,rc(v,$c));const T=i.providers;if(null!=T&&!h){const k=t;Li(T,K=>this.processProvider(K,k,T))}return void 0!==a&&void 0!==t.providers}processProvider(t,n,r){let i=ic(t=B(t))?t:B(t&&t.provide);const a=Vg(e=t)?rc(void 0,e.useValue):rc(Ug(e),$c);var e;if(ic(t)||!0!==t.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=rc(void 0,$c,!0),l.factory=()=>Xi(l.multi),this.records.set(i,l)),i=t,l.multi.push(t)}this.records.set(i,a)}hydrate(t,n){return n.value===$c&&(n.value=pC,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=B(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Jf(e){const t=en(e),n=null!==t?t.factory:Qn(e);if(null!==n)return n;if(e instanceof kr)throw new Error(`Token ${G(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=mo(t,"?");throw new Error(`Can't resolve all parameters for ${G(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[Zr]||e[Wr]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ug(e,t,n){let r;if(ic(e)){const i=B(e);return Qn(i)||Jf(i)}if(Vg(e))r=()=>B(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Xi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>gr(B(e.useExisting));else{const i=B(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Qn(i)||Jf(i);r=()=>new i(...Xi(e.deps))}return r}function rc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vg(e){return null!==e&&"object"==typeof e&&ia in e}function ic(e){return"function"==typeof e}const jg=function(e,t,n){return function(e,t=null,n=null,r){const i=Fg(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class Pr{static create(t,n){return Array.isArray(t)?jg(t,n,""):jg(t.providers,t.parent,t.name||"")}}function FC(e,t){Go(p(e)[1],br())}function ih(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Kr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const l=e;l.inputs=sh(e.inputs),l.declaredInputs=sh(e.declaredInputs),l.outputs=sh(e.outputs);const h=i.hostBindings;h&&BC(e,h);const v=i.viewQuery,T=i.contentQueries;if(v&&VC(e,v),T&&jC(e,T),ee(e.inputs,i.inputs),ee(e.declaredInputs,i.declaredInputs),ee(e.outputs,i.outputs),Kr(i)&&i.data.animation){const k=e.data;k.animation=(k.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let l=0;l<a.length;l++){const h=a[l];h&&h.ngInherit&&h(e),h===ih&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=To(i.hostAttrs,n=To(n,i.hostAttrs))}}(r)}function sh(e){return e===kn?{}:e===ce?[]:e}function VC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function jC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,a)=>{t(r,i,a),n(r,i,a)}:t}function BC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}Pr.THROW_IF_NOT_FOUND=na,Pr.NULL=new kg,Pr.\u0275prov=In({token:Pr,providedIn:"any",factory:()=>gr(nc)}),Pr.__NG_ELEMENT_ID__=-1;let Nd=null;function sc(){if(!Nd){const e=vn.Symbol;if(e&&e.iterator)Nd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nd=r)}}}return Nd}function zc(e){return!!oh(e)&&(Array.isArray(e)||!(e instanceof Map)&&sc()in e)}function oh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xu(e,t,n){return e[t]=n}function Xs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ah(e,t,n,r){const i=Xe();return Xs(i,bs(),t)&&(An(),Mu(sr(),i,e,t,n,r)),ah}function ac(e,t,n,r){return Xs(e,bs(),n)?t+Re(n)+r:On}function hm(e,t,n,r,i,a,l,h){const v=Xe(),T=An(),k=e+20,K=T.firstCreatePass?function(e,t,n,r,i,a,l,h,v){const T=t.consts,k=Xl(t,e,4,l||null,fr(T,h));Wf(t,n,k,fr(T,v)),Go(t,k);const K=k.tViews=Pd(2,k,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T);return null!==t.queries&&(t.queries.template(t,k),K.queries=t.queries.embeddedTView(k)),k}(k,T,v,t,n,r,i,a,l):T.data[k];wi(K,!1);const Q=v[11].createComment("");Td(T,v,Q,K),Pi(Q,v),Md(v,v[k]=Ag(Q,v,Q,K)),hi(K)&&Hf(T,v,K),null!=l&&$f(v,K,h)}function pm(e){return function(e,t){return e[t]}(Mt.lFrame.contextLView,20+e)}function Kc(e,t=yt.Default){const n=Xe();return null===n?gr(e,t):w(br(),n,B(e),t)}function fh(e,t,n){const r=Xe();return Xs(r,bs(),t)&&ha(An(),sr(),r,e,t,r[11],n,!1),fh}function hh(e,t,n,r,i){const l=i?"class":"style";Ng(e,n,t.inputs[l],l,r)}function ph(e,t,n,r){const i=Xe(),a=An(),l=20+e,h=i[11],v=i[l]=xi(h,t,Mt.lFrame.currentNamespace),T=a.firstCreatePass?function(e,t,n,r,i,a,l){const h=t.consts,T=Xl(t,e,2,i,fr(h,a));return Wf(t,n,T,fr(h,l)),null!==T.attrs&&xd(T,T.attrs,!1),null!==T.mergedAttrs&&xd(T,T.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,T),T}(l,a,i,0,t,n,r):a.data[l];wi(T,!0);const k=T.mergedAttrs;null!==k&&hs(h,v,k);const K=T.classes;null!==K&&Pf(h,v,K);const Q=T.styles;null!==Q&&Qp(h,v,Q),64!=(64&T.flags)&&Td(a,i,v,T),0===Mt.lFrame.elementDepthCount&&Pi(v,i),Mt.lFrame.elementDepthCount++,hi(T)&&(Hf(a,i,T),function(e,t,n){if(hn(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const l=e.data[a];l.contentQueries&&l.contentQueries(1,n[a],a)}}}(a,T,i)),null!==r&&$f(i,T)}function gh(){let e=br();ya()?ls():(e=e.parent,wi(e,!1));const t=e;Mt.lFrame.elementDepthCount--;const n=An();n.firstCreatePass&&(Go(n,e),hn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&hh(n,t,Xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&hh(n,t,Xe(),t.stylesWithoutHost,!1)}function Tm(e,t,n,r){ph(e,t,n,r),gh()}function Rm(){return Xe()}function mh(e){return!!e&&"function"==typeof e.then}function Om(e){return!!e&&"function"==typeof e.subscribe}const _h=Om;function yh(e,t,n,r){const i=Xe(),a=An(),l=br();return function(e,t,n,r,i,a,l,h){const v=hi(r),k=e.firstCreatePass&&Pg(e),K=t[8],Q=Og(t);let he=!0;if(3&r.type||h){const Pe=Xt(r,t),ut=h?h(Pe):Pe,Je=Q.length,$t=h?gn=>h(ue(gn[r.index])):r.index;if(R(n)){let gn=null;if(!h&&v&&(gn=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const l=i[a];if(l===n&&i[a+1]===r){const h=t[7],v=i[a+2];return h.length>v?h[v]:null}"string"==typeof l&&(a+=2)}return null}(e,t,i,r.index)),null!==gn)(gn.__ngLastListenerFn__||gn).__ngNextListenerFn__=a,gn.__ngLastListenerFn__=a,he=!1;else{a=vh(r,t,K,a,!1);const Gn=n.listen(ut,i,a);Q.push(a,Gn),k&&k.push(i,$t,Je,Je+1)}}else a=vh(r,t,K,a,!0),ut.addEventListener(i,a,l),Q.push(a),k&&k.push(i,$t,Je,l)}else a=vh(r,t,K,a,!1);const ve=r.outputs;let $e;if(he&&null!==ve&&($e=ve[i])){const Pe=$e.length;if(Pe)for(let ut=0;ut<Pe;ut+=2){const os=t[$e[ut]][$e[ut+1]].subscribe(a),xa=Q.length;Q.push(a,os),k&&k.push(i,r.index,xa,-(xa+1))}}}(a,i,i[11],l,e,t,!!n,r),yh}function xm(e,t,n,r){try{return!1!==n(r)}catch(i){return xg(e,i),!1}}function vh(e,t,n,r,i){return function a(l){if(l===Function)return r;const h=2&e.flags?Cn(e.index,t):t;0==(32&t[2])&&Kf(h);let v=xm(t,0,r,l),T=a.__ngNextListenerFn__;for(;T;)v=xm(t,0,T,l)&&v,T=T.__ngNextListenerFn__;return i&&!1===v&&(l.preventDefault(),l.returnValue=!1),v}}function Nm(e=1){return function(e){return(Mt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Mt.lFrame.contextLView))[8]}(e)}function bb(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const a=t[i];if("*"!==a){if(null===r?tg(e,a,!0):TE(r,a))return i}else n=i}return n}function km(e){const t=Xe()[16][6];if(!t.projection){const r=t.projection=mo(e?e.length:1,null),i=r.slice();let a=t.child;for(;null!==a;){const l=e?bb(a,e):0;null!==l&&(i[l]?i[l].projectionNext=a:r[l]=a,i[l]=a),a=a.next}}}function Lm(e,t=0,n){const r=Xe(),i=An(),a=Xl(i,20+e,16,null,n||null);null===a.projection&&(a.projection=t),ls(),64!=(64&a.flags)&&function(e,t,n){Zp(t[11],0,t,n,jp(e,n,t),Wp(n.parent||t[6],n,t))}(i,r,a)}function Eh(e,t,n){return Ch(e,"",t,"",n),Eh}function Ch(e,t,n,r,i){const a=Xe(),l=ac(a,t,n,r);return l!==On&&ha(An(),sr(),a,e,l,a[11],i,!1),Ch}function zm(e,t,n,r,i){const a=e[n+1],l=null===t;let h=r?su(a):il(a),v=!1;for(;0!==h&&(!1===v||l);){const k=e[h+1];Db(e[h],t)&&(v=!0,e[h+1]=r?Nf(k):Mf(k)),h=r?su(k):il(k)}v&&(e[n+1]=r?Mf(a):Nf(a))}function Db(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$r(e,t)>=0}function bh(e,t){return function(e,t,n,r){const i=Xe(),a=An(),l=function(e){const t=Mt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);a.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const a=i[ri()],l=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(a,r)&&null===t&&!l&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Mt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Yc(n=Ih(null,e,t,n,r),t.attrs,r),a=null);else{const l=t.directiveStylingLast;if(-1===l||e[l]!==i)if(n=Ih(i,e,t,n,r),null===a){let v=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==il(r))return e[su(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Ih(null,e,t,v[1],r),v=Yc(v,t.attrs,r),function(e,t,n,r){e[su(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else a=function(e,t,n){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=Yc(r,e[a].hostAttrs,n);return Yc(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){let l=a?t.classBindings:t.styleBindings,h=su(l),v=il(l);e[r]=n;let k,T=!1;if(Array.isArray(n)){const K=n;k=K[1],(null===k||$r(K,k)>0)&&(T=!0)}else k=n;if(i)if(0!==v){const Q=su(e[h+1]);e[r+1]=Ad(Q,h),0!==Q&&(e[Q+1]=xf(e[Q+1],r)),e[h+1]=function(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=Ad(h,0),0!==h&&(e[h+1]=xf(e[h+1],r)),h=r;else e[r+1]=Ad(v,0),0===h?h=r:e[v+1]=xf(e[v+1],r),v=r;T&&(e[r+1]=Mf(e[r+1])),zm(e,k,r,!0),zm(e,k,r,!1),function(e,t,n,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&$r(a,t)>=0&&(n[r+1]=Nf(n[r+1]))}(t,k,e,r,a),l=Ad(h,v),a?t.classBindings=l:t.styleBindings=l}(i,a,t,n,l,r)}}(a,e,l,r),t!==On&&Xs(i,l,t)&&function(e,t,n,r,i,a,l,h){if(!(3&t.type))return;const v=e.data,T=v[h+1];Fd(function(e){return 1==(1&e)}(T)?r_(v,t,n,i,il(T),l):void 0)||(Fd(a)||function(e){return 2==(2&e)}(T)&&(a=r_(v,null,n,i,h,l)),function(e,t,n,r,i){const a=R(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:u.DashCase;if(null==i)a?e.removeStyle(n,r,l):n.style.removeProperty(r);else{const h="string"==typeof i&&i.endsWith("!important");h&&(i=i.slice(0,-10),l|=u.Important),a?e.setStyle(n,r,i,l):n.style.setProperty(r,i,h?"important":"")}}}(r,l,_t(ri(),n),i,a))}(a,a.data[ri()],i,i[11],e,i[l+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=G(c(e)))),e}(t,n),r,l)}(e,t,null,!0),bh}function Ih(e,t,n,r,i){let a=null;const l=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<l&&(a=t[h],r=Yc(r,a.hostAttrs,i),a!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Yc(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?i=l:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ui(e,l,!!n||t[++a]))}return void 0===e?null:e}function r_(e,t,n,r,i,a){const l=null===t;let h;for(;i>0;){const v=e[i],T=Array.isArray(v),k=T?v[1]:v,K=null===k;let Q=n[i+1];Q===On&&(Q=K?ce:void 0);let he=K?Du(Q,r):k===r?Q:void 0;if(T&&!Fd(he)&&(he=Du(v,r)),Fd(he)&&(h=he,l))return h;const ve=e[i+1];i=l?su(ve):il(ve)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(h=Du(v,r))}return h}function Fd(e){return void 0!==e}function s_(e,t=""){const n=Xe(),r=An(),i=e+20,a=r.firstCreatePass?Xl(r,i,1,t,null):r.data[i],l=n[i]=function(e,t){return R(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Td(r,n,l,a),wi(a,!1)}function wh(e){return Ud("",e,""),wh}function Ud(e,t,n){const r=Xe(),i=ac(r,e,t,n);return i!==On&&ol(r,ri(),i),Ud}function Dh(e,t,n){const r=Xe();return Xs(r,bs(),t)&&ha(An(),sr(),r,e,t,r[11],n,!0),Dh}const Bl=void 0;var a0=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let _c={};function Th(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=D_(t);if(n)return n;const r=t.split("-")[0];if(n=D_(r),n)return n;if("en"===r)return a0;throw new Error(`Missing locale data for the locale "${e}".`)}function w_(e){return Th(e)[an.PluralCase]}function D_(e){return e in _c||(_c[e]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[e]),_c[e]}var an=(()=>((an=an||{})[an.LocaleId=0]="LocaleId",an[an.DayPeriodsFormat=1]="DayPeriodsFormat",an[an.DayPeriodsStandalone=2]="DayPeriodsStandalone",an[an.DaysFormat=3]="DaysFormat",an[an.DaysStandalone=4]="DaysStandalone",an[an.MonthsFormat=5]="MonthsFormat",an[an.MonthsStandalone=6]="MonthsStandalone",an[an.Eras=7]="Eras",an[an.FirstDayOfWeek=8]="FirstDayOfWeek",an[an.WeekendRange=9]="WeekendRange",an[an.DateFormat=10]="DateFormat",an[an.TimeFormat=11]="TimeFormat",an[an.DateTimeFormat=12]="DateTimeFormat",an[an.NumberSymbols=13]="NumberSymbols",an[an.NumberFormats=14]="NumberFormats",an[an.CurrencyCode=15]="CurrencyCode",an[an.CurrencySymbol=16]="CurrencySymbol",an[an.CurrencyName=17]="CurrencyName",an[an.Currencies=18]="Currencies",an[an.Directionality=19]="Directionality",an[an.PluralCase=20]="PluralCase",an[an.ExtraData=21]="ExtraData",an))();const Vd="en-US";let T_=Vd;function Sh(e){Ct(e,"Expected localeId to be defined"),"string"==typeof e&&(T_=e.toLowerCase().replace(/_/g,"-"))}function Oh(e,t,n,r,i){if(e=B(e),Array.isArray(e))for(let a=0;a<e.length;a++)Oh(e[a],t,n,r,i);else{const a=An(),l=Xe();let h=ic(e)?e:B(e.provide),v=Ug(e);const T=br(),k=1048575&T.providerIndexes,K=T.directiveStart,Q=T.providerIndexes>>20;if(ic(e)||!e.multi){const he=new Ti(v,i,Kc),ve=Mh(h,t,i?k:k+Q,K);-1===ve?(co(Ai(T,l),a,h),Ph(a,e,t.length),t.push(h),T.directiveStart++,T.directiveEnd++,i&&(T.providerIndexes+=1048576),n.push(he),l.push(he)):(n[ve]=he,l[ve]=he)}else{const he=Mh(h,t,k+Q,K),ve=Mh(h,t,k,k+Q),$e=he>=0&&n[he],Pe=ve>=0&&n[ve];if(i&&!Pe||!i&&!$e){co(Ai(T,l),a,h);const ut=function(e,t,n,r,i){const a=new Ti(e,n,Kc);return a.multi=[],a.index=t,a.componentProviders=0,Z_(a,i,r&&!n),a}(i?iI:rI,n.length,i,r,v);!i&&Pe&&(n[ve].providerFactory=ut),Ph(a,e,t.length,0),t.push(h),T.directiveStart++,T.directiveEnd++,i&&(T.providerIndexes+=1048576),n.push(ut),l.push(ut)}else Ph(a,e,he>-1?he:ve,Z_(n[i?ve:he],v,!i&&r));!i&&r&&Pe&&n[ve].componentProviders++}}}function Ph(e,t,n,r){const i=ic(t);if(i||function(e){return!!e.useClass}(t)){const l=(t.useClass||t).prototype.ngOnDestroy;if(l){const h=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const v=h.indexOf(n);-1===v?h.push(n,[r,l]):h[v+1].push(r,l)}else h.push(n,l)}}}function Z_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function rI(e,t,n,r){return xh(this.multi,[])}function iI(e,t,n,r){const i=this.multi;let a;if(this.providerFactory){const l=this.providerFactory.componentProviders,h=W(n,n[1],this.providerFactory.index,r);a=h.slice(0,l),xh(i,a);for(let v=l;v<h.length;v++)a.push(h[v])}else a=[],xh(i,a);return a}function xh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Q_(e,t=[]){return n=>{n.providersResolver=(r,i)=>function(e,t,n){const r=An();if(r.firstCreatePass){const i=Kr(e);Oh(n,r.data,r.blueprint,i,!0),Oh(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class J_{}const ey="ngComponent";class aI{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${G(e)}. Did you add it to @NgModule.entryComponents?`);return t[ey]=e,t}(t)}}class Hl{}function Wd(...e){}function vc(e,t){return new Lu(Xt(e,t))}Hl.NULL=new aI;const cI=function(){return vc(br(),Xe())};let Lu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=cI,e})();function ty(e){return e instanceof Lu?e.nativeElement:e}class zd{}let dI=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hI(),e})();const hI=function(){const e=Xe(),n=Cn(br().index,e);return function(e){return e[11]}(Vt(n)?n:e)};let kh=(()=>{class e{}return e.\u0275prov=In({token:e,providedIn:"root",factory:()=>null}),e})();class ny{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Lh=new ny("12.2.4");class ry{constructor(){}supports(t){return zc(t)}create(t){return new _I(t)}}const mI=(e,t)=>t;class _I{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,a=null;for(;n||r;){const l=!r||n&&n.currentIndex<sy(r,i,a)?n:r,h=sy(l,i,a),v=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(n=n._next,null==l.previousIndex)i++;else{a||(a=[]);const T=h-i,k=v-i;if(T!=k){for(let Q=0;Q<T;Q++){const he=Q<a.length?a[Q]:a[Q]=0,ve=he+Q;k<=ve&&ve<T&&(a[Q]=he+1)}a[l.previousIndex]=k-T}}h!==v&&t(l,h,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!zc(t))throw new Error(`Error trying to diff '${G(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,l,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)a=t[h],l=this._trackByFn(h,a),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,a,l,h)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,l,h),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[sc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{l=this._trackByFn(i,h),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,h,l,i)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,l,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,i)):t=this._addAfter(new yI(n,r),a,i),t}_verifyReinsertion(t,n,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new iy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yI{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class iy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new vI,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sy(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class oy{constructor(){}supports(t){return t instanceof Map||oh(t)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||oh(t)))throw new Error(`Error trying to diff '${G(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const a=i._prev,l=i._next;return a&&(a._next=l),l&&(l._prev=a),i._next=null,i._prev=null,i}const r=new CI(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class CI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ay(){return new Gd([new ry])}let Gd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ay()),deps:[[e,new Oi,new gs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=In({token:e,providedIn:"root",factory:ay}),e})();function uy(){return new Kd([new oy])}let Kd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uy()),deps:[[e,new Oi,new gs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=In({token:e,providedIn:"root",factory:uy}),e})();function Yd(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(ue(a)),Dn(a))for(let h=10;h<a.length;h++){const v=a[h],T=v[1].firstChild;null!==T&&Yd(v[1],v,T,r)}const l=n.type;if(8&l)Yd(e,t,n.child,r);else if(32&l){const h=s(n,t);let v;for(;v=h();)r.push(v)}else if(16&l){const h=Yp(t,n);if(Array.isArray(h))r.push(...h);else{const v=A(t[16]);Yd(v[1],v,h,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xc{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Yd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Tf(t,r),go(n,r))}this._attachedToViewContainer=!1}Vp(this._lView[1],this._lView)}onDestroy(t){Eg(this._lView[1],this._lView,null,t)}markForCheck(){Kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Di(!0);try{qf(e,t,n)}finally{Di(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Vc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class II extends Xc{constructor(t){super(t),this._view=t}detectChanges(){Rg(this._view)}checkNoChanges(){!function(e){Di(!0);try{Rg(e)}finally{Di(!1)}}(this._view)}get context(){return null}}const DI=function(e){return function(e,t,n){if(un(e)&&!n){const r=Cn(e.index,t);return new Xc(r,r)}return 47&e.type?new Xc(t[16],t):null}(br(),Xe(),16==(16&e))};let TI=(()=>{class e{}return e.__NG_ELEMENT_ID__=DI,e})();const RI=[new oy],PI=new Gd([new ry]),MI=new Kd(RI),NI=function(){return qd(br(),Xe())};let ed=(()=>{class e{}return e.__NG_ELEMENT_ID__=NI,e})();const kI=ed,LI=class extends kI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=jc(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(n)),Bc(n,r,t),new Xc(r)}};function qd(e,t){return 4&e.type?new LI(t,e,vc(e,t)):null}class $l{}class ly{}const VI=function(){return fy(br(),Xe())};let Zd=(()=>{class e{}return e.__NG_ELEMENT_ID__=VI,e})();const BI=Zd,cy=class extends BI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new mt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Gs(this._hostTNode,this._hostLView);if($s(t)){const n=ao(t,this._hostLView),r=Ts(t);return new mt(n[1].data[r+8],n)}return new mt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,a){const l=r||this.parentInjector;if(!a&&null==t.ngModule&&l){const v=l.get($l,null);v&&(a=v)}const h=t.create(l,i,void 0,a);return this.insert(h.hostView,n),h}insert(t,n){const r=t._lView,i=r[1];if(Dn(r[3])){const k=this.indexOf(t);if(-1!==k)this.detach(k);else{const K=r[3],Q=new cy(K,K[6],K[3]);Q.detach(Q.indexOf(t))}}const a=this._adjustIndex(n),l=this._lContainer;!function(e,t,n,r){const i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Xo(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const l=t[17];null!==l&&n!==l&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(l,t);const h=t[19];null!==h&&h.insertView(e),t[2]|=128}(i,r,l,a);const h=Rf(a,l),v=r[11],T=Dd(v,l[7]);return null!==T&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,Vc(e,r,n,1,i,a)}(i,l[6],v,r,T,h),t.attachToViewContainerRef(),Xo(Fh(l),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Tf(this._lContainer,n);r&&(go(Fh(this._lContainer),n),Vp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Tf(this._lContainer,n);return r&&null!=go(Fh(this._lContainer),n)?new Xc(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function dy(e){return e[8]}function Fh(e){return e[8]||(e[8]=[])}function fy(e,t){let n;const r=t[e.index];if(Dn(r))n=r;else{let i;if(8&e.type)i=ue(r);else{const a=t[11];i=a.createComment("");const l=Xt(e,t);Vl(a,Dd(a,l),i,function(e,t){return R(e)?e.nextSibling(t):t.nextSibling}(a,l),!1)}t[e.index]=n=Ag(r,t,i,e),Md(t,n)}return new cy(n,e,t)}const Ic={};class My extends Hl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=It(t);return new Ny(n,this.ngModule)}}function xy(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Fw=new kr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cf});class Ny extends J_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(SE).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return xy(this.componentDef.inputs)}get outputs(){return xy(this.componentDef.outputs)}create(t,n,r,i){const a=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const a=e.get(n,Ic,i);return a!==Ic||r===Ic?a:t.get(n,r,i)}}}(t,i.injector):t,l=a.get(zd,S),h=a.get(kh,null),v=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",k=r?function(e,t,n){if(R(e))return e.selectRootElement(t,n===lt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(v,r,this.componentDef.encapsulation):xi(l.createRenderer(null,this.componentDef),T,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(T)),K=this.componentDef.onPush?576:528,Q=function(e,t){return{components:[],scheduler:e||Cf,clean:dC,playerHandler:t||null,flags:0}}(),he=Pd(0,null,null,1,0,null,null,null,null,null),ve=jc(null,he,Q,K,null,null,l,v,h,a);let $e,Pe;ds(ve);try{const ut=function(e,t,n,r,i,a){const l=n[1];n[20]=e;const v=Xl(l,20,2,"#host",null),T=v.mergedAttrs=t.hostAttrs;null!==T&&(xd(v,T,!0),null!==e&&(hs(i,e,T),null!==v.classes&&Pf(i,e,v.classes),null!==v.styles&&Qp(i,e,v.styles)));const k=r.createRenderer(e,t),K=jc(n,_g(t),null,t.onPush?64:16,n[20],v,r,k,a||null,null);return l.firstCreatePass&&(co(Ai(v,n),l,t.type),Dg(l,v),Tg(v,n.length,1)),Md(n,K),n[20]=K}(k,this.componentDef,ve,l,v);if(k)if(r)hs(v,k,["ng-version",Lh.full]);else{const{attrs:Je,classes:$t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!iu(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Je&&hs(v,k,Je),$t&&$t.length>0&&Pf(v,k,$t.join(" "))}if(Pe=Fn(he,20),void 0!==n){const Je=Pe.projection=[];for(let $t=0;$t<this.ngContentSelectors.length;$t++){const gn=n[$t];Je.push(null!=gn?Array.from(gn):null)}}$e=function(e,t,n,r,i){const a=n[1],l=function(e,t,n){const r=br();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Sg(e,r,t,ec(e,t,1,null),n));const i=W(t,e,r.directiveStart,r);Pi(i,t);const a=Xt(r,t);return a&&Pi(a,t),i}(a,n,t);if(r.components.push(l),e[8]=l,i&&i.forEach(v=>v(l,t)),t.contentQueries){const v=br();t.contentQueries(1,l,v.directiveStart)}const h=br();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ws(h.index),Ig(n[1],h,0,h.directiveStart,h.directiveEnd,t),wg(t,l)),l}(ut,this.componentDef,ve,Q,[FC]),Bc(he,ve,null)}finally{yu()}return new jw(this.componentType,$e,vc(Pe,ve),ve,Pe)}}class jw extends class{}{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new II(i),this.componentType=t}get injector(){return new mt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const wc=new Map;class $w extends $l{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new My(this);const r=Zn(t),i=t[at]||null;i&&Sh(i),this._bootstrapComponents=ru(r.bootstrap),this._r3Injector=Fg(t,n,[{provide:$l,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],G(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Pr.THROW_IF_NOT_FOUND,r=yt.Default){return t===Pr||t===$l||t===nc?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Zh extends ly{constructor(t){super(),this.moduleType=t,null!==Zn(t)&&function(e){const t=new Set;!function n(r){const i=Zn(r,!0),a=i.id;null!==a&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${G(t)} vs ${G(t.name)}`)}(a,wc.get(a),r),wc.set(a,r));const l=ru(i.imports);for(const h of l)t.has(h)||(t.add(h),n(h))}(e)}(t)}create(t){return new $w(this.moduleType,t)}}function Fy(e,t,n){const r=Yr()+e,i=Xe();return i[r]===On?xu(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Uy(e,t,n,r){return function(e,t,n,r,i,a){const l=t+n;return Xs(e,l,i)?xu(e,l+1,a?r.call(a,i):r(i)):function(e,t){const n=e[t];return n===On?void 0:n}(e,l+1)}(Xe(),Yr(),e,t,n,r)}function Qh(e){return t=>{setTimeout(e,void 0,t)}}const Fu=class extends b.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,a,l;let h=t,v=n||(()=>null),T=r;if(t&&"object"==typeof t){const K=t;h=null===(i=K.next)||void 0===i?void 0:i.bind(K),v=null===(a=K.error)||void 0===a?void 0:a.bind(K),T=null===(l=K.complete)||void 0===l?void 0:l.bind(K)}this.__isAsync&&(v=Qh(v),h&&(h=Qh(h)),T&&(T=Qh(T)));const k=super.subscribe({next:h,error:v,complete:T});return t instanceof I.w&&t.add(k),k}};function oD(){return this._results[sc()]()}class tf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sc(),r=tf.prototype;r[n]||(r[n]=oD)}get changes(){return this._changes||(this._changes=new Fu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Lr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let a=0;a<r;a++){const l=n.getByIndex(a);i.push(this.queries[l.indexInDeclarationView].clone())}return new Xh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Jy(t,n).matches&&this.queries[n].setDirty()}}class Wy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class ep{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new ep(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class tp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new tp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(t,n,lD(n,a)),this.matchTNodeWithReadOption(t,n,N(n,t,a,!1,!1))}else r===ed?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,N(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lu||i===Zd||i===ed&&4&n.type)this.addMatch(n.index,-2);else{const a=N(n,t,i,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function lD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function dD(e,t,n,r){return-1===n?function(e,t){return 11&e.type?vc(e,t):4&e.type?qd(e,t):null}(t,e):-2===n?function(e,t,n){return n===Lu?vc(t,e):n===ed?qd(t,e):n===Zd?fy(t,e):void 0}(e,t,r):W(e,e[1],n,t)}function zy(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const a=e.data,l=n.matches,h=[];for(let v=0;v<l.length;v+=2){const T=l[v];h.push(T<0?null:dD(t,a[T],l[v+1],n.metadata.read))}i.matches=h}return i.matches}function np(e,t,n,r){const i=e.queries.getByIndex(n),a=i.matches;if(null!==a){const l=zy(e,t,i,n);for(let h=0;h<a.length;h+=2){const v=a[h];if(v>0)r.push(l[h/2]);else{const T=a[h+1],k=t[-v];for(let K=10;K<k.length;K++){const Q=k[K];Q[17]===Q[3]&&np(Q[1],Q,T,r)}if(null!==k[9]){const K=k[9];for(let Q=0;Q<K.length;Q++){const he=K[Q];np(he[1],he,T,r)}}}}}return r}function Gy(e){const t=Xe(),n=An(),r=Bs();Ea(r+1);const i=Jy(n,r);if(e.dirty&&Vn(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const a=i.crossesNgTemplate?np(n,t,r,[]):zy(n,t,i,r);e.reset(a,ty),e.notifyOnChanges()}return!0}return!1}function Ky(e,t,n){const r=An();r.firstCreatePass&&(Qy(r,new Wy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Zy(r,Xe(),t)}function Yy(e,t,n,r){const i=An();if(i.firstCreatePass){const a=br();Qy(i,new Wy(t,n,r),a.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Zy(i,Xe(),n)}function qy(){return e=Xe(),t=Bs(),e[19].queries[t].queryList;var e,t}function Zy(e,t,n){const r=new tf(4==(4&n));Eg(e,t,r,r.destroy),null===t[19]&&(t[19]=new Xh),t[19].queries.push(new Jh(r))}function Qy(e,t,n){null===e.queries&&(e.queries=new ep),e.queries.track(new tp(t,n))}function Jy(e,t){return e.queries.getByIndex(t)}const up=new kr("Application Initializer");let Tc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Wd,this.reject=Wd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(mh(a))n.push(a);else if(_h(a)){const l=new Promise((h,v)=>{a.subscribe({complete:h,error:v})});n.push(l)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(gr(up,8))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const mv=new kr("AppId"),HD={provide:mv,useFactory:function(){return`${lp()}${lp()}${lp()}`},deps:[]};function lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _v=new kr("Platform Initializer"),yv=new kr("Platform ID"),vv=new kr("appBootstrapListener");let Ev=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const sf=new kr("LocaleId"),Cv=new kr("DefaultCurrencyCode");class WD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const cp=function(e){return new Zh(e)},zD=cp,GD=function(e){return Promise.resolve(cp(e))},bv=function(e){const t=cp(e),r=ru(Zn(e).declarations).reduce((i,a)=>{const l=It(a);return l&&i.push(new Ny(l)),i},[]);return new WD(t,r)},KD=bv,YD=function(e){return Promise.resolve(bv(e))};let fd=(()=>{class e{constructor(){this.compileModuleSync=zD,this.compileModuleAsync=GD,this.compileModuleAndAllComponentsSync=KD,this.compileModuleAndAllComponentsAsync=YD}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const QD=(()=>Promise.resolve(0))();function dp(e){"undefined"==typeof Zone?QD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fu(!1),this.onMicrotaskEmpty=new Fu(!1),this.onStable=new Fu(!1),this.onError=new Fu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=vn.requestAnimationFrame,t=vn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(vn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hp(e),e.isCheckStableRunning=!0,fp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,l,h)=>{try{return Iv(e),n.invokeTask(i,a,l,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),wv(e)}},onInvoke:(n,r,i,a,l,h,v)=>{try{return Iv(e),n.invoke(i,a,l,h,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),wv(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,hp(e),fp(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+i,t,XD,Wd,Wd);try{return a.runTask(l,n,r)}finally{a.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const XD={};function fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wv(e){e._nesting--,fp(e)}class nT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fu,this.onMicrotaskEmpty=new Fu,this.onStable=new Fu,this.onError=new Fu}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Dv=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),dp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(gr(pa))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),Tv=(()=>{class e{constructor(){this._applications=new Map,pp.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return pp.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();class rT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function iT(e){pp=e}let pp=new rT,Sv=!0,Av=!1;function gp(){return Av=!0,Sv}function sT(){if(Av)throw new Error("Cannot enable prod mode after platform setup.");Sv=!1}let fu;const Rv=new kr("AllowMultipleToken");class fT{constructor(t,n){this.name=t,this.token=n}}function Ov(e,t,n=[]){const r=`Platform: ${t}`,i=new kr(r);return(a=[])=>{let l=Pv();if(!l||l.injector.get(Rv,!1))if(e)e(n.concat(a).concat({provide:i,useValue:!0}));else{const h=n.concat(a).concat({provide:i,useValue:!0},{provide:Hc,useValue:"platform"});!function(e){if(fu&&!fu.destroyed&&!fu.injector.get(Rv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fu=e.get(Mv);const t=e.get(_v,null);t&&t.forEach(n=>n())}(Pr.create({providers:h,name:r}))}return function(e){const t=Pv();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Pv(){return fu&&!fu.destroyed?fu:null}let Mv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const h=function(e,t){let n;return n="noop"===e?new nT:("zone.js"===e?void 0:e)||new pa({enableLongStackTrace:gp(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),v=[{provide:pa,useValue:h}];return h.run(()=>{const T=Pr.create({providers:v,parent:this.injector,name:n.moduleType.name}),k=n.create(T),K=k.injector.get(Fr,null);if(!K)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return h.runOutsideAngular(()=>{const Q=h.onError.subscribe({next:he=>{K.handleError(he)}});k.onDestroy(()=>{mp(this._modules,k),Q.unsubscribe()})}),function(e,t,n){try{const r=n();return mh(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(K,h,()=>{const Q=k.injector.get(Tc);return Q.runInitializers(),Q.donePromise.then(()=>(Sh(k.injector.get(sf,Vd)||Vd),this._moduleDoBootstrap(k),k))})})}bootstrapModule(n,r=[]){const i=xv({},r);return function(e,t,n){const r=new Zh(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(hd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${G(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(gr(Pr))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function xv(e,t){return Array.isArray(t)?t.reduce(xv,e):Object.assign(Object.assign({},e),t)}let hd=(()=>{class e{constructor(n,r,i,a,l){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new fe.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),v=new fe.y(T=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),dp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{k.unsubscribe(),K.unsubscribe()}});this.isStable=(0,F.T)(h,v.pipe((0,re.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof J_?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get($l),h=i.create(Pr.NULL,[],r||i.selector,a),v=h.location.nativeElement,T=h.injector.get(Dv,null),k=T&&h.injector.get(Tv);return T&&k&&k.registerApplication(v,T),h.onDestroy(()=>{this.detachView(h.hostView),mp(this.components,h),k&&k.unregisterApplication(v)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;mp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(vv,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(gr(pa),gr(Pr),gr(Fr),gr(Hl),gr(Tc))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function mp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yT{}class ET{}const CT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bT=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||CT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),M(8255)(r).then(a=>a[i]).then(a=>Fv(a,r,i)).then(a=>this._compiler.compileModuleAsync(a))}loadFactory(n){let[r,i]=n.split("#"),a="NgFactory";return void 0===i&&(i="default",a=""),M(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(l=>l[i+a]).then(l=>Fv(l,r,i))}}return e.\u0275fac=function(n){return new(n||e)(gr(fd),gr(ET,8))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function Fv(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const OT=function(e){return null},MT=Ov(null,"core",[{provide:yv,useValue:"unknown"},{provide:Mv,deps:[Pr]},{provide:Tv,deps:[]},{provide:Ev,deps:[]}]),FT=[{provide:hd,useClass:hd,deps:[pa,Pr,Fr,Hl,Tc]},{provide:Fw,deps:[pa],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Tc,useClass:Tc,deps:[[new gs,up]]},{provide:fd,useClass:fd,deps:[]},HD,{provide:Gd,useFactory:function(){return PI},deps:[]},{provide:Kd,useFactory:function(){return MI},deps:[]},{provide:sf,useFactory:function(e){return Sh(e=e||"undefined"!=typeof $localize&&$localize.locale||Vd),e},deps:[[new Da(sf),new gs,new Oi]]},{provide:Cv,useValue:"USD"}];let VT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(gr(hd))},e.\u0275mod=Mr({type:e}),e.\u0275inj=fn({providers:FT}),e})()},8939:(_e,ne,M)=>{"use strict";M.d(ne,{hO:()=>se,xv:()=>Y,Dh:()=>G,GT:()=>Z,on:()=>U,pX:()=>re});var b=M(7716),I=M(7841),fe=M(7667);_e=M.hmd(_e);const F=["ngOnDestroy"],re=(Ce,We,Me,ze={})=>new Proxy(Ce,{get:(Re,Ke)=>Me.runOutsideAngular(()=>{var Ve;if(Ce[Ke])return(null===(Ve=null==ze?void 0:ze.spy)||void 0===Ve?void 0:Ve.get)&&ze.spy.get(Ke,Ce[Ke]),Ce[Ke];if(F.indexOf(Ke)>-1)return()=>{};const rt=We.toPromise().then(st=>{const Fe=st&&st[Ke];return"function"==typeof Fe?Fe.bind(st):Fe&&Fe.then?Fe.then(Zt=>Me.run(()=>Zt)):Me.run(()=>Fe)});return new Proxy(()=>{},{get:(st,Fe)=>rt[Fe],apply:(st,Fe,Zt)=>rt.then(xt=>{var Rt;const ke=xt&&xt(...Zt);return(null===(Rt=null==ze?void 0:ze.spy)||void 0===Rt?void 0:Rt.apply)&&ze.spy.apply(Ke,Zt,ke),ke})})})}),Z=(Ce,We)=>{We.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(ze=>{Object.defineProperty(Ce.prototype,ze,Object.getOwnPropertyDescriptor(Me.prototype||Me,ze))})})};class ee{constructor(We){return We}}const G=new b.OlP("angularfire2.app.options"),Y=new b.OlP("angularfire2.app.name");function U(Ce,We,Me){const Re="object"==typeof Me&&Me||{};Re.name=Re.name||"string"==typeof Me&&Me||"[DEFAULT]";const Ve=I.Z.apps.filter(rt=>rt&&rt.name===Re.name)[0]||We.runOutsideAngular(()=>I.Z.initializeApp(Ce,Re));try{JSON.stringify(Ce)!==JSON.stringify(Ve.options)&&J("error",`${Ve.name} Firebase App already initialized with different options${_e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(rt){}return new ee(Ve)}const J=(Ce,...We)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Ce](...We)},B={provide:ee,useFactory:U,deps:[G,b.R0b,[new b.FiY,Y]]};let se=(()=>{class Ce{constructor(Me){I.Z.registerVersion("angularfire",fe.q4.full,"core"),I.Z.registerVersion("angularfire",fe.q4.full,"app-compat"),I.Z.registerVersion("angular",b.q4F.full,Me.toString())}static initializeApp(Me,ze){return{ngModule:Ce,providers:[{provide:G,useValue:Me},{provide:Y,useValue:ze}]}}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(b.LFG(b.Lbi))},Ce.\u0275mod=b.oAB({type:Ce}),Ce.\u0275inj=b.cJS({providers:[B]}),Ce})()},7667:(_e,ne,M)=>{"use strict";M.d(ne,{q4:()=>G,iC:()=>xt,HU:()=>Ke,cc:()=>J});var b=M(7716),fe=(M(2329),M(7771)),F=M(3637),re=M(3342),Z=M(3101),ee=M(9746);_e=M.hmd(_e);const G=new b.GfV("7.0.3"),Y=!!_e.hot,U=(we,...be)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[we](...be)};function J(we,be,je,Se,pt){const[,Et,Qt]=globalThis.\u0275AngularfireInstanceCache.find(Tt=>Tt[0]===we)||[];if(Et)return function(we,be){try{return we.toString()===be.toString()}catch(je){return we===be}}(pt,Qt)||(U("error",`${be} was already initialized on the ${je} Firebase App with different settings.${Y?" You may need to reload as Firebase is not HMR aware.":""}`),U("warn",{is:pt,was:Qt})),Et;{const Tt=Se();return globalThis.\u0275AngularfireInstanceCache.push([we,Tt,pt]),Tt}}function Me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ze{constructor(be,je=fe.N){this.zone=be,this.delegate=je}now(){return this.delegate.now()}schedule(be,je,Se){const pt=this.zone;return this.delegate.schedule(function(Qt){pt.runGuarded(()=>{be.apply(this,[Qt])})},je,Se)}}class Re{constructor(be){this.zone=be,this.task=null}call(be,je){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),je.pipe((0,re.b)({next:Se,complete:Se,error:Se})).subscribe(be).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class we{constructor(je){this.ngZone=je,this.outsideAngular=je.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=je.run(()=>new ze(Zone.current,F.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return we.\u0275fac=function(je){return new(je||we)(b.LFG(b.R0b))},we.\u0275prov=b.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Ve(){const we=globalThis.\u0275AngularFireScheduler;if(!we)throw new Error("AngularFireModule has not been provided");return we}function xt(we){return Ve(),function(we){return function(je){return(je=je.lift(new Re(we.ngZone))).pipe((0,Z.R)(we.outsideAngular),(0,ee.QV)(we.insideAngular))}}(Ve())(we)}},5406:(_e,ne,M)=>{"use strict";M.d(ne,{F0:()=>or,rH:()=>Ko,Bz:()=>uo,lC:()=>Yo});var b=M(8583),I=M(7716),fe=M(4869),F=M(9796),re=M(5197),Z=M(509),ee=M(6693);const G={};class U{constructor(_){this.resultSelector=_}call(_,g){return g.subscribe(new J(_,this.resultSelector))}}class J extends re.L{constructor(_,g){super(_),this.resultSelector=g,this.active=0,this.values=[],this.observables=[]}_next(_){this.values.push(G),this.observables.push(_)}_complete(){const _=this.observables,g=_.length;if(0===g)this.destination.complete();else{this.active=g,this.toRespond=g;for(let O=0;O<g;O++)this.add((0,Z.D)(this,_[O],void 0,O))}}notifyComplete(_){0==(this.active-=1)&&this.destination.complete()}notifyNext(_,g,O){const N=this.values,le=this.toRespond?N[O]===G?--this.toRespond:this.toRespond:0;N[O]=g,0===le&&(this.resultSelector?this._tryResultSelector(N):this.destination.next(N.slice()))}_tryResultSelector(_){let g;try{g=this.resultSelector.apply(this,_)}catch(O){return void this.destination.error(O)}this.destination.next(g)}}var B=M(5917),se=M(3282);function We(...w){return(0,se.J)(1)((0,B.of)(...w))}var Me=M(8891),ze=M(4402),Re=M(9193);function Ke(w){return new Me.y(_=>{let g;try{g=w()}catch(N){return void _.error(N)}return(g?(0,ze.D)(g):(0,Re.c)()).subscribe(_)})}var Ve=M(6215),rt=M(3410),st=M(2441),Fe=M(9765),xt=M(5435),Rt=M(7393),ke=M(7108);function Ue(w){return function(g){return 0===w?(0,Re.c)():g.lift(new we(w))}}class we{constructor(_){if(this.total=_,this.total<0)throw new ke.W}call(_,g){return g.subscribe(new be(_,this.total))}}class be extends Rt.L{constructor(_,g){super(_),this.total=g,this.ring=new Array,this.count=0}_next(_){const g=this.ring,O=this.total,N=this.count++;g.length<O?g.push(_):g[N%O]=_}_complete(){const _=this.destination;let g=this.count;if(g>0){const O=this.count>=this.total?this.total:this.count,N=this.ring;for(let W=0;W<O;W++){const le=g++%O;_.next(N[le])}}_.complete()}}var je=M(4635),Se=M(5242),pt=M(4487),Qt=M(5319);class Ct{constructor(_){this.callback=_}call(_,g){return g.subscribe(new Ft(_,this.callback))}}class Ft extends Rt.L{constructor(_,g){super(_),this.add(new Qt.w(g))}}var Gt=M(8002),Sn=M(3190),dn=M(5257),In=M(2145),Yn=M(5304),fn=M(4612),en=M(8049),mn=M(9773),Xn=M(3342),Ur=M(1307);class ar{constructor(_,g){this.id=_,this.url=g}}class Zr extends ar{constructor(_,g,O="imperative",N=null){super(_,g),this.navigationTrigger=O,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qn extends ar{constructor(_,g,O){super(_,g),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wr extends ar{constructor(_,g,O){super(_,g),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qr extends ar{constructor(_,g,O){super(_,g),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yt extends ar{constructor(_,g,O,N){super(_,g),this.urlAfterRedirects=O,this.state=N}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends ar{constructor(_,g,O,N){super(_,g),this.urlAfterRedirects=O,this.state=N}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends ar{constructor(_,g,O,N,W){super(_,g),this.urlAfterRedirects=O,this.state=N,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sr extends ar{constructor(_,g,O,N){super(_,g),this.urlAfterRedirects=O,this.state=N}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt extends ar{constructor(_,g,O,N){super(_,g),this.urlAfterRedirects=O,this.state=N}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt{constructor(_){this.route=_}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nn{constructor(_){this.route=_}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tn{constructor(_){this.snapshot=_}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(_){this.snapshot=_}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(_){this.snapshot=_}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(_){this.snapshot=_}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class St{constructor(_,g,O){this.routerEvent=_,this.position=g,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class ci{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g[0]:g}return null}getAll(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Mn(w){return new ci(w)}const vn="ngNavigationCancelingError";function zr(w){const _=Error("NavigationCancelingError: "+w);return _[vn]=!0,_}function kn(w,_,g){const O=g.path.split("/");if(O.length>w.length||"full"===g.pathMatch&&(_.hasChildren()||O.length<w.length))return null;const N={};for(let W=0;W<O.length;W++){const le=O[W],me=w[W];if(le.startsWith(":"))N[le.substring(1)]=me;else if(le!==me.path)return null}return{consumed:w.slice(0,O.length),posParams:N}}function ie(w,_){const g=w?Object.keys(w):void 0,O=_?Object.keys(_):void 0;if(!g||!O||g.length!=O.length)return!1;let N;for(let W=0;W<g.length;W++)if(N=g[W],!Te(w[N],_[N]))return!1;return!0}function Te(w,_){if(Array.isArray(w)&&Array.isArray(_)){if(w.length!==_.length)return!1;const g=[...w].sort(),O=[..._].sort();return g.every((N,W)=>O[W]===N)}return w===_}function xe(w){return Array.prototype.concat.apply([],w)}function Ie(w){return w.length>0?w[w.length-1]:null}function ft(w,_){for(const g in w)w.hasOwnProperty(g)&&_(w[g],g)}function Nt(w){return(0,I.CqO)(w)?w:(0,I.QGY)(w)?(0,ze.D)(Promise.resolve(w)):(0,B.of)(w)}const Jt={exact:function oi(w,_,g){if(!Zn(w.segments,_.segments)||!Ei(w.segments,_.segments,g)||w.numberOfChildren!==_.numberOfChildren)return!1;for(const O in _.children)if(!w.children[O]||!oi(w.children[O],_.children[O],g))return!1;return!0},subset:Vr},ur={exact:function(w,_){return ie(w,_)},subset:function(w,_){return Object.keys(_).length<=Object.keys(w).length&&Object.keys(_).every(g=>Te(w[g],_[g]))},ignored:()=>!0};function cr(w,_,g){return Jt[g.paths](w.root,_.root,g.matrixParams)&&ur[g.queryParams](w.queryParams,_.queryParams)&&!("exact"===g.fragment&&w.fragment!==_.fragment)}function Vr(w,_,g){return Gr(w,_,_.segments,g)}function Gr(w,_,g,O){if(w.segments.length>g.length){const N=w.segments.slice(0,g.length);return!(!Zn(N,g)||_.hasChildren()||!Ei(N,g,O))}if(w.segments.length===g.length){if(!Zn(w.segments,g)||!Ei(w.segments,g,O))return!1;for(const N in _.children)if(!w.children[N]||!Vr(w.children[N],_.children[N],O))return!1;return!0}{const N=g.slice(0,w.segments.length),W=g.slice(w.segments.length);return!!(Zn(w.segments,N)&&Ei(w.segments,N,O)&&w.children[Kt])&&Gr(w.children[Kt],_,W,O)}}function Ei(w,_,g){return _.every((O,N)=>ur[g](w[N].parameters,O.parameters))}class Jr{constructor(_,g,O){this.root=_,this.queryParams=g,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class It{constructor(_,g){this.segments=_,this.children=g,this.parent=null,ft(g,(O,N)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class Ln{constructor(_,g){this.path=_,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return kt(this)}}function Zn(w,_){return w.length===_.length&&w.every((g,O)=>g.path===_[O].path)}class tr{}class dt{parse(_){const g=new vt(_);return new Jr(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(_){var w;return`${`/${nr(_.root,!0)}`}${function(w){const _=Object.keys(w).map(g=>{const O=w[g];return Array.isArray(O)?O.map(N=>`${Bn(g)}=${Bn(N)}`).join("&"):`${Bn(g)}=${Bn(O)}`}).filter(g=>!!g);return _.length?`?${_.join("&")}`:""}(_.queryParams)}${"string"==typeof _.fragment?`#${w=_.fragment,encodeURI(w)}`:""}`}}const Ot=new dt;function wn(w){return w.segments.map(_=>kt(_)).join("/")}function nr(w,_){if(!w.hasChildren())return wn(w);if(_){const g=w.children[Kt]?nr(w.children[Kt],!1):"",O=[];return ft(w.children,(N,W)=>{W!==Kt&&O.push(`${W}:${nr(N,!1)}`)}),O.length>0?`${g}(${O.join("//")})`:g}{const g=function(w,_){let g=[];return ft(w.children,(O,N)=>{N===Kt&&(g=g.concat(_(O,N)))}),ft(w.children,(O,N)=>{N!==Kt&&(g=g.concat(_(O,N)))}),g}(w,(O,N)=>N===Kt?[nr(w.children[Kt],!1)]:[`${N}:${nr(O,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Kt]?`${wn(w)}/${g[0]}`:`${wn(w)}/(${g.join("//")})`}}function jr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(w){return jr(w).replace(/%3B/gi,";")}function Hn(w){return jr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xr(w){return decodeURIComponent(w)}function fi(w){return xr(w.replace(/\+/g,"%20"))}function kt(w){return`${Hn(w.path)}${function(w){return Object.keys(w).map(_=>`;${Hn(_)}=${Hn(w[_])}`).join("")}(w.parameters)}`}const Br=/^[^\/()?;=#]+/;function dr(w){const _=w.match(Br);return _?_[0]:""}const rr=/^[^=?&#]+/,Nr=/^[^?&#]+/;class vt{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(_.length>0||Object.keys(g).length>0)&&(O[Kt]=new It(_,g)),O}parseSegment(){const _=dr(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(_),new Ln(xr(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const g=dr(this.remaining);if(!g)return;this.capture(g);let O="";if(this.consumeOptional("=")){const N=dr(this.remaining);N&&(O=N,this.capture(O))}_[xr(g)]=xr(O)}parseQueryParam(_){const g=function(w){const _=w.match(rr);return _?_[0]:""}(this.remaining);if(!g)return;this.capture(g);let O="";if(this.consumeOptional("=")){const le=function(w){const _=w.match(Nr);return _?_[0]:""}(this.remaining);le&&(O=le,this.capture(O))}const N=fi(g),W=fi(O);if(_.hasOwnProperty(N)){let le=_[N];Array.isArray(le)||(le=[le],_[N]=le),le.push(W)}else _[N]=W}parseParens(_){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=dr(this.remaining),N=this.remaining[O.length];if("/"!==N&&")"!==N&&";"!==N)throw new Error(`Cannot parse url '${this.url}'`);let W;O.indexOf(":")>-1?(W=O.substr(0,O.indexOf(":")),this.capture(W),this.capture(":")):_&&(W=Kt);const le=this.parseChildren();g[W]=1===Object.keys(le).length?le[Kt]:new It([],le),this.consumeOptional("//")}return g}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new Error(`Expected "${_}".`)}}class Ut{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const g=this.pathFromRoot(_);return g.length>1?g[g.length-2]:null}children(_){const g=oe(_,this._root);return g?g.children.map(O=>O.value):[]}firstChild(_){const g=oe(_,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(_){const g=Ae(_,this._root);return g.length<2?[]:g[g.length-2].children.map(N=>N.value).filter(N=>N!==_)}pathFromRoot(_){return Ae(_,this._root).map(g=>g.value)}}function oe(w,_){if(w===_.value)return _;for(const g of _.children){const O=oe(w,g);if(O)return O}return null}function Ae(w,_){if(w===_.value)return[_];for(const g of _.children){const O=Ae(w,g);if(O.length)return O.unshift(_),O}return[]}class Ee{constructor(_,g){this.value=_,this.children=g}toString(){return`TreeNode(${this.value})`}}function Le(w){const _={};return w&&w.children.forEach(g=>_[g.value.outlet]=g),_}class et extends Ut{constructor(_,g){super(_),this.snapshot=g,hi(this,_)}toString(){return this.snapshot.toString()}}function nt(w,_){const g=function(w,_){const le=new hn([],{},{},"",{},Kt,_,null,w.root,-1,{});return new un("",new Ee(le,[]))}(w,_),O=new Ve.X([new Ln("",{})]),N=new Ve.X({}),W=new Ve.X({}),le=new Ve.X({}),me=new Ve.X(""),Ze=new gt(O,N,le,me,W,Kt,_,g.root);return Ze.snapshot=g.root,new et(new Ee(Ze,[]),g)}class gt{constructor(_,g,O,N,W,le,me,Ze){this.url=_,this.params=g,this.queryParams=O,this.fragment=N,this.data=W,this.outlet=le,this.component=me,this._futureSnapshot=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(_=>Mn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(_=>Mn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vt(w,_="emptyOnly"){const g=w.pathFromRoot;let O=0;if("always"!==_)for(O=g.length-1;O>=1;){const N=g[O],W=g[O-1];if(N.routeConfig&&""===N.routeConfig.path)O--;else{if(W.component)break;O--}}return function(w){return w.reduce((_,g)=>({params:Object.assign(Object.assign({},_.params),g.params),data:Object.assign(Object.assign({},_.data),g.data),resolve:Object.assign(Object.assign({},_.resolve),g._resolvedData)}),{params:{},data:{},resolve:{}})}(g.slice(O))}class hn{constructor(_,g,O,N,W,le,me,Ze,mt,Lt,cn){this.url=_,this.params=g,this.queryParams=O,this.fragment=N,this.data=W,this.outlet=le,this.component=me,this.routeConfig=Ze,this._urlSegment=mt,this._lastPathIndex=Lt,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class un extends Ut{constructor(_,g){super(g),this.url=_,hi(this,g)}toString(){return Kr(this._root)}}function hi(w,_){_.value._routerState=w,_.children.forEach(g=>hi(w,g))}function Kr(w){const _=w.children.length>0?` { ${w.children.map(Kr).join(", ")} } `:"";return`${w.value}${_}`}function $n(w){if(w.snapshot){const _=w.snapshot,g=w._futureSnapshot;w.snapshot=g,ie(_.queryParams,g.queryParams)||w.queryParams.next(g.queryParams),_.fragment!==g.fragment&&w.fragment.next(g.fragment),ie(_.params,g.params)||w.params.next(g.params),function(w,_){if(w.length!==_.length)return!1;for(let g=0;g<w.length;++g)if(!ie(w[g],_[g]))return!1;return!0}(_.url,g.url)||w.url.next(g.url),ie(_.data,g.data)||w.data.next(g.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function ks(w,_){return ie(w.params,_.params)&&function(w,_){return Zn(w,_)&&w.every((g,O)=>ie(g.parameters,_[O].parameters))}(w.url,_.url)&&!(!w.parent!=!_.parent)&&(!w.parent||ks(w.parent,_.parent))}function Bi(w,_,g){if(g&&w.shouldReuseRoute(_.value,g.value.snapshot)){const O=g.value;O._futureSnapshot=_.value;const N=function(w,_,g){return _.children.map(O=>{for(const N of g.children)if(w.shouldReuseRoute(O.value,N.value.snapshot))return Bi(w,O,N);return Bi(w,O)})}(w,_,g);return new Ee(O,N)}{if(w.shouldAttach(_.value)){const W=w.retrieve(_.value);if(null!==W){const le=W.route;return Hi(_,le),le}}const O=function(w){return new gt(new Ve.X(w.url),new Ve.X(w.params),new Ve.X(w.queryParams),new Ve.X(w.fragment),new Ve.X(w.data),w.outlet,w.component,w)}(_.value),N=_.children.map(W=>Bi(w,W));return new Ee(O,N)}}function Hi(w,_){if(w.value.routeConfig!==_.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(w.children.length!==_.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");_.value._futureSnapshot=w.value;for(let g=0;g<w.children.length;++g)Hi(w.children[g],_.children[g])}function Es(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Cs(w){return"object"==typeof w&&null!=w&&w.outlets}function us(w,_,g,O,N){let W={};return O&&ft(O,(le,me)=>{W[me]=Array.isArray(le)?le.map(Ze=>`${Ze}`):`${le}`}),new Jr(g.root===w?_:ga(g.root,w,_),W,N)}function ga(w,_,g){const O={};return ft(w.children,(N,W)=>{O[W]=N===_?g:ga(N,_,g)}),new It(w.segments,O)}class Ls{constructor(_,g,O){if(this.isAbsolute=_,this.numberOfDoubleDots=g,this.commands=O,_&&O.length>0&&Es(O[0]))throw new Error("Root segment cannot have matrix parameters");const N=O.find(Cs);if(N&&N!==Ie(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Co{constructor(_,g,O){this.segmentGroup=_,this.processChildren=g,this.index=O}}function bi(w,_,g){if(w||(w=new It([],{})),0===w.segments.length&&w.hasChildren())return Hr(w,_,g);const O=function(w,_,g){let O=0,N=_;const W={match:!1,pathIndex:0,commandIndex:0};for(;N<w.segments.length;){if(O>=g.length)return W;const le=w.segments[N],me=g[O];if(Cs(me))break;const Ze=`${me}`,mt=O<g.length-1?g[O+1]:null;if(N>0&&void 0===Ze)break;if(Ze&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!H(Ze,mt,le))return W;O+=2}else{if(!H(Ze,{},le))return W;O++}N++}return{match:!0,pathIndex:N,commandIndex:O}}(w,_,g),N=g.slice(O.commandIndex);if(O.match&&O.pathIndex<w.segments.length){const W=new It(w.segments.slice(0,O.pathIndex),{});return W.children[Kt]=new It(w.segments.slice(O.pathIndex),w.children),Hr(W,0,N)}return O.match&&0===N.length?new It(w.segments,{}):O.match&&!w.hasChildren()?Ar(w,_,g):O.match?Hr(w,0,N):Ar(w,_,g)}function Hr(w,_,g){if(0===g.length)return new It(w.segments,{});{const O=function(w){return Cs(w[0])?w[0].outlets:{[Kt]:w}}(g),N={};return ft(O,(W,le)=>{"string"==typeof W&&(W=[W]),null!==W&&(N[le]=bi(w.children[le],_,W))}),ft(w.children,(W,le)=>{void 0===O[le]&&(N[le]=W)}),new It(w.segments,N)}}function Ar(w,_,g){const O=w.segments.slice(0,_);let N=0;for(;N<g.length;){const W=g[N];if(Cs(W)){const Ze=Wi(W.outlets);return new It(O,Ze)}if(0===N&&Es(g[0])){O.push(new Ln(w.segments[_].path,Qn(g[0]))),N++;continue}const le=Cs(W)?W.outlets[Kt]:`${W}`,me=N<g.length-1?g[N+1]:null;le&&me&&Es(me)?(O.push(new Ln(le,Qn(me))),N+=2):(O.push(new Ln(le,{})),N++)}return new It(O,{})}function Wi(w){const _={};return ft(w,(g,O)=>{"string"==typeof g&&(g=[g]),null!==g&&(_[O]=Ar(new It([],{}),0,g))}),_}function Qn(w){const _={};return ft(w,(g,O)=>_[O]=`${g}`),_}function H(w,_,g){return w==g.path&&ie(_,g.parameters)}class te{constructor(_,g,O,N){this.routeReuseStrategy=_,this.futureState=g,this.currState=O,this.forwardEvent=N}activate(_){const g=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,O,_),$n(this.futureState.root),this.activateChildRoutes(g,O,_)}deactivateChildRoutes(_,g,O){const N=Le(g);_.children.forEach(W=>{const le=W.value.outlet;this.deactivateRoutes(W,N[le],O),delete N[le]}),ft(N,(W,le)=>{this.deactivateRouteAndItsChildren(W,O)})}deactivateRoutes(_,g,O){const N=_.value,W=g?g.value:null;if(N===W)if(N.component){const le=O.getContext(N.outlet);le&&this.deactivateChildRoutes(_,g,le.children)}else this.deactivateChildRoutes(_,g,O);else W&&this.deactivateRouteAndItsChildren(g,O)}deactivateRouteAndItsChildren(_,g){this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,g):this.deactivateRouteAndOutlet(_,g)}detachAndStoreRouteSubtree(_,g){const O=g.getContext(_.value.outlet);if(O&&O.outlet){const N=O.outlet.detach(),W=O.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:N,route:_,contexts:W})}}deactivateRouteAndOutlet(_,g){const O=g.getContext(_.value.outlet),N=O&&_.value.component?O.children:g,W=Le(_);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],N);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(_,g,O){const N=Le(g);_.children.forEach(W=>{this.activateRoutes(W,N[W.value.outlet],O),this.forwardEvent(new lt(W.value.snapshot))}),_.children.length&&this.forwardEvent(new _r(_.value.snapshot))}activateRoutes(_,g,O){const N=_.value,W=g?g.value:null;if($n(N),N===W)if(N.component){const le=O.getOrCreateContext(N.outlet);this.activateChildRoutes(_,g,le.children)}else this.activateChildRoutes(_,g,O);else if(N.component){const le=O.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const me=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),le.children.onOutletReAttached(me.contexts),le.attachRef=me.componentRef,le.route=me.route.value,le.outlet&&le.outlet.attach(me.componentRef,me.route.value),ge(me.route)}else{const me=function(w){for(let _=w.parent;_;_=_.parent){const g=_.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig;if(g&&g.component)return null}return null}(N.snapshot),Ze=me?me.module.componentFactoryResolver:null;le.attachRef=null,le.route=N,le.resolver=Ze,le.outlet&&le.outlet.activateWith(N,Ze),this.activateChildRoutes(_,null,le.children)}}else this.activateChildRoutes(_,null,O)}}function ge(w){$n(w.value),w.children.forEach(ge)}class Ye{constructor(_,g){this.routes=_,this.module=g}}function ot(w){return"function"==typeof w}function ht(w){return w instanceof Jr}const Wn=Symbol("INITIAL_VALUE");function xn(){return(0,Sn.w)(w=>function(...w){let _,g;return(0,fe.K)(w[w.length-1])&&(g=w.pop()),"function"==typeof w[w.length-1]&&(_=w.pop()),1===w.length&&(0,F.k)(w[0])&&(w=w[0]),(0,ee.n)(w,g).lift(new U(_))}(w.map(_=>_.pipe((0,dn.q)(1),function(...w){const _=w[w.length-1];return(0,fe.K)(_)?(w.pop(),g=>We(w,g,_)):g=>We(w,g)}(Wn)))).pipe((0,In.R)((_,g)=>{let O=!1;return g.reduce((N,W,le)=>N!==Wn?N:(W===Wn&&(O=!0),O||!1!==W&&le!==g.length-1&&!ht(W)?N:W),_)},Wn),(0,xt.h)(_=>_!==Wn),(0,Gt.U)(_=>ht(_)?_:!0===_),(0,dn.q)(1)))}let vr=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275cmp=I.Xpm({type:w,selectors:[["ng-component"]],decls:1,vars:0,template:function(g,O){1&g&&I._UZ(0,"router-outlet")},directives:function(){return[Yo]},encapsulation:2}),w})();function Er(w,_=""){for(let g=0;g<w.length;g++){const O=w[g];R(O,j(_,O))}}function R(w,_){w.children&&Er(w.children,_)}function j(w,_){return _?w||_.path?w&&!_.path?`${w}/`:!w&&_.path?_.path:`${w}/${_.path}`:"":w}function S(w){const _=w.children&&w.children.map(S),g=_?Object.assign(Object.assign({},w),{children:_}):Object.assign({},w);return!g.component&&(_||g.loadChildren)&&g.outlet&&g.outlet!==Kt&&(g.component=vr),g}function $(w){return w.outlet||Kt}function ue(w,_){const g=w.filter(O=>$(O)===_);return g.push(...w.filter(O=>$(O)!==_)),g}const Be={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qe(w,_,g){var O;if(""===_.path)return"full"===_.pathMatch&&(w.hasChildren()||g.length>0)?Object.assign({},Be):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const W=(_.matcher||kn)(g,w,_);if(!W)return Object.assign({},Be);const le={};ft(W.posParams,(Ze,mt)=>{le[mt]=Ze.path});const me=W.consumed.length>0?Object.assign(Object.assign({},le),W.consumed[W.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:W.consumed,lastChild:W.consumed.length,parameters:me,positionalParamSegments:null!==(O=W.posParams)&&void 0!==O?O:{}}}function _t(w,_,g,O,N="corrected"){if(g.length>0&&function(w,_,g){return g.some(O=>Cn(w,_,O)&&$(O)!==Kt)}(w,g,O)){const le=new It(_,function(w,_,g,O){const N={};N[Kt]=O,O._sourceSegment=w,O._segmentIndexShift=_.length;for(const W of g)if(""===W.path&&$(W)!==Kt){const le=new It([],{});le._sourceSegment=w,le._segmentIndexShift=_.length,N[$(W)]=le}return N}(w,_,O,new It(g,w.children)));return le._sourceSegment=w,le._segmentIndexShift=_.length,{segmentGroup:le,slicedSegments:[]}}if(0===g.length&&function(w,_,g){return g.some(O=>Cn(w,_,O))}(w,g,O)){const le=new It(w.segments,function(w,_,g,O,N,W){const le={};for(const me of O)if(Cn(w,g,me)&&!N[$(me)]){const Ze=new It([],{});Ze._sourceSegment=w,Ze._segmentIndexShift="legacy"===W?w.segments.length:_.length,le[$(me)]=Ze}return Object.assign(Object.assign({},N),le)}(w,_,g,O,w.children,N));return le._sourceSegment=w,le._segmentIndexShift=_.length,{segmentGroup:le,slicedSegments:g}}const W=new It(w.segments,w.children);return W._sourceSegment=w,W._segmentIndexShift=_.length,{segmentGroup:W,slicedSegments:g}}function Cn(w,_,g){return(!(w.hasChildren()||_.length>0)||"full"!==g.pathMatch)&&""===g.path}function Vn(w,_,g,O){return!!($(w)===O||O!==Kt&&Cn(_,g,w))&&("**"===w.path||qe(_,w,g).matched)}function Cr(w,_,g){return 0===_.length&&!w.children[g]}class ti{constructor(_){this.segmentGroup=_||null}}class fr{constructor(_){this.urlTree=_}}function Ii(w){return new Me.y(_=>_.error(new ti(w)))}function ai(w){return new Me.y(_=>_.error(new fr(w)))}function Mt(w){return new Me.y(_=>_.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w}'`)))}class gu{constructor(_,g,O,N,W){this.configLoader=g,this.urlSerializer=O,this.urlTree=N,this.config=W,this.allowRedirects=!0,this.ngModule=_.get(I.h0i)}apply(){const _=_t(this.urlTree.root,[],[],this.config).segmentGroup,g=new It(_.segments,_.children);return this.expandSegmentGroup(this.ngModule,this.config,g,Kt).pipe((0,Gt.U)(W=>this.createUrlTree(Vo(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Yn.K)(W=>{if(W instanceof fr)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof ti?this.noMatchError(W):W}))}match(_){return this.expandSegmentGroup(this.ngModule,this.config,_.root,Kt).pipe((0,Gt.U)(N=>this.createUrlTree(Vo(N),_.queryParams,_.fragment))).pipe((0,Yn.K)(N=>{throw N instanceof ti?this.noMatchError(N):N}))}noMatchError(_){return new Error(`Cannot match any routes. URL Segment: '${_.segmentGroup}'`)}createUrlTree(_,g,O){const N=_.segments.length>0?new It([],{[Kt]:_}):_;return new Jr(N,g,O)}expandSegmentGroup(_,g,O,N){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(_,g,O).pipe((0,Gt.U)(W=>new It([],W))):this.expandSegment(_,O,g,O.segments,N,!0)}expandChildren(_,g,O){const N=[];for(const W of Object.keys(O.children))"primary"===W?N.unshift(W):N.push(W);return(0,ze.D)(N).pipe((0,fn.b)(W=>{const le=O.children[W],me=ue(g,W);return this.expandSegmentGroup(_,me,le,W).pipe((0,Gt.U)(Ze=>({segment:Ze,outlet:W})))}),(0,In.R)((W,le)=>(W[le.outlet]=le.segment,W),{}),function(w,_){const g=arguments.length>=2;return O=>O.pipe(w?(0,xt.h)((N,W)=>w(N,W,O)):pt.y,Ue(1),g?(0,Se.d)(_):(0,je.T)(()=>new rt.K))}())}expandSegment(_,g,O,N,W,le){return(0,ze.D)(O).pipe((0,fn.b)(me=>this.expandSegmentAgainstRoute(_,g,O,me,N,W,le).pipe((0,Yn.K)(mt=>{if(mt instanceof ti)return(0,B.of)(null);throw mt}))),(0,en.P)(me=>!!me),(0,Yn.K)((me,Ze)=>{if(me instanceof rt.K||"EmptyError"===me.name){if(Cr(g,N,W))return(0,B.of)(new It([],{}));throw new ti(g)}throw me}))}expandSegmentAgainstRoute(_,g,O,N,W,le,me){return Vn(N,g,W,le)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(_,g,N,W,le):me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,g,O,N,W,le):Ii(g):Ii(g)}expandSegmentAgainstRouteUsingRedirect(_,g,O,N,W,le){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,O,N,le):this.expandRegularSegmentAgainstRouteUsingRedirect(_,g,O,N,W,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,g,O,N){const W=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?ai(W):this.lineralizeSegments(O,W).pipe((0,mn.zg)(le=>{const me=new It(le,{});return this.expandSegment(_,me,g,le,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,g,O,N,W,le){const{matched:me,consumedSegments:Ze,lastChild:mt,positionalParamSegments:Lt}=qe(g,N,W);if(!me)return Ii(g);const cn=this.applyRedirectCommands(Ze,N.redirectTo,Lt);return N.redirectTo.startsWith("/")?ai(cn):this.lineralizeSegments(N,cn).pipe((0,mn.zg)(Jn=>this.expandSegment(_,g,O,Jn.concat(W.slice(mt)),le,!1)))}matchSegmentAgainstRoute(_,g,O,N,W){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,B.of)(O._loadedConfig):this.configLoader.load(_.injector,O)).pipe((0,Gt.U)(Jn=>(O._loadedConfig=Jn,new It(N,{})))):(0,B.of)(new It(N,{}));const{matched:le,consumedSegments:me,lastChild:Ze}=qe(g,O,N);if(!le)return Ii(g);const mt=N.slice(Ze);return this.getChildConfig(_,O,N).pipe((0,mn.zg)(cn=>{const Jn=cn.module,Rn=cn.routes,{segmentGroup:mi,slicedSegments:ii}=_t(g,me,mt,Rn),_i=new It(mi.segments,mi.children);if(0===ii.length&&_i.hasChildren())return this.expandChildren(Jn,Rn,_i).pipe((0,Gt.U)(Os=>new It(me,Os)));if(0===Rn.length&&0===ii.length)return(0,B.of)(new It(me,{}));const Rs=$(O)===W;return this.expandSegment(Jn,_i,Rn,ii,Rs?Kt:W,!0).pipe((0,Gt.U)(fo=>new It(me.concat(fo.segments),fo.children)))}))}getChildConfig(_,g,O){return g.children?(0,B.of)(new Ye(g.children,_)):g.loadChildren?void 0!==g._loadedConfig?(0,B.of)(g._loadedConfig):this.runCanLoadGuards(_.injector,g,O).pipe((0,mn.zg)(N=>{return N?this.configLoader.load(_.injector,g).pipe((0,Gt.U)(W=>(g._loadedConfig=W,W))):(w=g,new Me.y(_=>_.error(zr(`Cannot load children because the guard of the route "path: '${w.path}'" returned false`))));var w})):(0,B.of)(new Ye([],_))}runCanLoadGuards(_,g,O){const N=g.canLoad;if(!N||0===N.length)return(0,B.of)(!0);const W=N.map(le=>{const me=_.get(le);let Ze;if((w=me)&&ot(w.canLoad))Ze=me.canLoad(g,O);else{if(!ot(me))throw new Error("Invalid CanLoad guard");Ze=me(g,O)}var w;return Nt(Ze)});return(0,B.of)(W).pipe(xn(),(0,Xn.b)(le=>{if(!ht(le))return;const me=zr(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw me.url=le,me}),(0,Gt.U)(le=>!0===le))}lineralizeSegments(_,g){let O=[],N=g.root;for(;;){if(O=O.concat(N.segments),0===N.numberOfChildren)return(0,B.of)(O);if(N.numberOfChildren>1||!N.children[Kt])return Mt(_.redirectTo);N=N.children[Kt]}}applyRedirectCommands(_,g,O){return this.applyRedirectCreatreUrlTree(g,this.urlSerializer.parse(g),_,O)}applyRedirectCreatreUrlTree(_,g,O,N){const W=this.createSegmentGroup(_,g.root,O,N);return new Jr(W,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(_,g){const O={};return ft(_,(N,W)=>{if("string"==typeof N&&N.startsWith(":")){const me=N.substring(1);O[W]=g[me]}else O[W]=N}),O}createSegmentGroup(_,g,O,N){const W=this.createSegments(_,g.segments,O,N);let le={};return ft(g.children,(me,Ze)=>{le[Ze]=this.createSegmentGroup(_,me,O,N)}),new It(W,le)}createSegments(_,g,O,N){return g.map(W=>W.path.startsWith(":")?this.findPosParam(_,W,N):this.findOrReturn(W,O))}findPosParam(_,g,O){const N=O[g.path.substring(1)];if(!N)throw new Error(`Cannot redirect to '${_}'. Cannot find '${g.path}'.`);return N}findOrReturn(_,g){let O=0;for(const N of g){if(N.path===_.path)return g.splice(O),N;O++}return _}}function Vo(w){const _={};for(const O of Object.keys(w.children)){const W=Vo(w.children[O]);(W.segments.length>0||W.hasChildren())&&(_[O]=W)}return function(w){if(1===w.numberOfChildren&&w.children[Kt]){const _=w.children[Kt];return new It(w.segments.concat(_.segments),_.children)}return w}(new It(w.segments,_))}class Na{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Xe{constructor(_,g){this.component=_,this.route=g}}function An(w,_,g){const O=w._root;return zi(O,_?_._root:null,g,[O.value])}function br(w,_,g){const O=function(w){if(!w)return null;for(let _=w.parent;_;_=_.parent){const g=_.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig}return null}(_);return(O?O.module.injector:g).get(w)}function zi(w,_,g,O,N={canDeactivateChecks:[],canActivateChecks:[]}){const W=Le(_);return w.children.forEach(le=>{(function(w,_,g,O,N={canDeactivateChecks:[],canActivateChecks:[]}){const W=w.value,le=_?_.value:null,me=g?g.getContext(w.value.outlet):null;if(le&&W.routeConfig===le.routeConfig){const Ze=function(w,_,g){if("function"==typeof g)return g(w,_);switch(g){case"pathParamsChange":return!Zn(w.url,_.url);case"pathParamsOrQueryParamsChange":return!Zn(w.url,_.url)||!ie(w.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ks(w,_)||!ie(w.queryParams,_.queryParams);case"paramsChange":default:return!ks(w,_)}}(le,W,W.routeConfig.runGuardsAndResolvers);Ze?N.canActivateChecks.push(new Na(O)):(W.data=le.data,W._resolvedData=le._resolvedData),zi(w,_,W.component?me?me.children:null:g,O,N),Ze&&me&&me.outlet&&me.outlet.isActivated&&N.canDeactivateChecks.push(new Xe(me.outlet.component,le))}else le&&ls(_,me,N),N.canActivateChecks.push(new Na(O)),zi(w,null,W.component?me?me.children:null:g,O,N)})(le,W[le.value.outlet],g,O.concat([le.value]),N),delete W[le.value.outlet]}),ft(W,(le,me)=>ls(le,g.getContext(me),N)),N}function ls(w,_,g){const O=Le(w),N=w.value;ft(O,(W,le)=>{ls(W,N.component?_?_.children.getContext(le):null:_,g)}),g.canDeactivateChecks.push(new Xe(N.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,N))}class Gi{}function Bo(w){return new Me.y(_=>_.error(w))}class Ho{constructor(_,g,O,N,W,le){this.rootComponentType=_,this.config=g,this.urlTree=O,this.url=N,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=le}recognize(){const _=_t(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,g=this.processSegmentGroup(this.config,_,Kt);if(null===g)return null;const O=new hn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new Ee(O,g),W=new un(this.url,N);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(_){const g=_.value,O=Vt(g,this.paramsInheritanceStrategy);g.params=Object.freeze(O.params),g.data=Object.freeze(O.data),_.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(_,g,O){return 0===g.segments.length&&g.hasChildren()?this.processChildren(_,g):this.processSegment(_,g,g.segments,O)}processChildren(_,g){const O=[];for(const W of Object.keys(g.children)){const le=g.children[W],me=ue(_,W),Ze=this.processSegmentGroup(me,le,W);if(null===Ze)return null;O.push(...Ze)}const N=Bs(O);return N.sort((_,g)=>_.value.outlet===Kt?-1:g.value.outlet===Kt?1:_.value.outlet.localeCompare(g.value.outlet)),N}processSegment(_,g,O,N){for(const W of _){const le=this.processSegmentAgainstRoute(W,g,O,N);if(null!==le)return le}return Cr(g,O,N)?[]:null}processSegmentAgainstRoute(_,g,O,N){if(_.redirectTo||!Vn(_,g,O,N))return null;let W,le=[],me=[];if("**"===_.path){const Rn=O.length>0?Ie(O).parameters:{};W=new hn(O,Rn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ds(_),$(_),_.component,_,ki(g),cs(g)+O.length,Ki(_))}else{const Rn=qe(g,_,O);if(!Rn.matched)return null;le=Rn.consumedSegments,me=O.slice(Rn.lastChild),W=new hn(le,Rn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ds(_),$(_),_.component,_,ki(g),cs(g)+le.length,Ki(_))}const Ze=(w=_).children?w.children:w.loadChildren?w._loadedConfig.routes:[],{segmentGroup:mt,slicedSegments:Lt}=_t(g,le,me,Ze.filter(Rn=>void 0===Rn.redirectTo),this.relativeLinkResolution);var w;if(0===Lt.length&&mt.hasChildren()){const Rn=this.processChildren(Ze,mt);return null===Rn?null:[new Ee(W,Rn)]}if(0===Ze.length&&0===Lt.length)return[new Ee(W,[])];const cn=$(_)===N,Jn=this.processSegment(Ze,mt,Lt,cn?Kt:N);return null===Jn?null:[new Ee(W,Jn)]}}function js(w){const _=w.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Bs(w){const _=[],g=new Set;for(const O of w){if(!js(O)){_.push(O);continue}const N=_.find(W=>O.value.routeConfig===W.value.routeConfig);void 0!==N?(N.children.push(...O.children),g.add(N)):_.push(O)}for(const O of g){const N=Bs(O.children);_.push(new Ee(O.value,N))}return _.filter(O=>!g.has(O))}function ki(w){let _=w;for(;_._sourceSegment;)_=_._sourceSegment;return _}function cs(w){let _=w,g=_._segmentIndexShift?_._segmentIndexShift:0;for(;_._sourceSegment;)_=_._sourceSegment,g+=_._segmentIndexShift?_._segmentIndexShift:0;return g-1}function ds(w){return w.data||{}}function Ki(w){return w.resolve||{}}function Is(w){return(0,Sn.w)(_=>{const g=w(_);return g?(0,ze.D)(g).pipe((0,Gt.U)(()=>_)):(0,B.of)(_)})}class sr extends class{shouldDetach(_){return!1}store(_,g){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,g){return _.routeConfig===g.routeConfig}}{}const Ds=new I.OlP("ROUTES");class zo{constructor(_,g,O,N){this.loader=_,this.compiler=g,this.onLoadStartListener=O,this.onLoadEndListener=N}load(_,g){if(g._loader$)return g._loader$;this.onLoadStartListener&&this.onLoadStartListener(g);const N=this.loadModuleFactory(g.loadChildren).pipe((0,Gt.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(g);const le=W.create(_);return new Ye(xe(le.injector.get(Ds,void 0,I.XFs.Self|I.XFs.Optional)).map(S),le)}),(0,Yn.K)(W=>{throw g._loader$=void 0,W}));return g._loader$=new st.c(N,()=>new Fe.xQ).pipe((0,Ur.x)()),g._loader$}loadModuleFactory(_){return"string"==typeof _?(0,ze.D)(this.loader.load(_)):Nt(_()).pipe((0,mn.zg)(g=>g instanceof I.YKP?(0,B.of)(g):(0,ze.D)(this.compiler.compileModuleAsync(g))))}}class so{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _n,this.attachRef=null}}class _n{constructor(){this.contexts=new Map}onChildOutletCreated(_,g){const O=this.getOrCreateContext(_);O.outlet=g,this.contexts.set(_,O)}onChildOutletDestroyed(_){const g=this.getContext(_);g&&(g.outlet=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let g=this.getContext(_);return g||(g=new so,this.contexts.set(_,g)),g}getContext(_){return this.contexts.get(_)||null}}class fs{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,g){return _}}function Go(w){throw w}function oo(w,_,g){return _.parse("/")}function Hs(w,_){return(0,B.of)(null)}const qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ua={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class w{constructor(g,O,N,W,le,me,Ze,mt){this.rootComponentType=g,this.urlSerializer=O,this.rootContexts=N,this.location=W,this.config=mt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe.xQ,this.errorHandler=Go,this.malformedUriErrorHandler=oo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hs,afterPreactivation:Hs},this.urlHandlingStrategy=new fs,this.routeReuseStrategy=new sr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(I.h0i),this.console=le.get(I.c2e);const Jn=le.get(I.R0b);this.isNgZoneEnabled=Jn instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(mt),this.currentUrlTree=new Jr(new It([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zo(me,Ze,Rn=>this.triggerEvent(new bt(Rn)),Rn=>this.triggerEvent(new nn(Rn))),this.routerState=nt(this.currentUrlTree,this.rootComponentType),this.transitions=new Ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var g;return null===(g=this.location.getState())||void 0===g?void 0:g.\u0275routerPageId}setupNavigations(g){const O=this.events;return g.pipe((0,xt.h)(N=>0!==N.id),(0,Gt.U)(N=>Object.assign(Object.assign({},N),{extractedUrl:this.urlHandlingStrategy.extract(N.rawUrl)})),(0,Sn.w)(N=>{let W=!1,le=!1;return(0,B.of)(N).pipe((0,Xn.b)(me=>{this.currentNavigation={id:me.id,initialUrl:me.currentRawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Sn.w)(me=>{const Ze=!this.navigated||me.extractedUrl.toString()!==this.browserUrlTree.toString(),mt=("reload"===this.onSameUrlNavigation||Ze)&&this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl);if(Ti(me.source)&&(this.browserUrlTree=me.rawUrl),mt)return(0,B.of)(me).pipe((0,Sn.w)(Lt=>{const cn=this.transitions.getValue();return O.next(new Zr(Lt.id,this.serializeUrl(Lt.extractedUrl),Lt.source,Lt.restoredState)),cn!==this.transitions.getValue()?Re.E:Promise.resolve(Lt)}),function(w,_,g,O){return(0,Sn.w)(N=>function(w,_,g,O,N){return new gu(w,_,g,O,N).apply()}(w,_,g,N.extractedUrl,O).pipe((0,Gt.U)(W=>Object.assign(Object.assign({},N),{urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xn.b)(Lt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Lt.urlAfterRedirects})}),function(w,_,g,O,N){return(0,mn.zg)(W=>function(w,_,g,O,N="emptyOnly",W="legacy"){try{const le=new Ho(w,_,g,O,N,W).recognize();return null===le?Bo(new Gi):(0,B.of)(le)}catch(le){return Bo(le)}}(w,_,W.urlAfterRedirects,g(W.urlAfterRedirects),O,N).pipe((0,Gt.U)(le=>Object.assign(Object.assign({},W),{targetSnapshot:le}))))}(this.rootComponentType,this.config,Lt=>this.serializeUrl(Lt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xn.b)(Lt=>{"eager"===this.urlUpdateStrategy&&(Lt.extras.skipLocationChange||this.setBrowserUrl(Lt.urlAfterRedirects,Lt),this.browserUrlTree=Lt.urlAfterRedirects);const cn=new yt(Lt.id,this.serializeUrl(Lt.extractedUrl),this.serializeUrl(Lt.urlAfterRedirects),Lt.targetSnapshot);O.next(cn)}));if(Ze&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:cn,extractedUrl:Jn,source:Rn,restoredState:mi,extras:ii}=me,_i=new Zr(cn,this.serializeUrl(Jn),Rn,mi);O.next(_i);const Rs=nt(Jn,this.rootComponentType).snapshot;return(0,B.of)(Object.assign(Object.assign({},me),{targetSnapshot:Rs,urlAfterRedirects:Jn,extras:Object.assign(Object.assign({},ii),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=me.rawUrl,this.browserUrlTree=me.urlAfterRedirects,me.resolve(null),Re.E}),Is(me=>{const{targetSnapshot:Ze,id:mt,extractedUrl:Lt,rawUrl:cn,extras:{skipLocationChange:Jn,replaceUrl:Rn}}=me;return this.hooks.beforePreactivation(Ze,{navigationId:mt,appliedUrlTree:Lt,rawUrlTree:cn,skipLocationChange:!!Jn,replaceUrl:!!Rn})}),(0,Xn.b)(me=>{const Ze=new Kn(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(Ze)}),(0,Gt.U)(me=>Object.assign(Object.assign({},me),{guards:An(me.targetSnapshot,me.currentSnapshot,this.rootContexts)})),function(w,_){return(0,mn.zg)(g=>{const{targetSnapshot:O,currentSnapshot:N,guards:{canActivateChecks:W,canDeactivateChecks:le}}=g;return 0===le.length&&0===W.length?(0,B.of)(Object.assign(Object.assign({},g),{guardsResult:!0})):function(w,_,g,O){return(0,ze.D)(w).pipe((0,mn.zg)(N=>function(w,_,g,O,N){const W=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,B.of)(!0);const le=W.map(me=>{const Ze=br(me,_,N);let mt;if(function(w){return w&&ot(w.canDeactivate)}(Ze))mt=Nt(Ze.canDeactivate(w,_,g,O));else{if(!ot(Ze))throw new Error("Invalid CanDeactivate guard");mt=Nt(Ze(w,_,g,O))}return mt.pipe((0,en.P)())});return(0,B.of)(le).pipe(xn())}(N.component,N.route,g,_,O)),(0,en.P)(N=>!0!==N,!0))}(le,O,N,w).pipe((0,mn.zg)(me=>me&&function(w){return"boolean"==typeof w}(me)?function(w,_,g,O){return(0,ze.D)(_).pipe((0,fn.b)(N=>We(function(w,_){return null!==w&&_&&_(new tn(w)),(0,B.of)(!0)}(N.route.parent,O),function(w,_){return null!==w&&_&&_(new rn(w)),(0,B.of)(!0)}(N.route,O),function(w,_,g){const O=_[_.length-1],W=_.slice(0,_.length-1).reverse().map(le=>function(w){const _=w.routeConfig?w.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:w,guards:_}:null}(le)).filter(le=>null!==le).map(le=>Ke(()=>{const me=le.guards.map(Ze=>{const mt=br(Ze,le.node,g);let Lt;if(function(w){return w&&ot(w.canActivateChild)}(mt))Lt=Nt(mt.canActivateChild(O,w));else{if(!ot(mt))throw new Error("Invalid CanActivateChild guard");Lt=Nt(mt(O,w))}return Lt.pipe((0,en.P)())});return(0,B.of)(me).pipe(xn())}));return(0,B.of)(W).pipe(xn())}(w,N.path,g),function(w,_,g){const O=_.routeConfig?_.routeConfig.canActivate:null;if(!O||0===O.length)return(0,B.of)(!0);const N=O.map(W=>Ke(()=>{const le=br(W,_,g);let me;if(function(w){return w&&ot(w.canActivate)}(le))me=Nt(le.canActivate(_,w));else{if(!ot(le))throw new Error("Invalid CanActivate guard");me=Nt(le(_,w))}return me.pipe((0,en.P)())}));return(0,B.of)(N).pipe(xn())}(w,N.route,g))),(0,en.P)(N=>!0!==N,!0))}(O,W,w,_):(0,B.of)(me)),(0,Gt.U)(me=>Object.assign(Object.assign({},g),{guardsResult:me})))})}(this.ngModule.injector,me=>this.triggerEvent(me)),(0,Xn.b)(me=>{if(ht(me.guardsResult)){const mt=zr(`Redirecting to "${this.serializeUrl(me.guardsResult)}"`);throw mt.url=me.guardsResult,mt}const Ze=new mr(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.triggerEvent(Ze)}),(0,xt.h)(me=>!!me.guardsResult||(this.restoreHistory(me),this.cancelNavigationTransition(me,""),!1)),Is(me=>{if(me.guards.canActivateChecks.length)return(0,B.of)(me).pipe((0,Xn.b)(Ze=>{const mt=new Sr(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(mt)}),(0,Sn.w)(Ze=>{let mt=!1;return(0,B.of)(Ze).pipe(function(w,_){return(0,mn.zg)(g=>{const{targetSnapshot:O,guards:{canActivateChecks:N}}=g;if(!N.length)return(0,B.of)(g);let W=0;return(0,ze.D)(N).pipe((0,fn.b)(le=>function(w,_,g,O){return function(w,_,g,O){const N=Object.keys(w);if(0===N.length)return(0,B.of)({});const W={};return(0,ze.D)(N).pipe((0,mn.zg)(le=>function(w,_,g,O){const N=br(w,_,O);return Nt(N.resolve?N.resolve(_,g):N(_,g))}(w[le],_,g,O).pipe((0,Xn.b)(me=>{W[le]=me}))),Ue(1),(0,mn.zg)(()=>Object.keys(W).length===N.length?(0,B.of)(W):Re.E))}(w._resolve,w,_,O).pipe((0,Gt.U)(W=>(w._resolvedData=W,w.data=Object.assign(Object.assign({},w.data),Vt(w,g).resolve),null)))}(le.route,O,w,_)),(0,Xn.b)(()=>W++),Ue(1),(0,mn.zg)(le=>W===N.length?(0,B.of)(g):Re.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xn.b)({next:()=>mt=!0,complete:()=>{mt||(this.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"At least one route resolver didn't emit any value."))}}))}),(0,Xn.b)(Ze=>{const mt=new wt(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(mt)}))}),Is(me=>{const{targetSnapshot:Ze,id:mt,extractedUrl:Lt,rawUrl:cn,extras:{skipLocationChange:Jn,replaceUrl:Rn}}=me;return this.hooks.afterPreactivation(Ze,{navigationId:mt,appliedUrlTree:Lt,rawUrlTree:cn,skipLocationChange:!!Jn,replaceUrl:!!Rn})}),(0,Gt.U)(me=>{const Ze=function(w,_,g){const O=Bi(w,_._root,g?g._root:void 0);return new et(O,_)}(this.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return Object.assign(Object.assign({},me),{targetRouterState:Ze})}),(0,Xn.b)(me=>{this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects)}),((w,_,g)=>(0,Gt.U)(O=>(new te(_,O.targetRouterState,O.currentRouterState,g).activate(w),O)))(this.rootContexts,this.routeReuseStrategy,me=>this.triggerEvent(me)),(0,Xn.b)({next(){W=!0},complete(){W=!0}}),function(w){return _=>_.lift(new Ct(w))}(()=>{if(!W&&!le){const me=`Navigation ID ${N.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(N),this.cancelNavigationTransition(N,me)):this.cancelNavigationTransition(N,me)}this.currentNavigation=null}),(0,Yn.K)(me=>{if(le=!0,function(w){return w&&w[vn]}(me)){const Ze=ht(me.url);Ze||(this.navigated=!0,this.restoreHistory(N,!0));const mt=new Wr(N.id,this.serializeUrl(N.extractedUrl),me.message);O.next(mt),Ze?setTimeout(()=>{const Lt=this.urlHandlingStrategy.merge(me.url,this.rawUrlTree),cn={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ti(N.source)};this.scheduleNavigation(Lt,"imperative",null,cn,{resolve:N.resolve,reject:N.reject,promise:N.promise})},0):N.resolve(!1)}else{this.restoreHistory(N,!0);const Ze=new Qr(N.id,this.serializeUrl(N.extractedUrl),me);O.next(Ze);try{N.resolve(this.errorHandler(me))}catch(mt){N.reject(mt)}}return Re.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}getTransition(){const g=this.transitions.value;return g.urlAfterRedirects=this.browserUrlTree,g}setTransition(g){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),g))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const O=this.extractLocationChangeInfoFromEvent(g);this.shouldScheduleNavigation(this.lastLocationChangeInfo,O)&&setTimeout(()=>{const{source:N,state:W,urlTree:le}=O,me={replaceUrl:!0};if(W){const Ze=Object.assign({},W);delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(me.state=Ze)}this.scheduleNavigation(le,N,W,me)},0),this.lastLocationChangeInfo=O}))}extractLocationChangeInfoFromEvent(g){var O;return{source:"popstate"===g.type?"popstate":"hashchange",urlTree:this.parseUrl(g.url),state:(null===(O=g.state)||void 0===O?void 0:O.navigationId)?g.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(g,O){if(!g)return!0;const N=O.urlTree.toString()===g.urlTree.toString();return O.transitionId!==g.transitionId||!N||!("hashchange"===O.source&&"popstate"===g.source||"popstate"===O.source&&"hashchange"===g.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){Er(g),this.config=g.map(S),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,O={}){const{relativeTo:N,queryParams:W,fragment:le,queryParamsHandling:me,preserveFragment:Ze}=O,mt=N||this.routerState.root,Lt=Ze?this.currentUrlTree.fragment:le;let cn=null;switch(me){case"merge":cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=W||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),function(w,_,g,O,N){if(0===g.length)return us(_.root,_.root,_,O,N);const W=function(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Ls(!0,0,w);let _=0,g=!1;const O=w.reduce((N,W,le)=>{if("object"==typeof W&&null!=W){if(W.outlets){const me={};return ft(W.outlets,(Ze,mt)=>{me[mt]="string"==typeof Ze?Ze.split("/"):Ze}),[...N,{outlets:me}]}if(W.segmentPath)return[...N,W.segmentPath]}return"string"!=typeof W?[...N,W]:0===le?(W.split("/").forEach((me,Ze)=>{0==Ze&&"."===me||(0==Ze&&""===me?g=!0:".."===me?_++:""!=me&&N.push(me))}),N):[...N,W]},[]);return new Ls(g,_,O)}(g);if(W.toRoot())return us(_.root,new It([],{}),_,O,N);const le=function(w,_,g){if(w.isAbsolute)return new Co(_.root,!0,0);if(-1===g.snapshot._lastPathIndex){const W=g.snapshot._urlSegment;return new Co(W,W===_.root,0)}const O=Es(w.commands[0])?0:1;return function(w,_,g){let O=w,N=_,W=g;for(;W>N;){if(W-=N,O=O.parent,!O)throw new Error("Invalid number of '../'");N=O.segments.length}return new Co(O,!1,N-W)}(g.snapshot._urlSegment,g.snapshot._lastPathIndex+O,w.numberOfDoubleDots)}(W,_,w),me=le.processChildren?Hr(le.segmentGroup,le.index,W.commands):bi(le.segmentGroup,le.index,W.commands);return us(le.segmentGroup,me,_,O,N)}(mt,this.currentUrlTree,g,cn,null!=Lt?Lt:null)}navigateByUrl(g,O={skipLocationChange:!1}){const N=ht(g)?g:this.parseUrl(g),W=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,O)}navigate(g,O={skipLocationChange:!1}){return function(w){for(let _=0;_<w.length;_++){const g=w[_];if(null==g)throw new Error(`The requested path contains ${g} segment at index ${_}`)}}(g),this.navigateByUrl(this.createUrlTree(g,O),O)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let O;try{O=this.urlSerializer.parse(g)}catch(N){O=this.malformedUriErrorHandler(N,this.urlSerializer,g)}return O}isActive(g,O){let N;if(N=!0===O?Object.assign({},qi):!1===O?Object.assign({},Ua):O,ht(g))return cr(this.currentUrlTree,g,N);const W=this.parseUrl(g);return cr(this.currentUrlTree,W,N)}removeEmptyProps(g){return Object.keys(g).reduce((O,N)=>{const W=g[N];return null!=W&&(O[N]=W),O},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new qn(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,g.resolve(!0)},g=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(g,O,N,W,le){var me,Ze;if(this.disposed)return Promise.resolve(!1);const mt=this.getTransition(),Lt=Ti(O)&&mt&&!Ti(mt.source),Rn=(this.lastSuccessfulId===mt.id||this.currentNavigation?mt.rawUrl:mt.urlAfterRedirects).toString()===g.toString();if(Lt&&Rn)return Promise.resolve(!0);let mi,ii,_i;le?(mi=le.resolve,ii=le.reject,_i=le.promise):_i=new Promise((fo,Os)=>{mi=fo,ii=Os});const Rs=++this.navigationId;let Ri;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(N=this.location.getState()),Ri=N&&N.\u0275routerPageId?N.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(me=this.browserPageId)&&void 0!==me?me:0:(null!==(Ze=this.browserPageId)&&void 0!==Ze?Ze:0)+1):Ri=0,this.setTransition({id:Rs,targetPageId:Ri,source:O,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:W,resolve:mi,reject:ii,promise:_i,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_i.catch(fo=>Promise.reject(fo))}setBrowserUrl(g,O){const N=this.urlSerializer.serialize(g),W=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(N)||O.extras.replaceUrl?this.location.replaceState(N,"",W):this.location.go(N,"",W)}restoreHistory(g,O=!1){var N,W;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(N=this.currentNavigation)||void 0===N?void 0:N.finalUrl)||0===le?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===le&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,O){const N=new Wr(g.id,this.serializeUrl(g.extractedUrl),O);this.triggerEvent(N),g.resolve(!1)}generateNgRouterState(g,O){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:O}:{navigationId:g}}}return w.\u0275fac=function(g){return new(g||w)(I.LFG(I.DyG),I.LFG(tr),I.LFG(_n),I.LFG(b.Ye),I.LFG(I.zs3),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(void 0))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac}),w})();function Ti(w){return"imperative"!==w}let Ko=(()=>{class w{constructor(g,O,N,W,le){this.router=g,this.route=O,this.commands=[],this.onChanges=new Fe.xQ,null==N&&W.setAttribute(le.nativeElement,"tabindex","0")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:[]}onClick(){const g={skipLocationChange:Si(this.skipLocationChange),replaceUrl:Si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Si(this.preserveFragment)})}}return w.\u0275fac=function(g){return new(g||w)(I.Y36(or),I.Y36(gt),I.$8M("tabindex"),I.Y36(I.Qsj),I.Y36(I.SBq))},w.\u0275dir=I.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,O){1&g&&I.NdJ("click",function(){return O.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[I.TTD]}),w})();function Si(w){return""===w||!!w}let Yo=(()=>{class w{constructor(g,O,N,W,le){this.parentContexts=g,this.location=O,this.resolver=N,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.name=W||Kt,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,g}attach(g,O){this.activated=g,this._activatedRoute=O,this.location.insert(g.hostView)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;const le=(O=O||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),me=this.parentContexts.getOrCreateContext(this.name).children,Ze=new cl(g,me,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,Ze),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(g){return new(g||w)(I.Y36(_n),I.Y36(I.s_b),I.Y36(I._Vd),I.$8M("name"),I.Y36(I.sBO))},w.\u0275dir=I.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),w})();class cl{constructor(_,g,O){this.route=_,this.childContexts=g,this.parent=O}get(_,g){return _===gt?this.route:_===_n?this.childContexts:this.parent.get(_,g)}}class Nn{}class Do{preload(_,g){return(0,B.of)(null)}}let hr=(()=>{class w{constructor(g,O,N,W,le){this.router=g,this.injector=W,this.preloadingStrategy=le,this.loader=new zo(O,N,mt=>g.triggerEvent(new bt(mt)),mt=>g.triggerEvent(new nn(mt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(g=>g instanceof qn),(0,fn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const g=this.injector.get(I.h0i);return this.processRoutes(g,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,O){const N=[];for(const W of O)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const le=W._loadedConfig;N.push(this.processRoutes(le.module,le.routes))}else W.loadChildren&&!W.canLoad?N.push(this.preloadConfig(g,W)):W.children&&N.push(this.processRoutes(g,W.children));return(0,ze.D)(N).pipe((0,se.J)(),(0,Gt.U)(W=>{}))}preloadConfig(g,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,B.of)(O._loadedConfig):this.loader.load(g.injector,O)).pipe((0,mn.zg)(W=>(O._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return w.\u0275fac=function(g){return new(g||w)(I.LFG(or),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(I.zs3),I.LFG(Nn))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac}),w})(),To=(()=>{class w{constructor(g,O,N={}){this.router=g,this.viewportScroller=O,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof qn&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof St&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,O){this.router.triggerEvent(new St(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(g){return new(g||w)(I.LFG(or),I.LFG(b.EM),I.LFG(void 0))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac}),w})();const $s=new I.OlP("ROUTER_CONFIGURATION"),Ts=new I.OlP("ROUTER_FORROOT_GUARD"),ao=[b.Ye,{provide:tr,useClass:dt},{provide:or,useFactory:function(w,_,g,O,N,W,le,me={},Ze,mt){const Lt=new or(null,w,_,g,O,N,W,xe(le));return Ze&&(Lt.urlHandlingStrategy=Ze),mt&&(Lt.routeReuseStrategy=mt),function(w,_){w.errorHandler&&(_.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(_.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(_.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(_.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(_.urlUpdateStrategy=w.urlUpdateStrategy)}(me,Lt),me.enableTracing&&Lt.events.subscribe(cn=>{var Jn,Rn;null===(Jn=console.group)||void 0===Jn||Jn.call(console,`Router Event: ${cn.constructor.name}`),console.log(cn.toString()),console.log(cn),null===(Rn=console.groupEnd)||void 0===Rn||Rn.call(console)}),Lt},deps:[tr,_n,b.Ye,I.zs3,I.v3s,I.Sil,Ds,$s,[class{},new I.FiY],[class{},new I.FiY]]},_n,{provide:gt,useFactory:function(w){return w.routerState.root},deps:[or]},{provide:I.v3s,useClass:I.EAV},hr,Do,class{preload(_,g){return g().pipe((0,Yn.K)(()=>(0,B.of)(null)))}},{provide:$s,useValue:{enableTracing:!1}}];function Ss(){return new I.PXZ("Router",or)}let uo=(()=>{class w{constructor(g,O){}static forRoot(g,O){return{ngModule:w,providers:[ao,Ws(g),{provide:Ts,useFactory:So,deps:[[or,new I.FiY,new I.tp0]]},{provide:$s,useValue:O||{}},{provide:b.S$,useFactory:lo,deps:[b.lw,[new I.tBr(b.mr),new I.FiY],$s]},{provide:To,useFactory:qo,deps:[or,b.EM,$s]},{provide:Nn,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Do},{provide:I.PXZ,multi:!0,useFactory:Ss},[zs,{provide:I.ip1,multi:!0,useFactory:Gs,deps:[zs]},{provide:Qi,useFactory:co,deps:[zs]},{provide:I.tb,multi:!0,useExisting:Qi}]]}}static forChild(g){return{ngModule:w,providers:[Ws(g)]}}}return w.\u0275fac=function(g){return new(g||w)(I.LFG(Ts,8),I.LFG(or,8))},w.\u0275mod=I.oAB({type:w}),w.\u0275inj=I.cJS({}),w})();function qo(w,_,g){return g.scrollOffset&&_.setOffset(g.scrollOffset),new To(w,_,g)}function lo(w,_,g={}){return g.useHash?new b.Do(w,_):new b.b0(w,_)}function So(w){return"guarded"}function Ws(w){return[{provide:I.deG,multi:!0,useValue:w},{provide:Ds,multi:!0,useValue:w}]}let zs=(()=>{class w{constructor(g){this.injector=g,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fe.xQ}appInitializer(){return this.injector.get(b.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const N=new Promise(me=>O=me),W=this.injector.get(or),le=this.injector.get($s);return"disabled"===le.initialNavigation?(W.setUpLocationChangeListener(),O(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,B.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),W.initialNavigation()):O(!0),N})}bootstrapListener(g){const O=this.injector.get($s),N=this.injector.get(hr),W=this.injector.get(To),le=this.injector.get(or),me=this.injector.get(I.z2F);g===me.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&le.initialNavigation(),N.setUpPreloading(),W.init(),le.resetRootComponentType(me.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return w.\u0275fac=function(g){return new(g||w)(I.LFG(I.zs3))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac}),w})();function Gs(w){return w.appInitializer.bind(w)}function co(w){return w.bootstrapListener.bind(w)}const Qi=new I.OlP("Router Initializer")},4486:(_e,ne,M)=>{"use strict";M.d(ne,{Z:()=>Me});var b=M(4685),I=M(6034),fe=M(5452),F=M(300);class re{constructor(Re,Ke){this._delegate=Re,this.firebase=Ke,(0,fe._addComponent)(Re,new I.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,fe.deleteApp)(this._delegate)))}_getService(Re,Ke=fe._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Re);return!rt.isInitialized()&&"EXPLICIT"===(null===(Ve=rt.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Ke})}_removeServiceInstance(Re,Ke=fe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Ke)}_addComponent(Re){(0,fe._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,fe._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Y(){const ze=function(ze){const Re={},Ke={__esModule:!0,initializeApp:function(Rt,ke={}){const Ue=fe.initializeApp(Rt,ke);if((0,b.r3)(Re,Ue.name))return Re[Ue.name];const we=new ze(Ue,Ke);return Re[Ue.name]=we,we},app:rt,registerVersion:fe.registerVersion,setLogLevel:fe.setLogLevel,onLog:fe.onLog,apps:null,SDK_VERSION:fe.SDK_VERSION,INTERNAL:{registerComponent:function(Rt){const ke=Rt.name,Ue=ke.replace("-compat","");if(fe._registerComponent(Rt)&&"PUBLIC"===Rt.type){const we=(be=rt())=>{if("function"!=typeof be[Ue])throw ee.create("invalid-app-argument",{appName:ke});return be[Ue]()};void 0!==Rt.serviceProps&&(0,b.ZB)(we,Rt.serviceProps),Ke[Ue]=we,ze.prototype[Ue]=function(...be){return this._getService.bind(this,ke).apply(this,Rt.multipleInstances?be:[])}}return"PUBLIC"===Rt.type?Ke[Ue]:null},removeApp:function(Rt){delete Re[Rt]},useAsService:function(Rt,ke){return"serverAuth"===ke?null:ke},modularAPIs:fe}};function rt(Rt){if(!(0,b.r3)(Re,Rt=Rt||fe._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:Rt});return Re[Rt]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function(){return Object.keys(Re).map(Rt=>Re[Rt])}}),rt.App=ze,Ke}(re);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Ke){(0,b.ZB)(ze,Ke)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),ze}(),J=new F.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=U;(0,fe.registerVersion)("@firebase/app-compat","0.1.1",undefined);const Me=We},5452:(_e,ne,M)=>{"use strict";M.r(ne),M.d(ne,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Sn,_apps:()=>Ct,_clearComponents:()=>fn,_components:()=>Ft,_getProvider:()=>In,_registerComponent:()=>dn,_removeServiceInstance:()=>Yn,deleteApp:()=>Wr,getApp:()=>Zr,getApps:()=>qn,initializeApp:()=>ar,onLog:()=>Kn,registerVersion:()=>yt,setLogLevel:()=>mr});var b=M(8239),I=M(6034),fe=M(300),F=M(4685);class re{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(nn=>{if(function(wt){const bt=wt.getComponent();return"VERSION"===(null==bt?void 0:bt.type)}(nn)){const tn=nn.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(nn=>nn).join(" ")}}const ee="@firebase/app",Y=new fe.Yd("@firebase/app"),Qt="[DEFAULT]",Tt={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,Ft=new Map;function Gt(wt,bt){try{wt.container.addComponent(bt)}catch(nn){Y.debug(`Component ${bt.name} failed to register with FirebaseApp ${wt.name}`,nn)}}function Sn(wt,bt){wt.container.addOrOverwriteComponent(bt)}function dn(wt){const bt=wt.name;if(Ft.has(bt))return Y.debug(`There were multiple attempts to register component ${bt}.`),!1;Ft.set(bt,wt);for(const nn of Ct.values())Gt(nn,wt);return!0}function In(wt,bt){return wt.container.getProvider(bt)}function Yn(wt,bt,nn=Qt){In(wt,bt).clearInstance(nn)}function fn(){Ft.clear()}const mn=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Xn{constructor(bt,nn,tn){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},nn),this._name=nn.name,this._automaticDataCollectionEnabled=nn.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const Ur="9.0.0";function ar(wt,bt={}){"object"!=typeof bt&&(bt={name:bt});const nn=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},bt),tn=nn.name;if("string"!=typeof tn||!tn)throw mn.create("bad-app-name",{appName:String(tn)});const _r=Ct.get(tn);if(_r){if((0,F.vZ)(wt,_r.options)&&(0,F.vZ)(nn,_r.config))return _r;throw mn.create("duplicate-app",{appName:tn})}const rn=new I.H0(tn);for(const St of Ft.values())rn.addComponent(St);const lt=new Xn(wt,nn,rn);return Ct.set(tn,lt),lt}function Zr(wt=Qt){const bt=Ct.get(wt);if(!bt)throw mn.create("no-app",{appName:wt});return bt}function qn(){return Array.from(Ct.values())}function Wr(wt){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(wt){const bt=wt.name;Ct.has(bt)&&(Ct.delete(bt),yield Promise.all(wt.container.getProviders().map(nn=>nn.delete())),wt.isDeleted=!0)})).apply(this,arguments)}function yt(wt,bt,nn){var tn;let _r=null!==(tn=Tt[wt])&&void 0!==tn?tn:wt;nn&&(_r+=`-${nn}`);const rn=_r.match(/\s|\//),lt=bt.match(/\s|\//);if(rn||lt){const St=[`Unable to register library "${_r}" with version "${bt}":`];return rn&&St.push(`library name "${_r}" contains illegal characters (whitespace or "/")`),rn&&lt&&St.push("and"),lt&&St.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void Y.warn(St.join(" "))}dn(new I.wA(`${_r}-version`,()=>({library:_r,version:bt}),"VERSION"))}function Kn(wt,bt){if(null!==wt&&"function"!=typeof wt)throw mn.create("invalid-log-argument");(0,fe.Am)(wt,bt)}function mr(wt){(0,fe.Ub)(wt)}dn(new I.wA("platform-logger",bt=>new re(bt),"PRIVATE")),yt(ee,"0.7.0",undefined),yt("fire-js","")},5676:(_e,ne,M)=>{"use strict";M.d(ne,{$:()=>ai,A:()=>J,E:()=>nr,G:()=>xr,I:()=>$n,K:()=>Nt,L:()=>Fs,M:()=>Hr,N:()=>ma,P:()=>ho,Q:()=>Ar,R:()=>Ol,T:()=>bi,V:()=>te,W:()=>jt,X:()=>Be,Y:()=>_t,Z:()=>zn,_:()=>Vn,a:()=>Yo,a0:()=>Us,a1:()=>gu,a2:()=>Vo,a3:()=>Na,a4:()=>An,a5:()=>br,a6:()=>_a,a7:()=>wi,a8:()=>ya,a9:()=>io,aA:()=>Ya,aB:()=>ps,aC:()=>Ot,aG:()=>hs,aJ:()=>Qn,aa:()=>Yr,ab:()=>va,ae:()=>Fa,af:()=>Ni,ag:()=>$o,ah:()=>Sr,aj:()=>yr,ak:()=>Wo,am:()=>Yi,an:()=>Ua,ao:()=>It,ap:()=>xt,aq:()=>Jr,ar:()=>Vr,as:()=>Ve,at:()=>Qs,au:()=>Pl,av:()=>rt,aw:()=>Fe,ax:()=>ke,ay:()=>En,az:()=>Zs,b:()=>Ca,c:()=>Xo,d:()=>Bu,e:()=>mo,f:()=>Hu,g:()=>na,h:()=>Ka,i:()=>_,j:()=>Wu,k:()=>_o,l:()=>yn,m:()=>Xu,n:()=>Nl,o:()=>G,r:()=>Ps,s:()=>vu,t:()=>Is,u:()=>Zo,x:()=>sr,z:()=>Ce});var b=M(8239),I=M(4685),fe=M(5452),F=M(4762),re=M(300),Z=M(6034);const G={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},J={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},Ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=new I.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new re.Yd("@firebase/auth");function Ke(y,...c){Re.logLevel<=re.in.ERROR&&Re.error(`Auth (${fe.SDK_VERSION}): ${y}`,...c)}function Ve(y,...c){throw st(y,...c)}function rt(y,...c){return st(y,...c)}function st(y,...c){if("string"!=typeof y){const f=c[0],D=[...c.slice(1)];return D[0]&&(D[0].appName=y.name),y._errorFactory.create(f,...D)}return Me.create(y,...c)}function Fe(y,c,...f){if(!y)throw st(c,...f)}function Zt(y){const c="INTERNAL ASSERTION FAILED: "+y;throw Ke(c),new Error(c)}function xt(y,c){y||Zt(c)}const Rt=new Map;function ke(y){xt(y instanceof Function,"Expected a class definition");let c=Rt.get(y);return c?(xt(c instanceof y,"Instance stored in cache mismatched with class"),c):(c=new y,Rt.set(y,c),c)}function be(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function je(){return"http:"===Se()||"https:"===Se()}function Se(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(c,f){this.shortDelay=c,this.longDelay=f,xt(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,I.uI)()||(0,I.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,I.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Tt(y,c){xt(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Ct{static initialize(c,f,D){this.fetchImpl=c,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Gt=new Qt(3e4,6e4);function Sn(y,c){return y.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:y.tenantId}):c}function dn(y,c,f,D){return In.apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(y,c,f,D,V={}){return Yn(y,V,()=>{let X={},Ne={};D&&("GET"===c?Ne=D:X={body:JSON.stringify(D)});const it=(0,I.xO)(Object.assign({key:y.config.apiKey},Ne)).slice(1),At=new(Ct.headers());return At.set("Content-Type","application/json"),At.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&At.set("X-Firebase-Locale",y.languageCode),Ct.fetch()(Xn(y,y.config.apiHost,f,it),Object.assign({method:c,headers:At,referrerPolicy:"no-referrer"},X))})})).apply(this,arguments)}function Yn(y,c,f){return fn.apply(this,arguments)}function fn(){return(fn=(0,b.Z)(function*(y,c,f){y._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ft),c);try{const V=new Ur(y),X=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const Ne=yield X.json();if("needConfirmation"in Ne)throw ar(y,"account-exists-with-different-credential",Ne);if(X.ok&&!("errorMessage"in Ne))return Ne;{const At=(X.ok?Ne.errorMessage:Ne.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw ar(y,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===At)throw ar(y,"email-already-in-use",Ne);Ve(y,D[At]||At.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(V){if(V instanceof I.ZR)throw V;Ve(y,"network-request-failed")}})).apply(this,arguments)}function en(y,c,f,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(y,c,f,D,V={}){const X=yield dn(y,c,f,D,V);return"mfaPendingCredential"in X&&Ve(y,"multi-factor-auth-required",{serverResponse:X}),X})).apply(this,arguments)}function Xn(y,c,f,D){const V=`${c}${f}?${D}`;return y.config.emulator?Tt(y.config,V):`${y.config.apiScheme}://${V}`}class Ur{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(rt(this.auth,"timeout")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(y,c,f){const D={appName:y.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const V=rt(y,c,D);return V.customData._tokenResponse=f,V}function qn(){return(qn=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Wr(y,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yt(y,c){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function mr(y){if(y)try{const c=new Date(Number(y));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function Sr(y,c=!1){return(0,I.m9)(y).getIdToken(c)}function bt(){return(bt=(0,b.Z)(function*(y,c=!1){const f=(0,I.m9)(y),D=yield f.getIdToken(c),V=tn(D);Fe(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,Ne=null==X?void 0:X.sign_in_provider;return{claims:V,token:D,authTime:mr(nn(V.auth_time)),issuedAtTime:mr(nn(V.iat)),expirationTime:mr(nn(V.exp)),signInProvider:Ne||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(y){return 1e3*Number(y)}function tn(y){const[c,f,D]=y.split(".");if(void 0===c||void 0===f||void 0===D)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,I.tV)(f);return V?JSON.parse(V):(Ke("Failed to decode base64 JWT payload"),null)}catch(V){return Ke("Caught error parsing JWT payload as JSON",V),null}}function rn(y,c){return lt.apply(this,arguments)}function lt(){return(lt=(0,b.Z)(function*(y,c,f=!1){if(f)return c;try{return yield c}catch(D){throw D instanceof I.ZR&&St(D)&&y.auth.currentUser===y&&(yield y.auth.signOut()),D}})).apply(this,arguments)}function St({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Kt{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(c);this.timerId=setTimeout((0,b.Z)(function*(){yield f.iteration()}),D)}iteration(){var c=this;return(0,b.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class ci{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,b.Z)(function*(y){var c;const f=y.auth,D=yield y.getIdToken(),V=yield rn(y,yt(f,{idToken:D}));Fe(null==V?void 0:V.users.length,f,"internal-error");const X=V.users[0];y._notifyReloadListener(X);const Ne=(null===(c=X.providerUserInfo)||void 0===c?void 0:c.length)?ce(X.providerUserInfo):[],it=kn(y.providerData,Ne),bn=!!y.isAnonymous&&!(y.email&&X.passwordHash||(null==it?void 0:it.length)),Rr={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:it,metadata:new ci(X.createdAt,X.lastLoginAt),isAnonymous:bn};Object.assign(y,Rr)})).apply(this,arguments)}function as(){return(as=(0,b.Z)(function*(y){const c=(0,I.m9)(y);yield Mn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function kn(y,c){return[...y.filter(D=>!c.some(V=>V.providerId===D.providerId)),...c]}function ce(y){return y.map(c=>{var{providerId:f}=c,D=(0,F._T)(c,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Te(){return(Te=(0,b.Z)(function*(y,c){const f=yield Yn(y,{},()=>{const D=(0,I.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:V,apiKey:X}=y.config,Ne=Xn(y,V,"/v1/token",`key=${X}`);return Ct.fetch()(Ne,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Fe(c.idToken,"internal-error"),Fe(void 0!==c.idToken,"internal-error"),Fe(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function(y){const c=tn(y);return Fe(c,"internal-error"),Fe(void 0!==c.exp,"internal-error"),Fe(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var D=this;return(0,b.Z)(function*(){return Fe(!D.accessToken||D.refreshToken,c,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(c,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var D=this;return(0,b.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:Ne}=yield function(y,c){return Te.apply(this,arguments)}(c,f);D.updateTokensAndExpiration(V,X,Number(Ne))})()}updateTokensAndExpiration(c,f,D){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(c,f){const{refreshToken:D,accessToken:V,expirationTime:X}=f,Ne=new xe;return D&&(Fe("string"==typeof D,"internal-error",{appName:c}),Ne.refreshToken=D),V&&(Fe("string"==typeof V,"internal-error",{appName:c}),Ne.accessToken=V),X&&(Fe("number"==typeof X,"internal-error",{appName:c}),Ne.expirationTime=X),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function Ie(y,c){Fe("string"==typeof y||void 0===y,"internal-error",{appName:c})}class at{constructor(c){var{uid:f,auth:D,stsTokenManager:V}=c,X=(0,F._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.metadata=new ci(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,b.Z)(function*(){const D=yield rn(f,f.stsTokenManager.getToken(f.auth,c));return Fe(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(c){return function(y){return bt.apply(this,arguments)}(this,c)}reload(){return function(y){return as.apply(this,arguments)}(this)}_assign(c){this!==c&&(Fe(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new at(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var D=this;return(0,b.Z)(function*(){let V=!1;c.idToken&&c.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(c),V=!0),f&&(yield Mn(D)),yield D.auth._persistUserIfCurrent(D),V&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var c=this;return(0,b.Z)(function*(){const f=yield c.getIdToken();return yield rn(c,function(y,c){return qn.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var D,V,X,Ne,it,At,Bt,bn;const Rr=null!==(D=f.displayName)&&void 0!==D?D:void 0,Vi=null!==(V=f.email)&&void 0!==V?V:void 0,ts=null!==(X=f.phoneNumber)&&void 0!==X?X:void 0,tl=null!==(Ne=f.photoURL)&&void 0!==Ne?Ne:void 0,la=null!==(it=f.tenantId)&&void 0!==it?it:void 0,ca=null!==(At=f._redirectEventId)&&void 0!==At?At:void 0,Xa=null!==(Bt=f.createdAt)&&void 0!==Bt?Bt:void 0,ns=null!==(bn=f.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:ko,emailVerified:da,isAnonymous:eu,providerData:Ta,stsTokenManager:yl}=f;Fe(ko&&yl,c,"internal-error");const Yl=xe.fromJSON(this.name,yl);Fe("string"==typeof ko,c,"internal-error"),Ie(Rr,c.name),Ie(Vi,c.name),Fe("boolean"==typeof da,c,"internal-error"),Fe("boolean"==typeof eu,c,"internal-error"),Ie(ts,c.name),Ie(tl,c.name),Ie(la,c.name),Ie(ca,c.name),Ie(Xa,c.name),Ie(ns,c.name);const Sa=new at({uid:ko,auth:c,email:Vi,emailVerified:da,displayName:Rr,isAnonymous:eu,photoURL:tl,phoneNumber:ts,tenantId:la,stsTokenManager:Yl,createdAt:Xa,lastLoginAt:ns});return Ta&&Array.isArray(Ta)&&(Sa.providerData=Ta.map(nl=>Object.assign({},nl))),ca&&(Sa._redirectEventId=ca),Sa}static _fromIdTokenResponse(c,f,D=!1){return(0,b.Z)(function*(){const V=new xe;V.updateFromServerResponse(f);const X=new at({uid:f.localId,auth:c,stsTokenManager:V,isAnonymous:D});return yield Mn(X),X})()}}const Nt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(f,D){var V=this;return(0,b.Z)(function*(){V.storage[f]=D})()}_get(f){var D=this;return(0,b.Z)(function*(){const V=D.storage[f];return void 0===V?null:V})()}_remove(f){var D=this;return(0,b.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return y.type="NONE",y})();function En(y,c,f){return`firebase:${y}:${c}:${f}`}class Jt{constructor(c,f,D){this.persistence=c,this.auth=f,this.userKey=D;const{config:V,name:X}=this.auth;this.fullUserKey=En(this.userKey,V.apiKey,X),this.fullPersistenceKey=En("persistence",V.apiKey,X),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,b.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?at._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,b.Z)(function*(){if(f.persistence===c)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,D="authUser"){return(0,b.Z)(function*(){if(!f.length)return new Jt(ke(Nt),c,D);const V=(yield Promise.all(f.map(function(){var Bt=(0,b.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return Bt.apply(this,arguments)}}()))).filter(Bt=>Bt);let X=V[0]||ke(Nt);const Ne=En(D,c.config.apiKey,c.name);let it=null;for(const Bt of f)try{const bn=yield Bt._get(Ne);if(bn){const Rr=at._fromJSON(c,bn);Bt!==X&&(it=Rr),X=Bt;break}}catch(bn){}const At=V.filter(Bt=>Bt._shouldAllowMigration);return X._shouldAllowMigration&&At.length?(X=At[0],it&&(yield X._set(Ne,it.toJSON())),yield Promise.all(f.map(function(){var Bt=(0,b.Z)(function*(bn){if(bn!==X)try{yield bn._remove(Ne)}catch(Rr){}});return function(bn){return Bt.apply(this,arguments)}}())),new Jt(X,c,D)):new Jt(X,c,D)})()}}function ur(y){const c=y.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Mr(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(cr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Gr(c))return"Blackberry";if(Ei(c))return"Webos";if(er(c))return"Safari";if((c.includes("chrome/")||oi(c))&&!c.includes("edge/"))return"Chrome";if(Vr(c))return"Android";{const D=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function cr(y=(0,I.z$)()){return/firefox\//i.test(y)}function er(y=(0,I.z$)()){const c=y.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function oi(y=(0,I.z$)()){return/crios\//i.test(y)}function Mr(y=(0,I.z$)()){return/iemobile/i.test(y)}function Vr(y=(0,I.z$)()){return/android/i.test(y)}function Gr(y=(0,I.z$)()){return/blackberry/i.test(y)}function Ei(y=(0,I.z$)()){return/webos/i.test(y)}function Jr(y=(0,I.z$)()){return/iphone|ipad|ipod/i.test(y)}function It(y=(0,I.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Zn(y=(0,I.z$)()){return Jr(y)||Vr(y)||Ei(y)||Gr(y)||/windows phone/i.test(y)||Mr(y)}function tr(y,c=[]){let f;switch(y){case"Browser":f=ur((0,I.z$)());break;case"Worker":f=`${ur((0,I.z$)())}-${y}`;break;default:f=y}const D=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${fe.SDK_VERSION}/${D}`}class dt{constructor(c,f){this.app=c,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wn(this),this.idTokenSubscription=new wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(c,f){var D=this;return f&&(this._popupRedirectResolver=ke(f)),this._initializationPromise=this.queue((0,b.Z)(function*(){var V;D._deleted||(D.persistenceManager=yield Jt.create(D,c),!D._deleted&&((null===(V=D._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(f),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,b.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f)}})()}initializeCurrentUser(c){var f=this;return(0,b.Z)(function*(){var D;let V=yield f.assertedPersistence.getCurrentUser();if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const X=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,Ne=null==V?void 0:V._redirectEventId,it=yield f.tryRedirectSignIn(c);(!X||X===Ne)&&(null==it?void 0:it.user)&&(V=it.user)}return V?V._redirectEventId?(Fe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===V._redirectEventId?f.directlySetCurrentUser(V):f.reloadAndSetCurrentUserOrClear(V)):f.reloadAndSetCurrentUserOrClear(V):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var f=this;return(0,b.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(V){yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,b.Z)(function*(){try{yield Mn(c)}catch(D){if("auth/network-request-failed"!==D.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var c=this;return(0,b.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,b.Z)(function*(){const D=c?(0,I.m9)(c):null;return D&&Fe(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(c){var f=this;return(0,b.Z)(function*(){if(!f._deleted)return c&&Fe(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),f.queue((0,b.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,b.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var f=this;return this.queue((0,b.Z)(function*(){yield f.assertedPersistence.setPersistence(ke(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new I.LL("auth","Firebase",c())}onAuthStateChanged(c,f,D){return this.registerStateListener(this.authStateSubscription,c,f,D)}onIdTokenChanged(c,f,D){return this.registerStateListener(this.idTokenSubscription,c,f,D)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var D=this;return(0,b.Z)(function*(){const V=yield D.getOrInitRedirectPersistenceManager(f);return null===c?V.removeCurrentUser():V.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,b.Z)(function*(){if(!f.redirectPersistenceManager){const D=c&&ke(c)||f._popupRedirectResolver;Fe(D,f,"argument-error"),f.redirectPersistenceManager=yield Jt.create(f,[ke(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,b.Z)(function*(){var D,V;return f._isInitialized&&(yield f.queue((0,b.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===c?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,b.Z)(function*(){if(c===f.currentUser)return f.queue((0,b.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,D,V){if(this._deleted)return()=>{};const X="function"==typeof f?f:f.next.bind(f),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(Ne,this,"internal-error"),Ne.then(()=>X(this.currentUser)),"function"==typeof f?c.addObserver(f,D,V):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,b.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ot(y){return(0,I.m9)(y)}class wn{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,I.ne)(f=>this.observer=f)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nr(y,c,f){const D=Ot(y);Fe(D._canInitEmulator,D,"emulator-config-failed"),Fe(/^https?:\/\//.test(c),D,"invalid-emulator-scheme");const V=!!(null==f?void 0:f.disableWarnings),X=jr(c),{host:Ne,port:it}=function(y){const c=jr(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(c.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(D);if(V){const X=V[1];return{host:X,port:di(D.substr(X.length+1))}}{const[X,Ne]=D.split(":");return{host:X,port:di(Ne)}}}(c);D.config.emulator={url:`${X}//${Ne}${null===it?"":`:${it}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ne,port:it,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),function(y){function c(){const f=document.createElement("p"),D=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!y&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",c):c())}(V)}function jr(y){const c=y.indexOf(":");return c<0?"":y.substr(0,c+1)}function di(y){if(!y)return null;const c=Number(y);return isNaN(c)?null:c}class xr{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return Zt("not implemented")}_getIdTokenResponse(c){return Zt("not implemented")}_linkToIdToken(c,f){return Zt("not implemented")}_getReauthenticationResolver(c){return Zt("not implemented")}}function fi(y,c){return kt.apply(this,arguments)}function kt(){return(kt=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:resetPassword",Sn(y,c))})).apply(this,arguments)}function Un(y,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Br(y,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:update",Sn(y,c))})).apply(this,arguments)}function ir(){return(ir=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithPassword",Sn(y,c))})).apply(this,arguments)}function Nr(y,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:sendOobCode",Sn(y,c))})).apply(this,arguments)}function vt(y,c){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,b.Z)(function*(y,c){return Nr(y,c)})).apply(this,arguments)}function oe(y,c){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,b.Z)(function*(y,c){return Nr(y,c)})).apply(this,arguments)}function Ee(y,c){return Le.apply(this,arguments)}function Le(){return(Le=(0,b.Z)(function*(y,c){return Nr(y,c)})).apply(this,arguments)}function et(y,c){return nt.apply(this,arguments)}function nt(){return(nt=(0,b.Z)(function*(y,c){return Nr(y,c)})).apply(this,arguments)}function gt(){return(gt=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithEmailLink",Sn(y,c))})).apply(this,arguments)}function Dn(){return(Dn=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithEmailLink",Sn(y,c))})).apply(this,arguments)}class hn extends xr{constructor(c,f,D,V=null){super("password",D),this._email=c,this._password=f,this._tenantId=V}static _fromEmailAndPassword(c,f){return new hn(c,f,"password")}static _fromEmailAndCode(c,f,D=null){return new hn(c,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,b.Z)(function*(){switch(f.signInMethod){case"password":return function(y,c){return ir.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(y,c){return gt.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ve(c,"internal-error")}})()}_linkToIdToken(c,f){var D=this;return(0,b.Z)(function*(){switch(D.signInMethod){case"password":return Un(c,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(y,c){return Dn.apply(this,arguments)}(c,{idToken:f,email:D._email,oobCode:D._password});default:Ve(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function un(y,c){return hi.apply(this,arguments)}function hi(){return(hi=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithIdp",Sn(y,c))})).apply(this,arguments)}class $n extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new $n(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ve("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:V}=f,X=(0,F._T)(f,["providerId","signInMethod"]);if(!D||!V)return null;const Ne=new $n(D,V);return Object.assign(Ne,X),Ne}_getIdTokenResponse(c){return un(c,this.buildRequest())}_linkToIdToken(c,f){const D=this.buildRequest();return D.idToken=f,un(c,D)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,un(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,I.xO)(f)}return c}}function ks(y,c){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:sendVerificationCode",Sn(y,c))})).apply(this,arguments)}function Hi(){return(Hi=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithPhoneNumber",Sn(y,c))})).apply(this,arguments)}function Uo(){return(Uo=(0,b.Z)(function*(y,c){const f=yield en(y,"POST","/v1/accounts:signInWithPhoneNumber",Sn(y,c));if(f.temporaryProof)throw ar(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ro={USER_NOT_FOUND:"user-not-found"};function Cs(){return(Cs=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithPhoneNumber",Sn(y,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ro)})).apply(this,arguments)}class us extends xr{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new us({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new us({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function(y,c){return Hi.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function(y,c){return Uo.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function(y,c){return Cs.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:D,verificationCode:V}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:D,code:V}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}=c;return D||f||V||X?new us({verificationId:f,verificationCode:D,phoneNumber:V,temporaryProof:X}):null}}class sn{constructor(c){var f,D,V,X,Ne,it;const At=(0,I.zd)((0,I.pd)(c)),Bt=null!==(f=At.apiKey)&&void 0!==f?f:null,bn=null!==(D=At.oobCode)&&void 0!==D?D:null,Rr=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=At.mode)&&void 0!==V?V:null);Fe(Bt&&bn&&Rr,"argument-error"),this.apiKey=Bt,this.operation=Rr,this.code=bn,this.continueUrl=null!==(X=At.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Ne=At.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(it=At.tenantId)&&void 0!==it?it:null}static parseLink(c){const f=function(y){const c=(0,I.zd)((0,I.pd)(y)).link,f=c?(0,I.zd)((0,I.pd)(c)).deep_link_id:null,D=(0,I.zd)((0,I.pd)(y)).deep_link_id;return(D?(0,I.zd)((0,I.pd)(D)).link:null)||D||f||c||y}(c);try{return new sn(f)}catch(D){return null}}}let Fs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,D){return hn._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const V=sn.parseLink(D);return Fe(V,"argument-error"),hn._fromEmailAndCode(f,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class $i{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ei extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class bi extends ei{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return Fe("providerId"in f&&"signInMethod"in f,"argument-error"),$n._fromParams(f)}credential(c){return this._credential(c)}_credential(c){return Fe(c.idToken||c.accessToken,"argument-error"),$n._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return bi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return bi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:V,pendingToken:X,nonce:Ne,providerId:it}=c;if(!D&&!V&&!f&&!X||!it)return null;try{return new bi(it)._credential({idToken:f,accessToken:D,rawNonce:Ne,pendingToken:X})}catch(At){return null}}}let Hr=(()=>{class y extends ei{constructor(){super("facebook.com")}static credential(f){return $n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(D){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ma=(()=>{class y extends ei{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return $n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:V}=f;if(!D&&!V)return null;try{return y.credential(D,V)}catch(X){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ar=(()=>{class y extends ei{constructor(){super("github.com")}static credential(f){return $n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(D){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qn extends xr{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return un(c,this.buildRequest())}_linkToIdToken(c,f){const D=this.buildRequest();return D.idToken=f,un(c,D)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,un(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:V,pendingToken:X}=f;return D&&V&&X&&D===V?new Qn(D,X):null}static _create(c,f){return new Qn(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let te=(()=>{class y extends ei{constructor(){super("twitter.com")}static credential(f,D){return $n._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:V}=f;if(!D||!V)return null;try{return y.credential(D,V)}catch(X){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ge(y,c){return De.apply(this,arguments)}function De(){return(De=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signUp",Sn(y,c))})).apply(this,arguments)}class Ye{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,D,V=!1){return(0,b.Z)(function*(){const X=yield at._fromIdTokenResponse(c,D,V),Ne=ot(D);return new Ye({user:X,providerId:Ne,_tokenResponse:D,operationType:f})})()}static _forOperation(c,f,D){return(0,b.Z)(function*(){yield c._updateTokensIfNecessary(D,!0);const V=ot(D);return new Ye({user:c,providerId:V,_tokenResponse:D,operationType:f})})()}}function ot(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jt(y){return ht.apply(this,arguments)}function ht(){return(ht=(0,b.Z)(function*(y){var c;const f=Ot(y);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new Ye({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield ge(f,{returnSecureToken:!0}),V=yield Ye._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class zt extends I.ZR{constructor(c,f,D,V){var X;super(f.code,f.message),this.operationType=D,this.user=V,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),this.appName=c.name,this.code=f.code,this.tenantId=null!==(X=c.tenantId)&&void 0!==X?X:void 0,this.serverResponse=f.customData.serverResponse}static _fromErrorAndOperation(c,f,D,V){return new zt(c,f,D,V)}}function Yt(y,c,f,D){return("reauthenticate"===c?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?zt._fromErrorAndOperation(y,X,c,D):X})}function Ht(y){return new Set(y.map(({providerId:c})=>c).filter(c=>!!c))}function yr(y,c){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,b.Z)(function*(y,c){const f=(0,I.m9)(y);yield Er(!0,f,c);const{providerUserInfo:D}=yield Wr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),V=Ht(D||[]);return f.providerData=f.providerData.filter(X=>V.has(X.providerId)),V.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function xn(y,c){return vr.apply(this,arguments)}function vr(){return(vr=(0,b.Z)(function*(y,c,f=!1){const D=yield rn(y,c._linkToIdToken(y.auth,yield y.getIdToken()),f);return Ye._forOperation(y,"link",D)})).apply(this,arguments)}function Er(y,c,f){return R.apply(this,arguments)}function R(){return(R=(0,b.Z)(function*(y,c,f){yield Mn(c);const V=!1===y?"provider-already-linked":"no-such-provider";Fe(Ht(c.providerData).has(f)===y,c.auth,V)})).apply(this,arguments)}function j(y,c){return S.apply(this,arguments)}function S(){return(S=(0,b.Z)(function*(y,c,f=!1){const{auth:D}=y,V="reauthenticate";try{const X=yield rn(y,Yt(D,V,c,y),f);Fe(X.idToken,D,"internal-error");const Ne=tn(X.idToken);Fe(Ne,D,"internal-error");const{sub:it}=Ne;return Fe(y.uid===it,D,"user-mismatch"),Ye._forOperation(y,V,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&Ve(D,"user-mismatch"),X}})).apply(this,arguments)}function $(y,c){return ue.apply(this,arguments)}function ue(){return(ue=(0,b.Z)(function*(y,c,f=!1){const D="signIn",V=yield Yt(y,D,c),X=yield Ye._fromIdTokenResponse(y,D,V);return f||(yield y._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Be(y,c){return qe.apply(this,arguments)}function qe(){return(qe=(0,b.Z)(function*(y,c){return $(Ot(y),c)})).apply(this,arguments)}function _t(y,c){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,b.Z)(function*(y,c){const f=(0,I.m9)(y);return yield Er(!1,f,c.providerId),xn(f,c)})).apply(this,arguments)}function zn(y,c){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,b.Z)(function*(y,c){return j((0,I.m9)(y),c)})).apply(this,arguments)}function ln(y,c){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,b.Z)(function*(y,c){return en(y,"POST","/v1/accounts:signInWithCustomToken",Sn(y,c))})).apply(this,arguments)}function Vn(y,c){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,b.Z)(function*(y,c){const f=Ot(y),D=yield ln(f,{token:c,returnSecureToken:!0}),V=yield Ye._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class ti{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?fr._fromServerResponse(c,f):Ve(c,"internal-error")}}class fr extends ti{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new fr(f)}}function Ii(y,c,f){var D;Fe((null===(D=f.url)||void 0===D?void 0:D.length)>0,y,"invalid-continue-uri"),Fe(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Fe(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),c.iosBundleId=f.iOS.bundleId),f.android&&(Fe(f.android.packageName.length>0,y,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function ai(y,c,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y),V={requestType:"PASSWORD_RESET",email:c};f&&Ii(D,V,f),yield oe(D,V)})).apply(this,arguments)}function Us(y,c,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,b.Z)(function*(y,c,f){yield fi((0,I.m9)(y),{oobCode:c,newPassword:f})})).apply(this,arguments)}function gu(y,c){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,b.Z)(function*(y,c){yield Br((0,I.m9)(y),{oobCode:c})})).apply(this,arguments)}function Vo(y,c){return jo.apply(this,arguments)}function jo(){return(jo=(0,b.Z)(function*(y,c){const f=(0,I.m9)(y),D=yield fi(f,{oobCode:c}),V=D.requestType;switch(Fe(V,f,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(D.mfaInfo,f,"internal-error");default:Fe(D.email,f,"internal-error")}let X=null;return D.mfaInfo&&(X=ti._fromServerResponse(Ot(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:X},operation:V}})).apply(this,arguments)}function Na(y,c){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,b.Z)(function*(y,c){const{data:f}=yield Vo((0,I.m9)(y),c);return f.email})).apply(this,arguments)}function An(y,c,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,b.Z)(function*(y,c,f){const D=Ot(y),V=yield ge(D,{returnSecureToken:!0,email:c,password:f}),X=yield Ye._fromIdTokenResponse(D,"signIn",V);return yield D._updateCurrentUser(X.user),X})).apply(this,arguments)}function br(y,c,f){return Be((0,I.m9)(y),Fs.credential(c,f))}function _a(y,c,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y),V={requestType:"EMAIL_SIGNIN",email:c};Fe(f.handleCodeInApp,D,"argument-error"),f&&Ii(D,V,f),yield Ee(D,V)})).apply(this,arguments)}function wi(y,c){const f=sn.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}function ya(y,c,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y),V=Fs.credentialWithLink(c,f||be());return Fe(V._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Be(D,V)})).apply(this,arguments)}function ka(y,c){return La.apply(this,arguments)}function La(){return(La=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:createAuthUri",Sn(y,c))})).apply(this,arguments)}function io(y,c){return Di.apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(y,c){const D={identifier:c,continueUri:je()?be():"http://localhost"},{signinMethods:V}=yield ka((0,I.m9)(y),D);return V||[]})).apply(this,arguments)}function Yr(y,c){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(y,c){const f=(0,I.m9)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};c&&Ii(f.auth,V,c);const{email:X}=yield vt(f.auth,V);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function va(y,c,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:c};f&&Ii(D.auth,X,f);const{email:Ne}=yield et(D.auth,X);Ne!==y.email&&(yield y.reload())})).apply(this,arguments)}function Gi(y,c){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,b.Z)(function*(y,c){return dn(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Fa(y,c){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,b.Z)(function*(y,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const D=(0,I.m9)(y),X={idToken:yield D.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},Ne=yield rn(D,Gi(D.auth,X));D.displayName=Ne.displayName||null,D.photoURL=Ne.photoUrl||null;const it=D.providerData.find(({providerId:At})=>"password"===At);it&&(it.displayName=D.displayName,it.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function Ni(y,c){return js((0,I.m9)(y),c,null)}function $o(y,c){return js((0,I.m9)(y),null,c)}function js(y,c,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,b.Z)(function*(y,c,f){const{auth:D}=y,X={idToken:yield y.getIdToken(),returnSecureToken:!0};c&&(X.email=c),f&&(X.password=f);const Ne=yield rn(y,Un(D,X));yield y._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class ki{constructor(c,f,D={}){this.isNewUser=c,this.providerId=f,this.profile=D}}class cs extends ki{constructor(c,f,D,V){super(c,f,D),this.username=V}}class ds extends ki{constructor(c,f){super(c,"facebook.com",f)}}class Ki extends cs{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class mu extends ki{constructor(c,f){super(c,"google.com",f)}}class _u extends cs{constructor(c,f,D){super(c,"twitter.com",f,D)}}function Wo(y){const{user:c,_tokenResponse:f}=y;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(y){var c,f;if(!y)return null;const{providerId:D}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},X=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!D&&(null==y?void 0:y.idToken)){const Ne=null===(f=null===(c=tn(y.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ne)return new ki(X,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!D)return null;switch(D){case"facebook.com":return new ds(X,V);case"github.com":return new Ki(X,V);case"google.com":return new mu(X,V);case"twitter.com":return new _u(X,V,y.screenName||null);case"custom":case"anonymous":return new ki(X,null);default:return new ki(X,D,V)}}(f)}function Is(y,c,f,D){return(0,I.m9)(y).onAuthStateChanged(c,f,D)}function sr(y){return(0,I.m9)(y).signOut()}class so{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new so("enroll",c)}static _fromMfaPendingCredential(c){return new so("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,D;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return so._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(D=c.multiFactorSession)||void 0===D?void 0:D.idToken)return so._fromIdtoken(c.multiFactorSession.idToken)}return null}}class _n{constructor(c,f,D){this.session=c,this.hints=f,this.signInResolver=D}static _fromError(c,f){const D=Ot(c),V=(f.serverResponse.mfaInfo||[]).map(Ne=>ti._fromServerResponse(D,Ne));Fe(f.serverResponse.mfaPendingCredential,D,"internal-error");const X=so._fromMfaPendingCredential(f.serverResponse.mfaPendingCredential);return new _n(X,V,function(){var Ne=(0,b.Z)(function*(it){const At=yield it._process(D,X);delete f.serverResponse.mfaInfo,delete f.serverResponse.mfaPendingCredential;const Bt=Object.assign(Object.assign({},f.serverResponse),{idToken:At.idToken,refreshToken:At.refreshToken});switch(f.operationType){case"signIn":const bn=yield Ye._fromIdTokenResponse(D,f.operationType,Bt);return yield D._updateCurrentUser(bn.user),bn;case"reauthenticate":return Fe(f.user,D,"internal-error"),Ye._forOperation(f.user,f.operationType,Bt);default:Ve(D,"internal-error")}});return function(it){return Ne.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,b.Z)(function*(){return f.signInResolver(c)})()}}function Yi(y,c){var f;const D=(0,I.m9)(y),V=c;return Fe(c.operationType,D,"argument-error"),Fe(null===(f=V.serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),_n._fromError(D,V)}function fs(y,c){return dn(y,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:y.tenantId},c))}class Hs{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>ti._fromServerResponse(c.auth,D)))})}static _fromUser(c){return new Hs(c)}getSession(){var c=this;return(0,b.Z)(function*(){return so._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var D=this;return(0,b.Z)(function*(){const V=c,X=yield D.getSession(),Ne=yield rn(D.user,V._process(D.user.auth,X,f));return yield D.user._updateTokensIfNecessary(Ne),D.user.reload()})()}unenroll(c){var f=this;return(0,b.Z)(function*(){const D="string"==typeof c?c:c.uid,V=yield f.user.getIdToken(),X=yield rn(f.user,function(y,c){return dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:y.tenantId},c))}(f.user.auth,{idToken:V,mfaEnrollmentId:D}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ne})=>Ne!==D),yield f.user._updateTokensIfNecessary(X);try{yield f.user.reload()}catch(Ne){if("auth/user-token-expired"!==Ne.code)throw Ne}})()}}const qi=new WeakMap;function Ua(y){const c=(0,I.m9)(y);return qi.has(c)||qi.set(c,Hs._fromUser(c)),qi.get(c)}const or="__sak";class Zi{constructor(c,f){this.storage=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}}const Ca=(()=>{class y extends Zi{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,I.z$)();return er(y)||Jr(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const V=this.storage.getItem(D),X=this.localCache[D];V!==X&&f(D,X,V)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((it,At,Bt)=>{this.notifyListeners(it,Bt)});const V=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(V);if(f.newValue!==it)null!==f.newValue?this.storage.setItem(V,f.newValue):this.storage.removeItem(V);else if(this.localCache[V]===f.newValue&&!D)return}const X=()=>{const it=this.storage.getItem(V);!D&&this.localCache[V]===it||this.notifyListeners(V,it)},Ne=this.storage.getItem(V);(0,I.w1)()&&10===document.documentMode&&Ne!==f.newValue&&f.newValue!==f.oldValue?setTimeout(X,10):X()}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var V=()=>super._set,X=this;return(0,b.Z)(function*(){yield V().call(X,f,D),X.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,V=this;return(0,b.Z)(function*(){const X=yield D().call(V,f);return V.localCache[f]=JSON.stringify(X),X})()}_remove(f){var D=()=>super._remove,V=this;return(0,b.Z)(function*(){yield D().call(V,f),delete V.localCache[f]})()}}return y.type="LOCAL",y})(),Yo=(()=>{class y extends Zi{constructor(){super(window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return y.type="SESSION",y})();let Nn=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(X=>X.isListeningto(f));if(D)return D;const V=new y(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,b.Z)(function*(){const V=f,{eventId:X,eventType:Ne,data:it}=V.data,At=D.handlersMap[Ne];if(!(null==At?void 0:At.size))return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:Ne});const Bt=Array.from(At).map(function(){var Rr=(0,b.Z)(function*(Vi){return Vi(V.origin,it)});return function(Vi){return Rr.apply(this,arguments)}}()),bn=yield function(y){return Promise.all(y.map(function(){var c=(0,b.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return c.apply(this,arguments)}}()))}(Bt);V.ports[0].postMessage({status:"done",eventId:X,eventType:Ne,response:bn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function hs(y="",c=10){let f="";for(let D=0;D<c;D++)f+=Math.floor(10*Math.random());return y+f}class Do{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,D=50){var V=this;return(0,b.Z)(function*(){const X="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Ne,it;return new Promise((At,Bt)=>{const bn=hs("",20);X.port1.start();const Rr=setTimeout(()=>{Bt(new Error("unsupported_event"))},D);it={messageChannel:X,onMessage(Vi){const ts=Vi;if(ts.data.eventId===bn)switch(ts.data.status){case"ack":clearTimeout(Rr),Ne=setTimeout(()=>{Bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),At(ts.data.response);break;default:clearTimeout(Rr),clearTimeout(Ne),Bt(new Error("invalid_response"))}}},V.handlers.add(it),X.port1.addEventListener("message",it.onMessage),V.target.postMessage({eventType:c,eventId:bn,data:f},[X.port2])}).finally(()=>{it&&V.removeMessageHandler(it)})})()}}function hr(){return window}function Va(){return void 0!==hr().WorkerGlobalScope&&"function"==typeof hr().importScripts}function Ts(){return(Ts=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ss="firebaseLocalStorageDb",qo="firebaseLocalStorage",lo="fbase_key";class So{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ws(y,c){return y.transaction([qo],c?"readwrite":"readonly").objectStore(qo)}function Ai(){const y=indexedDB.open(Ss,1);return new Promise((c,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const D=y.result;try{D.createObjectStore(qo,{keyPath:lo})}catch(V){f(V)}}),y.addEventListener("success",(0,b.Z)(function*(){const D=y.result;D.objectStoreNames.contains(qo)?c(D):(D.close(),yield function(){const y=indexedDB.deleteDatabase(Ss);return new So(y).toPromise()}(),c(yield Ai()))}))})}function pr(y,c,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,b.Z)(function*(y,c,f){const D=Ws(y,!0).put({[lo]:c,value:f});return new So(D).toPromise()})).apply(this,arguments)}function co(){return(co=(0,b.Z)(function*(y,c){const f=Ws(y,!1).get(c),D=yield new So(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Qi(y,c){const f=Ws(y,!0).delete(c);return new So(f).toPromise()}const _=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,b.Z)(function*(){return f.db||(f.db=yield Ai()),f.db})()}_withRetries(f){var D=this;return(0,b.Z)(function*(){let V=0;for(;;)try{const X=yield D._openDb();return yield f(X)}catch(X){if(V++>3)throw X;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,b.Z)(function*(){return Va()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,b.Z)(function*(){f.receiver=Nn._getInstance(Va()?self:null),f.receiver._subscribe("keyChanged",function(){var D=(0,b.Z)(function*(V,X){return{keyProcessed:(yield f._poll()).includes(X.key)}});return function(V,X){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,b.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,b.Z)(function*(){var D,V;if(f.activeServiceWorker=yield function(){return Ts.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Do(f.activeServiceWorker);const X=yield f.sender._send("ping",{},800);!X||(null===(D=X[0])||void 0===D?void 0:D.fulfilled)&&(null===(V=X[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,b.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Ai();return yield pr(f,or,"1"),yield Qi(f,or),!0}catch(f){}return!1})()}_withPendingWrite(f){var D=this;return(0,b.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var V=this;return(0,b.Z)(function*(){return V._withPendingWrite((0,b.Z)(function*(){return yield V._withRetries(X=>pr(X,f,D)),V.localCache[f]=D,V.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,b.Z)(function*(){const V=yield D._withRetries(X=>function(y,c){return co.apply(this,arguments)}(X,f));return D.localCache[f]=V,V})()}_remove(f){var D=this;return(0,b.Z)(function*(){return D._withPendingWrite((0,b.Z)(function*(){return yield D._withRetries(V=>Qi(V,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,b.Z)(function*(){const D=yield f._withRetries(Ne=>{const it=Ws(Ne,!1).getAll();return new So(it).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const V=[],X=new Set;for(const{fbase_key:Ne,value:it}of D)X.add(Ne),JSON.stringify(f.localCache[Ne])!==JSON.stringify(it)&&(f.notifyListeners(Ne,it),V.push(Ne));for(const Ne of Object.keys(f.localCache))f.localCache[Ne]&&!X.has(Ne)&&(f.notifyListeners(Ne,null),V.push(Ne));return V})()}notifyListeners(f,D){this.localCache[f]=D;const V=this.listeners[f];if(V)for(const X of Array.from(V))X(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function g(y,c){return dn(y,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:y.tenantId},c))}function W(){return(W=(0,b.Z)(function*(y){return(yield dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function me(y){return new Promise((c,f)=>{const D=document.createElement("script");D.setAttribute("src",y),D.onload=c,D.onerror=V=>{const X=rt("internal-error");X.customData=V,f(X)},D.type="text/javascript",D.charset="UTF-8",function(){var y,c;return null!==(c=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==c?c:document}().appendChild(D)})}function Ze(y){return`__${y}${Math.floor(1e6*Math.random())}`}const cn=1e12;class Jn{constructor(c){this.auth=c,this.counter=cn,this._widgets=new Map}render(c,f){const D=this.counter;return this._widgets.set(D,new Rn(c,this.auth.name,f||{})),this.counter++,D}reset(c){var f;const D=c||cn;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(c){var f;return(null===(f=this._widgets.get(c||cn))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,b.Z)(function*(){var D;return null===(D=f._widgets.get(c||cn))||void 0===D||D.execute(),""})()}}class Rn{constructor(c,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof c?document.getElementById(c):c;Fe(V,"argument-error",{appName:f}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}();const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ii=Ze("rcb"),_i=new Qt(3e4,6e4);class Ri{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!hr().grecaptcha}load(c,f=""){return Fe((y=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(hr().grecaptcha):new Promise((D,V)=>{const X=hr().setTimeout(()=>{V(rt(c,"network-request-failed"))},_i.get());hr()[ii]=()=>{hr().clearTimeout(X),delete hr()[ii];const it=hr().grecaptcha;if(!it)return void V(rt(c,"internal-error"));const At=it.render;it.render=(Bt,bn)=>{const Rr=At(Bt,bn);return this.counter++,Rr},this.hostLanguage=f,D(it)},me(`https://www.google.com/recaptcha/api.js??${(0,I.xO)({onload:ii,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(X),V(rt(c,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!hr().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Os{load(c){return(0,b.Z)(function*(){return new Jn(c)})()}clearedOneInstance(){}}const Ha="recaptcha",dl={theme:"light",type:"image"};class Ol{constructor(c,f=Object.assign({},dl),D){this.parameters=f,this.type=Ha,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(D),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof c?document.getElementById(c):c;Fe(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new Ri,this.validateStartingState()}verify(){var c=this;return(0,b.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),D=c.getAssertedRecaptcha();return D.getResponse(f)||new Promise(X=>{const Ne=it=>{!it||(c.tokenChangeListeners.delete(Ne),X(it))};c.tokenChangeListeners.add(Ne),c.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof c)c(f);else if("string"==typeof c){const D=hr()[c];"function"==typeof D&&D(f)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,b.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,b.Z)(function*(){Fe(je()&&!Va(),c.auth,"internal-error"),yield function(){let y=null;return new Promise(c=>{"complete"!==document.readyState?(y=()=>c(),window.addEventListener("load",y)):c()}).catch(c=>{throw y&&window.removeEventListener("load",y),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function(y){return W.apply(this,arguments)}(c.auth);Fe(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ju{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=us._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function vu(y,c,f){return $a.apply(this,arguments)}function $a(){return($a=(0,b.Z)(function*(y,c,f){const D=Ot(y),V=yield Eu(D,c,(0,I.m9)(f));return new ju(V,X=>Be(D,X))})).apply(this,arguments)}function yn(y,c,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y);yield Er(!1,D,"phone");const V=yield Eu(D.auth,c,(0,I.m9)(f));return new ju(V,X=>_t(D,X))})).apply(this,arguments)}function Ps(y,c,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y),V=yield Eu(D.auth,c,(0,I.m9)(f));return new ju(V,X=>zn(D,X))})).apply(this,arguments)}function Eu(y,c,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,b.Z)(function*(y,c,f){var D;const V=yield f.verify();try{let X;if(Fe("string"==typeof V,y,"argument-error"),Fe(f.type===Ha,y,"argument-error"),X="string"==typeof c?{phoneNumber:c}:c,"session"in X){const Ne=X.session;if("phoneNumber"in X)return Fe("enroll"===Ne.type,y,"internal-error"),(yield fs(y,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Fe("signin"===Ne.type,y,"internal-error");const it=(null===(D=X.multiFactorHint)||void 0===D?void 0:D.uid)||X.multiFactorUid;return Fe(it,y,"missing-multi-factor-info"),(yield g(y,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield ks(y,{phoneNumber:X.phoneNumber,recaptchaToken:V});return Ne}}finally{f._reset()}})).apply(this,arguments)}function Zo(y,c){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,b.Z)(function*(y,c){yield xn((0,I.m9)(y),c)})).apply(this,arguments)}let ho=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=Ot(f)}verifyPhoneNumber(f,D){return Eu(this.auth,f,(0,I.m9)(D))}static credential(f,D){return us._fromVerification(f,D)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:V}=f;return D&&V?us._fromTokenResponse(D,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function po(y,c){return c?ke(c):(Fe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ir extends xr{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return un(c,this._buildIdpRequest())}_linkToIdToken(c,f){return un(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return un(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Cu(y){return $(y.auth,new Ir(y),y.bypassAuthState)}function Ia(y){const{auth:c,user:f}=y;return Fe(f,c,"internal-error"),j(f,new Ir(y),y.bypassAuthState)}function fl(y){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(y){const{auth:c,user:f}=y;return Fe(f,c,"internal-error"),xn(f,new Ir(y),y.bypassAuthState)})).apply(this,arguments)}class Lr{constructor(c,f,D,V,X=!1){this.auth=c,this.resolver=D,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,b.Z)(function*(D,V){c.pendingPromise={resolve:D,reject:V};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(X){c.reject(X)}});return function(D,V){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,b.Z)(function*(){const{urlResponse:D,sessionId:V,postBody:X,tenantId:Ne,error:it,type:At}=c;if(it)return void f.reject(it);const Bt={auth:f.auth,requestUri:D,sessionId:V,tenantId:Ne||void 0,postBody:X||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(At)(Bt))}catch(bn){f.reject(bn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return fl;case"reauthViaPopup":case"reauthViaRedirect":return Ia;default:Ve(this.auth,"internal-error")}}resolve(c){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Li=new Qt(2e3,1e4);function Xo(y,c,f){return go.apply(this,arguments)}function go(){return(go=(0,b.Z)(function*(y,c,f){const D=Ot(y);Fe(c instanceof $i,y,"argument-error");const V=po(D,f);return new ta(D,"signInViaPopup",c,V).executeNotNull()})).apply(this,arguments)}function mo(y,c,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y);Fe(c instanceof $i,D.auth,"argument-error");const V=po(D.auth,f);return new ta(D.auth,"reauthViaPopup",c,V,D).executeNotNull()})).apply(this,arguments)}function Bu(y,c,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y);Fe(c instanceof $i,D.auth,"argument-error");const V=po(D.auth,f);return new ta(D.auth,"linkViaPopup",c,V,D).executeNotNull()})).apply(this,arguments)}let ta=(()=>{class y extends Lr{constructor(f,D,V,X,Ne){super(f,D,X,Ne),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,b.Z)(function*(){const D=yield f.execute();return Fe(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,b.Z)(function*(){xt(1===f.filter.length,"Popup operations only handle one event");const D=hs();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(V=>{f.reject(V)}),f.resolver._isIframeWebStorageSupported(f.auth,V=>{V||f.reject(rt(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,V;this.pollId=(null===(V=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Li.get())};f()}}return y.currentPopupAction=null,y})();const wu=new Map;class ui extends Lr{constructor(c,f,D=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,b.Z)(function*(){let D=wu.get(f.auth._key());if(!D){try{const X=(yield function(y,c){return $r.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;D=()=>Promise.resolve(X)}catch(V){D=()=>Promise.reject(V)}wu.set(f.auth._key(),D)}return D()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,D=this;return(0,b.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(D,c);if("unknown"!==c.type){if(c.eventId){const V=yield D.auth._redirectUserForId(c.eventId);if(V)return D.user=V,f().call(D,c);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function $r(){return($r=(0,b.Z)(function*(y,c){const f=za(c),D="true"===(yield Wa(y)._get(f));return yield Wa(y)._remove(f),D})).apply(this,arguments)}function Ji(y,c){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,b.Z)(function*(y,c){return Wa(y)._set(za(c),"true")})).apply(this,arguments)}function ps(){wu.clear()}function Wa(y){return ke(y._redirectPersistence)}function za(y){return En("pendingRedirect",y.config.apiKey,y.name)}function Hu(y,c,f){return function(y,c,f){return yi.apply(this,arguments)}(y,c,f)}function yi(){return(yi=(0,b.Z)(function*(y,c,f){const D=Ot(y);Fe(c instanceof $i,y,"argument-error");const V=po(D,f);return yield Ji(V,D),V._openRedirect(D,c,"signInViaRedirect")})).apply(this,arguments)}function Ka(y,c,f){return function(y,c,f){return $u.apply(this,arguments)}(y,c,f)}function $u(){return($u=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y);Fe(c instanceof $i,D.auth,"argument-error");const V=po(D.auth,f);yield Ji(V,D.auth);const X=yield Gu(D);return V._openRedirect(D.auth,c,"reauthViaRedirect",X)})).apply(this,arguments)}function na(y,c,f){return function(y,c,f){return qs.apply(this,arguments)}(y,c,f)}function qs(){return(qs=(0,b.Z)(function*(y,c,f){const D=(0,I.m9)(y);Fe(c instanceof $i,D.auth,"argument-error");const V=po(D.auth,f);yield Er(!1,D,c.providerId),yield Ji(V,D.auth);const X=yield Gu(D);return V._openRedirect(D.auth,c,"linkViaRedirect",X)})).apply(this,arguments)}function Wu(y,c){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.Z)(function*(y,c){return yield Ot(y)._initializationPromise,Ya(y,c,!1)})).apply(this,arguments)}function Ya(y,c){return ra.apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(y,c,f=!1){const D=Ot(y),V=po(D,c),Ne=yield new ui(D,V,f).execute();return Ne&&!f&&(delete Ne.user._redirectEventId,yield D._persistUserIfCurrent(Ne.user),yield D._setRedirectUser(null,c)),Ne})).apply(this,arguments)}function Gu(y){return ia.apply(this,arguments)}function ia(){return(ia=(0,b.Z)(function*(y){const c=hs(`${y.uid}:::`);return y._redirectEventId=c,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),c})).apply(this,arguments)}class Zs{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(c,D)&&(f=!0,this.sendToConsumer(c,D),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gr(y);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var D;if(c.error&&!gr(c)){const V=(null===(D=c.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(rt(this.auth,V))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const D=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&D}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(c))}saveEventToCache(c){this.cachedEventUids.add(Ro(c)),this.lastProcessedEventTime=Date.now()}}function Ro(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(c=>c).join("-")}function gr({type:y,error:c}){return"unknown"===y&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Pl(y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,b.Z)(function*(y,c={}){return dn(y,"GET","/v1/projects",c)})).apply(this,arguments)}const Oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function oa(){return(oa=(0,b.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:c}=yield Pl(y);for(const f of c)try{if(hl(f))return}catch(D){}Ve(y,"unauthorized-domain")})).apply(this,arguments)}function hl(y){const c=be(),{protocol:f,hostname:D}=new URL(c);if(y.startsWith("chrome-extension://")){const Ne=new URL(y);return""===Ne.hostname&&""===D?"chrome-extension:"===f&&y.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&Ne.hostname===D}if(!qa.test(f))return!1;if(Oo.test(y))return D===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(D)}const Da=new Qt(3e4,6e4);function gs(){const y=hr().___jsl;if(null==y?void 0:y.H)for(const c of Object.keys(y.H))if(y.H[c].r=y.H[c].r||[],y.H[c].L=y.H[c].L||[],y.H[c].r=[...y.H[c].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Oi=null;function Ku(y){return Oi=Oi||function(y){return new Promise((c,f)=>{var D,V,X;function Ne(){gs(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{gs(),f(rt(y,"network-request-failed"))},timeout:Da.get()})}if(null===(V=null===(D=hr().gapi)||void 0===D?void 0:D.iframes)||void 0===V?void 0:V.Iframe)c(gapi.iframes.getContext());else{if(!(null===(X=hr().gapi)||void 0===X?void 0:X.load)){const it=Ze("iframefcb");return hr()[it]=()=>{gapi.load?Ne():f(rt(y,"network-request-failed"))},me(`https://apis.google.com/js/api.js?onload=${it}`)}Ne()}}).catch(c=>{throw Oi=null,c})}(y),Oi}const pl=new Qt(5e3,15e3),aa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},gl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yu(y){const c=y.config;Fe(c.authDomain,y,"auth-domain-config-required");const f=c.emulator?Tt(c,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,D={apiKey:c.apiKey,appName:y.name,v:fe.SDK_VERSION},V=gl.get(y.config.apiHost);V&&(D.eid=V);const X=y._getFrameworks();return X.length&&(D.fw=X.join(",")),`${f}?${(0,I.xO)(D).slice(1)}`}function Ms(){return(Ms=(0,b.Z)(function*(y){const c=yield Ku(y),f=hr().gapi;return Fe(f,y,"internal-error"),c.open({where:document.body,url:Yu(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aa,dontclear:!0},D=>new Promise(function(){var V=(0,b.Z)(function*(X,Ne){yield D.restyle({setHideOnLeave:!1});const it=rt(y,"network-request-failed"),At=hr().setTimeout(()=>{Ne(it)},pl.get());function Bt(){hr().clearTimeout(At),X(D)}D.ping(Bt).then(Bt,()=>{Ne(it)})});return function(X,Ne){return V.apply(this,arguments)}}()))})).apply(this,arguments)}const qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qa{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function Qs(y,c,f,D,V,X){Fe(y.config.authDomain,y,"auth-domain-config-required"),Fe(y.config.apiKey,y,"invalid-api-key");const Ne={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:D,v:fe.SDK_VERSION,eventId:V};if(c instanceof $i){c.setDefaultLanguage(y.languageCode),Ne.providerId=c.providerId||"",(0,I.xb)(c.getCustomParameters())||(Ne.customParameters=JSON.stringify(c.getCustomParameters()));for(const[At,Bt]of Object.entries(X||{}))Ne[At]=Bt}if(c instanceof ei){const At=c.getScopes().filter(Bt=>""!==Bt);At.length>0&&(Ne.scopes=At.join(","))}y.tenantId&&(Ne.tid=y.tenantId);const it=Ne;for(const At of Object.keys(it))void 0===it[At]&&delete it[At];return`${function({config:y}){return y.emulator?Tt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,I.xO)(it).slice(1)}`}const Ju="webStorageSupport",_o=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yo,this._completeRedirectFn=Ya}_openPopup(c,f,D,V){var X=this;return(0,b.Z)(function*(){var Ne;xt(null===(Ne=X.eventManagers[c._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const it=Qs(c,f,D,be(),V);return function(y,c,f,D=500,V=600){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),Ne=Math.max((window.screen.availWidth-D)/2,0).toString();let it="";const At=Object.assign(Object.assign({},qu),{width:D.toString(),height:V.toString(),top:X,left:Ne}),Bt=(0,I.z$)().toLowerCase();f&&(it=oi(Bt)?"_blank":f),cr(Bt)&&(c=c||"http://localhost",At.scrollbars="yes");const bn=Object.entries(At).reduce((Vi,[ts,tl])=>`${Vi}${ts}=${tl},`,"");if(function(y=(0,I.z$)()){var c;return Jr(y)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(Bt)&&"_self"!==it)return function(y,c){const f=document.createElement("a");f.href=y,f.target=c;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(c||"",it),new Qa(null);const Rr=window.open(c||"",it,bn);Fe(Rr,y,"popup-blocked");try{Rr.focus()}catch(Vi){}return new Qa(Rr)}(c,it,hs())})()}_openRedirect(c,f,D,V){var X=this;return(0,b.Z)(function*(){return yield X._originValidation(c),y=Qs(c,f,D,be(),V),hr().location.href=y,new Promise(()=>{});var y})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:V,promise:X}=this.eventManagers[f];return V?Promise.resolve(V):(xt(X,"If manager is not set, promise should be"),X)}const D=this.initAndGetManager(c);return this.eventManagers[f]={promise:D},D}initAndGetManager(c){var f=this;return(0,b.Z)(function*(){const D=yield function(y){return Ms.apply(this,arguments)}(c),V=new Zs(c);return D.register("authEvent",X=>(Fe(null==X?void 0:X.authEvent,c,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:V},f.iframes[c._key()]=D,V})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Ju,{type:Ju},V=>{var X;const Ne=null===(X=null==V?void 0:V[0])||void 0===X?void 0:X[Ju];void 0!==Ne&&f(!!Ne),Ve(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return oa.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Zn()||er()||Jr()}};class Ja extends class{constructor(c){this.factorId=c}_process(c,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,D);case"signin":return this._finalizeSignIn(c,f.credential);default:return Zt("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Ja(c)}_finalizeEnroll(c,f,D){return function(y,c){return dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:y.tenantId},c))}(c,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function(y,c){return dn(y,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:y.tenantId},c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Xu{constructor(){}static assertion(c){return Ja._fromCredential(c)}}var y;class Ou{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,b.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(D=>{var V;c((null===(V=D)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nl(y=(0,fe.getApp)()){const c=(0,fe._getProvider)(y,"auth");return c.isInitialized()?c.getImmediate():function(y,c){const f=(0,fe._getProvider)(y,"auth");if(f.isInitialized()){const V=f.getImmediate(),X=f.getOptions();if((0,I.vZ)(X,null!=c?c:{}))return V;Ve(V,"already-initialized")}return f.initialize({options:c})}(y,{popupRedirectResolver:_o,persistence:[_,Ca,Yo]})}y="Browser",(0,fe._registerComponent)(new Z.wA("auth",(c,{options:f})=>{const D=c.getProvider("app").getImmediate(),{apiKey:V,authDomain:X}=D.options;return(Ne=>{Fe(V&&!V.includes(":"),"invalid-api-key",{appName:Ne.name}),Fe(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Ne.name});const it={apiKey:V,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(y)},At=new dt(Ne,it);return function(y,c){const f=(null==c?void 0:c.persistence)||[],D=(Array.isArray(f)?f:[f]).map(ke);(null==c?void 0:c.errorMap)&&y._updateErrorMap(c.errorMap),y._initializeWithPersistence(D,null==c?void 0:c.popupRedirectResolver)}(At,f),At})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,D)=>{c.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Z.wA("auth-internal",c=>{const f=Ot(c.getProvider("auth").getImmediate());return new Ou(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)("@firebase/auth","0.17.1",void 0)},6034:(_e,ne,M)=>{"use strict";M.d(ne,{wA:()=>fe,H0:()=>G});var b=M(4762),I=M(4685),fe=function(){function Y(U,J,B){this.name=U,this.instanceFactory=J,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(U){return this.instantiationMode=U,this},Y.prototype.setMultipleInstances=function(U){return this.multipleInstances=U,this},Y.prototype.setServiceProps=function(U){return this.serviceProps=U,this},Y.prototype.setInstanceCreatedCallback=function(U){return this.onInstanceCreated=U,this},Y}(),F="[DEFAULT]",re=function(){function Y(U,J){this.name=U,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(U){var J=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(J)){var B=new I.BH;if(this.instancesDeferred.set(J,B),this.isInitialized(J)||this.shouldAutoInitialize())try{var se=this.getOrInitializeService({instanceIdentifier:J});se&&B.resolve(se)}catch(Ce){}}return this.instancesDeferred.get(J).promise},Y.prototype.getImmediate=function(U){var J,B=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),se=null!==(J=null==U?void 0:U.optional)&&void 0!==J&&J;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(Ce){if(se)return null;throw Ce}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(U){var J,B;if(U.name!==this.name)throw Error("Mismatching Component "+U.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=U,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:F})}catch(Ve){}try{for(var se=(0,b.XA)(this.instancesDeferred.entries()),Ce=se.next();!Ce.done;Ce=se.next()){var We=(0,b.CR)(Ce.value,2),ze=We[1],Re=this.normalizeInstanceIdentifier(We[0]);try{var Ke=this.getOrInitializeService({instanceIdentifier:Re});ze.resolve(Ke)}catch(Ve){}}}catch(Ve){J={error:Ve}}finally{try{Ce&&!Ce.done&&(B=se.return)&&B.call(se)}finally{if(J)throw J.error}}}},Y.prototype.clearInstance=function(U){void 0===U&&(U=F),this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)},Y.prototype.delete=function(){return(0,b.mG)(this,void 0,void 0,function(){var U;return(0,b.Jh)(this,function(J){switch(J.label){case 0:return U=Array.from(this.instances.values()),[4,Promise.all((0,b.ev)((0,b.ev)([],(0,b.CR)(U.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,b.CR)(U.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return J.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(U){return void 0===U&&(U=F),this.instances.has(U)},Y.prototype.getOptions=function(U){return void 0===U&&(U=F),this.instancesOptions.get(U)||{}},Y.prototype.initialize=function(U){var J,B;void 0===U&&(U={});var se=U.options,Ce=void 0===se?{}:se,We=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(We))throw Error(this.name+"("+We+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Me=this.getOrInitializeService({instanceIdentifier:We,options:Ce});try{for(var ze=(0,b.XA)(this.instancesDeferred.entries()),Re=ze.next();!Re.done;Re=ze.next()){var Ke=(0,b.CR)(Re.value,2),rt=Ke[1];We===this.normalizeInstanceIdentifier(Ke[0])&&rt.resolve(Me)}}catch(Fe){J={error:Fe}}finally{try{Re&&!Re.done&&(B=ze.return)&&B.call(ze)}finally{if(J)throw J.error}}return Me},Y.prototype.onInit=function(U,J){var B,se=this.normalizeInstanceIdentifier(J),Ce=null!==(B=this.onInitCallbacks.get(se))&&void 0!==B?B:new Set;Ce.add(U),this.onInitCallbacks.set(se,Ce);var We=this.instances.get(se);return We&&U(We,se),function(){Ce.delete(U)}},Y.prototype.invokeOnInitCallbacks=function(U,J){var B,se,Ce=this.onInitCallbacks.get(J);if(Ce)try{for(var We=(0,b.XA)(Ce),Me=We.next();!Me.done;Me=We.next()){var ze=Me.value;try{ze(U,J)}catch(Re){}}}catch(Re){B={error:Re}}finally{try{Me&&!Me.done&&(se=We.return)&&se.call(We)}finally{if(B)throw B.error}}},Y.prototype.getOrInitializeService=function(U){var J=U.instanceIdentifier,B=U.options,se=void 0===B?{}:B,Ce=this.instances.get(J);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:Z(J),options:se}),this.instances.set(J,Ce),this.instancesOptions.set(J,se),this.invokeOnInitCallbacks(Ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Ce)}catch(We){}return Ce||null},Y.prototype.normalizeInstanceIdentifier=function(U){return void 0===U&&(U=F),this.component?this.component.multipleInstances?U:F:U},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function Z(Y){return Y===F?void 0:Y}var G=function(){function Y(U){this.name=U,this.providers=new Map}return Y.prototype.addComponent=function(U){var J=this.getProvider(U.name);if(J.isComponentSet())throw new Error("Component "+U.name+" has already been registered with "+this.name);J.setComponent(U)},Y.prototype.addOrOverwriteComponent=function(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)},Y.prototype.getProvider=function(U){if(this.providers.has(U))return this.providers.get(U);var J=new re(U,this);return this.providers.set(U,J),J},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},407:(_e,ne,M)=>{"use strict";M.d(ne,{N8:()=>vf,jM:()=>Nc,VF:()=>qr,iH:()=>Pu,t8:()=>bl});var b=M(8239),I=M(5452),fe=M(6034),F=M(4685),re=M(300);let G="";class U{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,s){null==s?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,F.Pz)(s))}get(o){const s=this.domStorage_.getItem(this.prefixedName_(o));return null==s?null:(0,F.cI)(s)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class J{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,s){null==s?delete this.cache_[o]:this.cache_[o]=s}get(o){return(0,F.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const B=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const o=window[u];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new U(o)}}catch(o){}return new J},se=B("localStorage"),Ce=B("sessionStorage"),We=new re.Yd("@firebase/database"),Me=function(){let u=1;return function(){return u++}}(),ze=function(u){const o=(0,F.dS)(u),s=new F.gQ;s.update(o);const d=s.digest();return F.US.encodeByteArray(d)},Re=function(...u){let o="";for(let s=0;s<u.length;s++){const d=u[s];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?o+=Re.apply(null,d):o+="object"==typeof d?(0,F.Pz)(d):d,o+=" "}return o};let Ke=null,Ve=!0;const st=function(...u){if(!0===Ve&&(Ve=!1,null===Ke&&!0===Ce.get("logging_enabled")&&function(u,o){(0,F.hu)(!o||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(We.logLevel=re.in.VERBOSE,Ke=We.log.bind(We),o&&Ce.set("logging_enabled",!0)):"function"==typeof u?Ke=u:(Ke=null,Ce.remove("logging_enabled"))}(!0)),Ke){const o=Re.apply(null,u);Ke(o)}},Fe=function(u){return function(...o){st(u,...o)}},Zt=function(...u){const o="FIREBASE INTERNAL ERROR: "+Re(...u);We.error(o)},xt=function(...u){const o=`FIREBASE FATAL ERROR: ${Re(...u)}`;throw We.error(o),new Error(o)},Rt=function(...u){const o="FIREBASE WARNING: "+Re(...u);We.warn(o)},Ue=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},be="[MIN_NAME]",je="[MAX_NAME]",Se=function(u,o){if(u===o)return 0;if(u===be||o===je)return-1;if(o===be||u===je)return 1;{const s=en(u),d=en(o);return null!==s?null!==d?s-d==0?u.length-o.length:s-d:-1:null!==d?1:u<o?-1:1}},pt=function(u,o){return u===o?0:u<o?-1:1},Et=function(u,o){if(o&&u in o)return o[u];throw new Error("Missing required key ("+u+") in object: "+(0,F.Pz)(o))},Qt=function(u){if("object"!=typeof u||null===u)return(0,F.Pz)(u);const o=[];for(const d in u)o.push(d);o.sort();let s="{";for(let d=0;d<o.length;d++)0!==d&&(s+=","),s+=(0,F.Pz)(o[d]),s+=":",s+=Qt(u[o[d]]);return s+="}",s},Tt=function(u,o){const s=u.length;if(s<=o)return[u];const d=[];for(let m=0;m<s;m+=o)d.push(u.substring(m,m+o>s?s:m+o));return d};function Ct(u,o){for(const s in u)u.hasOwnProperty(s)&&o(s,u[s])}const Ft=function(u){(0,F.hu)(!Ue(u),"Invalid JSON number");const d=1023;let m,A,x,q,ae;0===u?(A=0,x=0,m=1/u==-1/0?1:0):(m=u<0,(u=Math.abs(u))>=Math.pow(2,1-d)?(q=Math.min(Math.floor(Math.log(u)/Math.LN2),d),A=q+d,x=Math.round(u*Math.pow(2,52-q)-Math.pow(2,52))):(A=0,x=Math.round(u/Math.pow(2,-1074))));const pe=[];for(ae=52;ae;ae-=1)pe.push(x%2?1:0),x=Math.floor(x/2);for(ae=11;ae;ae-=1)pe.push(A%2?1:0),A=Math.floor(A/2);pe.push(m?1:0),pe.reverse();const Ge=pe.join("");let He="";for(ae=0;ae<64;ae+=8){let Qe=parseInt(Ge.substr(ae,8),2).toString(16);1===Qe.length&&(Qe="0"+Qe),He+=Qe}return He.toLowerCase()},In=new RegExp("^-?(0*)\\d{1,10}$"),en=function(u){if(In.test(u)){const o=Number(u);if(o>=-2147483648&&o<=2147483647)return o}return null},mn=function(u){try{u()}catch(o){setTimeout(()=>{throw Rt("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},Ur=function(u,o){const s=setTimeout(u,o);return"object"==typeof s&&s.unref&&s.unref(),s};class ar{constructor(o,s){this.appName_=o,this.appCheckProvider=s,this.appCheck=null==s?void 0:s.getImmediate({optional:!0}),this.appCheck||null==s||s.get().then(d=>this.appCheck=d)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((s,d)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(s,d):s(null)},0)})}addTokenChangeListener(o){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(d=>d.addTokenListener(o))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Zr{constructor(o,s,d){this.appName_=o,this.firebaseOptions_=s,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(m=>this.auth_=m)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(s=>s&&"auth/token-not-initialized"===s.code?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,d)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(s,d):s(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(s=>s.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(s=>s.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(o)}}let qn=(()=>{class u{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Sr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tn="websocket",_r="long_polling";class rn{constructor(o,s,d,m,A=!1,x="",q=!1){this.secure=s,this.namespace=d,this.webSocketOnly=m,this.nodeAdmin=A,this.persistenceKey=x,this.includeNamespaceInQueryParams=q,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=se.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&se.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function St(u,o,s){let d;if((0,F.hu)("string"==typeof o,"typeof type must == string"),(0,F.hu)("object"==typeof s,"typeof params must == object"),o===tn)d=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(o!==_r)throw new Error("Unknown connection type: "+o);d=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(s.ns=u.namespace);const m=[];return Ct(s,(A,x)=>{m.push(A+"="+x)}),d+m.join("&")}class Kt{constructor(){this.counters_={}}incrementCounter(o,s=1){(0,F.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=s}get(){return(0,F.p$)(this.counters_)}}const ci={},Mn={};function vn(u){const o=u.toString();return ci[o]||(ci[o]=new Kt),ci[o]}class as{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,s){this.closeAfterResponse=o,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,s){for(this.pendingResponses[o]=s;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<d.length;++m)d[m]&&mn(()=>{this.onMessage_(d[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gr{constructor(o,s,d,m,A,x,q){this.connId=o,this.repoInfo=s,this.applicationId=d,this.appCheckToken=m,this.authToken=A,this.transportSessionId=x,this.lastSessionId=q,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fe(o),this.stats_=vn(s),this.urlFn=ae=>(this.appCheckToken&&(ae.ac=this.appCheckToken),St(s,_r,ae))}open(o,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new as(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,F.Yr)()||"complete"===document.readyState)u();else{let o=!1;const s=function(){document.body?o||(o=!0,u()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ei((...A)=>{const[x,q,ae,pe,Ge]=A;if(this.incrementIncomingBytes_(A),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=q,this.password=ae;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);q?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(q,()=>{this.onClosed_()})):this.onClosed_()}},(...A)=>{const[x,q]=A;this.incrementIncomingBytes_(A),this.myPacketOrderer.handleResponse(x,q)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Sr.test(location.hostname)&&(d.r="f");const m=this.urlFn(d);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gr.forceAllow_=!0}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Gr.forceAllow_&&(Gr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const s=(0,F.Pz)(o);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const d=(0,F.h$)(s),m=Tt(d,1840);for(let A=0;A<m.length;A++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[A]),this.curSegmentNum++}addDisconnectPingFrame(o,s){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=o,d.pw=s,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const s=(0,F.Pz)(o).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Ei{constructor(o,s,d,m){if(this.onDisconnect=d,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=o,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Ei.createIFrame_();let A="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(A='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+A+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(q){st("frame writing exception"),q.stack&&st(q.stack),st(q)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||st("No IE domain setting required")}catch(s){const d=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,s){for(this.myID=o,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let s=this.urlFn(o),d="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const x=this.pendingSegs.shift();d=d+"&seg"+m+"="+x.seg+"&ts"+m+"="+x.ts+"&d"+m+"="+x.d,m++}return s+=d,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(o,s,d){this.pendingSegs.push({seg:o,ts:s,d}),this.alive&&this.newRequest_()}addLongPollTag_(o,s){this.outstandingRequests.add(s);const d=()=>{this.outstandingRequests.delete(s),this.newRequest_()},m=setTimeout(d,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(m),d()})}addTag(o,s){(0,F.Yr)()?this.doNodeLongPoll(o,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=o,d.onload=d.onreadystatechange=function(){const m=d.readyState;(!m||"loaded"===m||"complete"===m)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),s())},d.onerror=()=>{st("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch(d){}},Math.floor(1))}}let Ln=null;"undefined"!=typeof MozWebSocket?Ln=MozWebSocket:"undefined"!=typeof WebSocket&&(Ln=WebSocket);let lr=(()=>{class u{constructor(s,d,m,A,x,q,ae){this.connId=s,this.applicationId=m,this.appCheckToken=A,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fe(this.connId),this.stats_=vn(d),this.connURL=u.connectionURL_(d,q,ae,A),this.nodeAdmin=d.nodeAdmin}static connectionURL_(s,d,m,A){const x={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Sr.test(location.hostname)&&(x.r="f"),d&&(x.s=d),m&&(x.ls=m),A&&(x.ac=A),St(s,tn,x)}open(s,d){this.onDisconnect=d,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,se.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const A={headers:{"User-Agent":`Firebase/5/${G}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(A.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(A.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,q=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;q&&(A.proxy={origin:q}),this.mySock=new Ln(this.connURL,[],A)}else this.mySock=new Ln(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(m){this.log_("Error instantiating WebSocket.");const A=m.message||m.data;return A&&this.log_(A),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const A=m.message||m.data;A&&this.log_(A),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let s=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(s=!0)}return!s&&null!==Ln&&!u.forceDisallow_}static previouslyFailed(){return se.isInMemoryStorage||!0===se.get("previous_websocket_failure")}markConnectionHealthy(){se.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const m=(0,F.cI)(d);this.onMessage(m)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const d=Number(s);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const d=s.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const m=this.extractFrameCount_(d);null!==m&&this.appendFrame_(m)}}send(s){this.resetKeepAlive();const d=(0,F.Pz)(s);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const m=Tt(d,16384);m.length>1&&this.sendString_(String(m.length));for(let A=0;A<m.length;A++)this.sendString_(m[A])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})();class Zn{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Gr,lr]}initTransports_(o){const s=lr&&lr.isAvailable();let d=s&&!lr.previouslyFailed();if(o.webSocketOnly&&(s||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)this.transports_=[lr];else{const m=this.transports_=[];for(const A of Zn.ALL_TRANSPORTS)A&&A.isAvailable()&&m.push(A)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Xr{constructor(o,s,d,m,A,x,q,ae,pe,Ge){this.id=o,this.repoInfo_=s,this.applicationId_=d,this.appCheckToken_=m,this.authToken_=A,this.onMessage_=x,this.onReady_=q,this.onDisconnect_=ae,this.onKill_=pe,this.lastSessionId=Ge,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fe("c:"+this.id+":"),this.transportManager_=new Zn(s),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,d)},Math.floor(0));const m=o.healthyTimeout||0;m>0&&(this.healthyTimeout_=Ur(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return s=>{o===this.conn_?this.onConnectionLost_(s):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return s=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(s):o===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const s=o.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const s=Et("t",o),d=Et("d",o);if("c"===s)this.onSecondaryControl_(d);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const s=Et("t",o),d=Et("d",o);"c"===s?this.onControl_(d):"d"===s&&this.onDataMessage_(d)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const s=Et("t",o);if("d"in o){const d=o.d;if("h"===s)this.onHandshake_(d);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(d):"r"===s?this.onReset_(d):"e"===s?Zt("Server Error: "+d):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zt("Unknown control packet command: "+s)}}onHandshake_(o){const s=o.ts,d=o.v,m=o.h;this.sessionId=o.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==d&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,d),Ur(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,s){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ur(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(se.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Br{put(o,s,d,m){}merge(o,s,d,m){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,s,d){}onDisconnectMerge(o,s,d){}onDisconnectCancel(o,s){}reportStats(o){}}class dr{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,F.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...s){if(Array.isArray(this.listeners_[o])){const d=[...this.listeners_[o]];for(let m=0;m<d.length;m++)d[m].callback.apply(d[m].context,s)}}on(o,s,d){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:s,context:d});const m=this.getInitialEvent(o);m&&s.apply(d,m)}off(o,s,d){this.validateEventType_(o);const m=this.listeners_[o]||[];for(let A=0;A<m.length;A++)if(m[A].callback===s&&(!d||d===m[A].context))return void m.splice(A,1)}validateEventType_(o){(0,F.hu)(this.allowedEvents_.find(s=>s===o),"Unknown event: "+o)}}class rr extends dr{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rr}getInitialEvent(o){return(0,F.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(o,s){if(void 0===s){this.pieces_=o.split("/");let d=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[d]=this.pieces_[m],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=s}toString(){let o="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(o+="/"+this.pieces_[s]);return o||"/"}}function vt(){return new Wt("")}function Ut(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function oe(u){return u.pieces_.length-u.pieceNum_}function Ae(u){let o=u.pieceNum_;return o<u.pieces_.length&&o++,new Wt(u.pieces_,o)}function Ee(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function et(u,o=0){return u.pieces_.slice(u.pieceNum_+o)}function nt(u){if(u.pieceNum_>=u.pieces_.length)return null;const o=[];for(let s=u.pieceNum_;s<u.pieces_.length-1;s++)o.push(u.pieces_[s]);return new Wt(o,0)}function ct(u,o){const s=[];for(let d=u.pieceNum_;d<u.pieces_.length;d++)s.push(u.pieces_[d]);if(o instanceof Wt)for(let d=o.pieceNum_;d<o.pieces_.length;d++)s.push(o.pieces_[d]);else{const d=o.split("/");for(let m=0;m<d.length;m++)d[m].length>0&&s.push(d[m])}return new Wt(s,0)}function gt(u){return u.pieceNum_>=u.pieces_.length}function Vt(u,o){const s=Ut(u),d=Ut(o);if(null===s)return o;if(s===d)return Vt(Ae(u),Ae(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+u+")")}function hn(u,o){if(oe(u)!==oe(o))return!1;for(let s=u.pieceNum_,d=o.pieceNum_;s<=u.pieces_.length;s++,d++)if(u.pieces_[s]!==o.pieces_[d])return!1;return!0}function un(u,o){let s=u.pieceNum_,d=o.pieceNum_;if(oe(u)>oe(o))return!1;for(;s<u.pieces_.length;){if(u.pieces_[s]!==o.pieces_[d])return!1;++s,++d}return!0}class hi{constructor(o,s){this.errorPrefix_=s,this.parts_=et(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,F.ug)(this.parts_[d]);ks(this)}}function ks(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ci(u))}function Ci(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Bi extends dr{constructor(){let o,s;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(s="visibilitychange",o="hidden"):void 0!==document.mozHidden?(s="mozvisibilitychange",o="mozHidden"):void 0!==document.msHidden?(s="msvisibilitychange",o="msHidden"):void 0!==document.webkitHidden&&(s="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const d=!document[o];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new Bi}getInitialEvent(o){return(0,F.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const Hi=1e3;let Fs,Ls=(()=>{class u extends Br{constructor(s,d,m,A,x,q,ae,pe){if(super(),this.repoInfo_=s,this.applicationId_=d,this.onDataUpdate_=m,this.onConnectStatus_=A,this.onServerInfoUpdate_=x,this.authTokenProvider_=q,this.appCheckTokenProvider_=ae,this.authOverride_=pe,this.id=u.nextPersistentConnectionId_++,this.log_=Fe("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,pe&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bi.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&rr.getInstance().on("online",this.onOnline_,this)}sendRequest(s,d,m){const A=++this.requestNumber_,x={r:A,a:s,b:d};this.log_((0,F.Pz)(x)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),m&&(this.requestCBHash_[A]=m)}get(s){this.initConnection_();const d=new F.BH,m={p:s._path.toString(),q:s._queryObject},A={action:"g",request:m,onComplete:q=>{const ae=q.d;"ok"===q.s?(this.onDataUpdate_(m.p,ae,!1,null),d.resolve(ae)):d.reject(ae)}};this.outstandingGets_.push(A),this.outstandingGetCount_++;const x=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const q=this.outstandingGets_[x];void 0===q||A!==q||(delete this.outstandingGets_[x],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+x+" timed out on connection"),d.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(x),d.promise}listen(s,d,m,A){this.initConnection_();const x=s._queryIdentifier,q=s._path.toString();this.log_("Listen called for "+q+" "+x),this.listens.has(q)||this.listens.set(q,new Map),(0,F.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(q).has(x),"listen() called twice for same path/queryId.");const ae={onComplete:A,hashFn:d,query:s,tag:m};this.listens.get(q).set(x,ae),this.connected_&&this.sendListen_(ae)}sendGet_(s){const d=this.outstandingGets_[s];this.sendRequest("g",d.request,m=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(m)})}sendListen_(s){const d=s.query,m=d._path.toString(),A=d._queryIdentifier;this.log_("Listen on "+m+" for "+A);const x={p:m};s.tag&&(x.q=d._queryObject,x.t=s.tag),x.h=s.hashFn(),this.sendRequest("q",x,ae=>{const pe=ae.d,Ge=ae.s;u.warnOnListenWarnings_(pe,d),(this.listens.get(m)&&this.listens.get(m).get(A))===s&&(this.log_("listen response",ae),"ok"!==Ge&&this.removeListen_(m,A),s.onComplete&&s.onComplete(Ge,pe))})}static warnOnListenWarnings_(s,d){if(s&&"object"==typeof s&&(0,F.r3)(s,"w")){const m=(0,F.DV)(s,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const A='".indexOn": "'+d._queryParams.getIndex().toString()+'"',x=d._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${A} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,F.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,d=(0,F.w9)(s)?"auth":"gauth",m={cred:s};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(d,m,A=>{const x=A.s,q=A.d||"error";this.authToken_===s&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const d=s.s,m=s.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,m)})}unlisten(s,d){const m=s._path.toString(),A=s._queryIdentifier;this.log_("Unlisten called for "+m+" "+A),(0,F.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,A)&&this.connected_&&this.sendUnlisten_(m,A,s._queryObject,d)}sendUnlisten_(s,d,m,A){this.log_("Unlisten on "+s+" for "+d);const x={p:s};A&&(x.q=m,x.t=A),this.sendRequest("n",x)}onDisconnectPut(s,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,d,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:d,onComplete:m})}onDisconnectMerge(s,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,d,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:d,onComplete:m})}onDisconnectCancel(s,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,d):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(s,d,m,A){const x={p:d,d:m};this.log_("onDisconnect "+s,x),this.sendRequest(s,x,q=>{A&&setTimeout(()=>{A(q.s,q.d)},Math.floor(0))})}put(s,d,m,A){this.putInternal("p",s,d,m,A)}merge(s,d,m,A){this.putInternal("m",s,d,m,A)}putInternal(s,d,m,A,x){this.initConnection_();const q={p:d,d:m};void 0!==x&&(q.h=x),this.outstandingPuts_.push({action:s,request:q,onComplete:A}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(s){const d=this.outstandingPuts_[s].action,m=this.outstandingPuts_[s].request,A=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(d,m,x=>{this.log_(d+" response",x),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),A&&A(x.s,x.d)})}reportStats(s){if(this.connected_){const d={c:s};this.log_("reportStats",d),this.sendRequest("s",d,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,F.Pz)(s));const d=s.r,m=this.requestCBHash_[d];m&&(delete this.requestCBHash_[d],m(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,d){this.log_("handleServerMessage",s,d),"d"===s?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===s?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===s?this.onListenRevoked_(d.p,d.q):"ac"===s?this.onAuthRevoked_(d.s,d.d):"apc"===s?this.onAppCheckRevoked_(d.s,d.d):"sd"===s?this.onSecurityDebugPacket_(d):Zt("Unrecognized action received from server: "+(0,F.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-s);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,b.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const d=s.onDataMessage_.bind(s),m=s.onReady_.bind(s),A=s.onRealtimeDisconnect_.bind(s),x=s.id+":"+u.nextConnectionId_++,q=s.lastSessionId;let ae=!1,pe=null;const Ge=function(){pe?pe.close():(ae=!0,A())};s.realtime_={close:Ge,sendRequest:function(Dt){(0,F.hu)(pe,"sendRequest call when we're not connected not allowed."),pe.sendRequest(Dt)}};const Qe=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Dt,qt]=yield Promise.all([s.authTokenProvider_.getToken(Qe),s.appCheckTokenProvider_.getToken(Qe)]);ae?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),s.authToken_=Dt&&Dt.accessToken,s.appCheckToken_=qt&&qt.token,pe=new Xr(x,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,d,m,A,Dr=>{Rt(Dr+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},q))}catch(Dt){s.log_("Failed to get token: "+Dt),ae||(s.repoInfo_.nodeAdmin&&Rt(Dt),Ge())}}})()}interrupt(s){st("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){st("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const d=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const d=this.outstandingPuts_[s];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,d){let m;m=d?d.map(x=>Qt(x)).join("$"):"default";const A=this.removeListen_(s,m);A&&A.onComplete&&A.onComplete("permission_denied")}removeListen_(s,d){const m=new Wt(s).toString();let A;if(this.listens.has(m)){const x=this.listens.get(m);A=x.get(d),x.delete(d),0===x.size&&this.listens.delete(m)}else A=void 0;return A}onAuthRevoked_(s,d){st("Auth token revoked: "+s+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,d){st("App check token revoked: "+s+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const d of s.values())this.sendListen_(d);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let d="js";(0,F.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+d+"."+G.replace(/\./g,"-")]=1,(0,F.uI)()?s["framework.cordova"]=1:(0,F.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=rr.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&s}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class sn{constructor(o,s){this.name=o,this.node=s}static Wrap(o,s){return new sn(o,s)}}class Co{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,s){const d=new sn(be,o),m=new sn(be,s);return 0!==this.compare(d,m)}minPost(){return sn.MIN}}class $i extends Co{static get __EMPTY_NODE(){return Fs}static set __EMPTY_NODE(o){Fs=o}compare(o,s){return Se(o.name,s.name)}isDefinedOn(o){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,s){return!1}minPost(){return sn.MIN}maxPost(){return new sn(je,Fs)}makePost(o,s){return(0,F.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new sn(o,Fs)}toString(){return".key"}}const ei=new $i;class bi{constructor(o,s,d,m,A=null){this.isReverse_=m,this.resultGenerator_=A,this.nodeStack_=[];let x=1;for(;!o.isEmpty();)if(o=o,x=s?d(o.key,s):1,m&&(x*=-1),x<0)o=this.isReverse_?o.left:o.right;else{if(0===x){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,o=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let H,Hr=(()=>{class u{constructor(s,d,m,A,x){this.key=s,this.value=d,this.color=null!=m?m:u.RED,this.left=null!=A?A:Ar.EMPTY_NODE,this.right=null!=x?x:Ar.EMPTY_NODE}copy(s,d,m,A,x){return new u(null!=s?s:this.key,null!=d?d:this.value,null!=m?m:this.color,null!=A?A:this.left,null!=x?x:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,d,m){let A=this;const x=m(s,A.key);return A=x<0?A.copy(null,null,null,A.left.insert(s,d,m),null):0===x?A.copy(null,d,null,null,null):A.copy(null,null,null,null,A.right.insert(s,d,m)),A.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ar.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,d){let m,A;if(m=this,d(s,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(s,d),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===d(s,m.key)){if(m.right.isEmpty())return Ar.EMPTY_NODE;A=m.right.min_(),m=m.copy(A.key,A.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(s,d))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,d)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Ar{constructor(o,s=Ar.EMPTY_NODE){this.comparator_=o,this.root_=s}insert(o,s){return new Ar(this.comparator_,this.root_.insert(o,s,this.comparator_).copy(null,null,Hr.BLACK,null,null))}remove(o){return new Ar(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,Hr.BLACK,null,null))}get(o){let s,d=this.root_;for(;!d.isEmpty();){if(s=this.comparator_(o,d.key),0===s)return d.value;s<0?d=d.left:s>0&&(d=d.right)}return null}getPredecessorKey(o){let s,d=this.root_,m=null;for(;!d.isEmpty();){if(s=this.comparator_(o,d.key),0===s){if(d.left.isEmpty())return m?m.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}s<0?d=d.left:s>0&&(m=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new bi(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,s){return new bi(this.root_,o,this.comparator_,!1,s)}getReverseIteratorFrom(o,s){return new bi(this.root_,o,this.comparator_,!0,s)}getReverseIterator(o){return new bi(this.root_,null,this.comparator_,!0,o)}}function Wi(u,o){return Se(u.name,o.name)}function Qn(u,o){return Se(u,o)}Ar.EMPTY_NODE=new class{copy(o,s,d,m,A){return this}insert(o,s,d){return new Hr(o,s,null)}remove(o,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const te=function(u){return"number"==typeof u?"number:"+Ft(u):"string:"+u},ge=function(u){if(u.isLeafNode()){const o=u.val();(0,F.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,F.r3)(o,".sv"),"Priority must be a string or number.")}else(0,F.hu)(u===H||u.isEmpty(),"priority of unexpected type.");(0,F.hu)(u===H||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let De,ot,jt,Ye=(()=>{class u{constructor(s,d=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=d,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ge(this.priorityNode_)}static set __childrenNodeConstructor(s){De=s}static get __childrenNodeConstructor(){return De}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new u(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return gt(s)?this:".priority"===Ut(s)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,d){return null}updateImmediateChild(s,d){return".priority"===s?this.updatePriority(d):d.isEmpty()&&".priority"!==s?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,d).updatePriority(this.priorityNode_)}updateChild(s,d){const m=Ut(s);return null===m?d:d.isEmpty()&&".priority"!==m?this:((0,F.hu)(".priority"!==m||1===oe(s),".priority must be the last token in a path"),this.updateImmediateChild(m,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(s),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,d){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+te(this.priorityNode_.val())+":");const d=typeof this.value_;s+=d+":",s+="number"===d?Ft(this.value_):this.value_,this.lazyHash_=ze(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===u.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof u.__childrenNodeConstructor?-1:((0,F.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const d=typeof s.value_,m=typeof this.value_,A=u.VALUE_TYPE_ORDER.indexOf(d),x=u.VALUE_TYPE_ORDER.indexOf(m);return(0,F.hu)(A>=0,"Unknown leaf type: "+d),(0,F.hu)(x>=0,"Unknown leaf type: "+m),A===x?"object"===m?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:x-A}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const d=s;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Ht=new class extends Co{compare(o,s){const d=o.node.getPriority(),m=s.node.getPriority(),A=d.compareTo(m);return 0===A?Se(o.name,s.name):A}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,s){return!o.getPriority().equals(s.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(je,new Ye("[PRIORITY-POST]",jt))}makePost(o,s){const d=ot(o);return new sn(s,new Ye("[PRIORITY-POST]",d))}toString(){return".priority"}},yr=Math.log(2);class Wn{constructor(o){this.count=parseInt(Math.log(o+1)/yr,10),this.current_=this.count-1;const m=(A=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&m}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const xn=function(u,o,s,d){u.sort(o);const m=function(ae,pe){const Ge=pe-ae;let He,Qe;if(0===Ge)return null;if(1===Ge)return He=u[ae],Qe=s?s(He):He,new Hr(Qe,He.node,Hr.BLACK,null,null);{const Dt=parseInt(Ge/2,10)+ae,qt=m(ae,Dt),Dr=m(Dt+1,pe);return He=u[Dt],Qe=s?s(He):He,new Hr(Qe,He.node,Hr.BLACK,qt,Dr)}},q=function(ae){let pe=null,Ge=null,He=u.length;const Qe=function(qt,Dr){const xi=He-qt,Fc=He;He-=qt;const Jl=m(xi+1,Fc),Uc=u[xi],Df=s?s(Uc):Uc;Dt(new Hr(Df,Uc.node,Dr,null,Jl))},Dt=function(qt){pe?(pe.left=qt,pe=qt):(Ge=qt,pe=qt)};for(let qt=0;qt<ae.count;++qt){const Dr=ae.nextBitIsOne(),xi=Math.pow(2,ae.count-(qt+1));Dr?Qe(xi,Hr.BLACK):(Qe(xi,Hr.BLACK),Qe(xi,Hr.RED))}return Ge}(new Wn(u.length));return new Ar(d||o,q)};let vr;const Er={};class R{constructor(o,s){this.indexes_=o,this.indexSet_=s}static get Default(){return(0,F.hu)(Er&&Ht,"ChildrenNode.ts has not been loaded"),vr=vr||new R({".priority":Er},{".priority":Ht}),vr}get(o){const s=(0,F.DV)(this.indexes_,o);if(!s)throw new Error("No index defined for "+o);return s instanceof Ar?s:null}hasIndex(o){return(0,F.r3)(this.indexSet_,o.toString())}addIndex(o,s){(0,F.hu)(o!==ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let m=!1;const A=s.getIterator(sn.Wrap);let q,x=A.getNext();for(;x;)m=m||o.isDefinedOn(x.node),d.push(x),x=A.getNext();q=m?xn(d,o.getCompare()):Er;const ae=o.toString(),pe=Object.assign({},this.indexSet_);pe[ae]=o;const Ge=Object.assign({},this.indexes_);return Ge[ae]=q,new R(Ge,pe)}addToIndexes(o,s){const d=(0,F.UI)(this.indexes_,(m,A)=>{const x=(0,F.DV)(this.indexSet_,A);if((0,F.hu)(x,"Missing index implementation for "+A),m===Er){if(x.isDefinedOn(o.node)){const q=[],ae=s.getIterator(sn.Wrap);let pe=ae.getNext();for(;pe;)pe.name!==o.name&&q.push(pe),pe=ae.getNext();return q.push(o),xn(q,x.getCompare())}return Er}{const q=s.get(o.name);let ae=m;return q&&(ae=ae.remove(new sn(o.name,q))),ae.insert(o,o.node)}});return new R(d,this.indexSet_)}removeFromIndexes(o,s){const d=(0,F.UI)(this.indexes_,m=>{if(m===Er)return m;{const A=s.get(o.name);return A?m.remove(new sn(o.name,A)):m}});return new R(d,this.indexSet_)}}let j,S=(()=>{class u{constructor(s,d,m){this.children_=s,this.priorityNode_=d,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&ge(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return j||(j=new u(new Ar(Qn),null,R.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||j}updatePriority(s){return this.children_.isEmpty()?this:new u(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const d=this.children_.get(s);return null===d?j:d}}getChild(s){const d=Ut(s);return null===d?this:this.getImmediateChild(d).getChild(Ae(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,d){if((0,F.hu)(d,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(d);{const m=new sn(s,d);let A,x;d.isEmpty()?(A=this.children_.remove(s),x=this.indexMap_.removeFromIndexes(m,this.children_)):(A=this.children_.insert(s,d),x=this.indexMap_.addToIndexes(m,this.children_));const q=A.isEmpty()?j:this.priorityNode_;return new u(A,q,x)}}updateChild(s,d){const m=Ut(s);if(null===m)return d;{(0,F.hu)(".priority"!==Ut(s)||1===oe(s),".priority must be the last token in a path");const A=this.getImmediateChild(m).updateChild(Ae(s),d);return this.updateImmediateChild(m,A)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const d={};let m=0,A=0,x=!0;if(this.forEachChild(Ht,(q,ae)=>{d[q]=ae.val(s),m++,x&&u.INTEGER_REGEXP_.test(q)?A=Math.max(A,Number(q)):x=!1}),!s&&x&&A<2*m){const q=[];for(const ae in d)q[ae]=d[ae];return q}return s&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+te(this.getPriority().val())+":"),this.forEachChild(Ht,(d,m)=>{const A=m.hash();""!==A&&(s+=":"+d+":"+A)}),this.lazyHash_=""===s?"":ze(s)}return this.lazyHash_}getPredecessorChildName(s,d,m){const A=this.resolveIndex_(m);if(A){const x=A.getPredecessorKey(new sn(s,d));return x?x.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const d=this.resolveIndex_(s);if(d){const m=d.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(s){const d=this.getFirstChildName(s);return d?new sn(d,this.children_.get(d)):null}getLastChildName(s){const d=this.resolveIndex_(s);if(d){const m=d.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(s){const d=this.getLastChildName(s);return d?new sn(d,this.children_.get(d)):null}forEachChild(s,d){const m=this.resolveIndex_(s);return m?m.inorderTraversal(A=>d(A.name,A.node)):this.children_.inorderTraversal(d)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,d){const m=this.resolveIndex_(d);if(m)return m.getIteratorFrom(s,A=>A);{const A=this.children_.getIteratorFrom(s.name,sn.Wrap);let x=A.peek();for(;null!=x&&d.compare(x,s)<0;)A.getNext(),x=A.peek();return A}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,d){const m=this.resolveIndex_(d);if(m)return m.getReverseIteratorFrom(s,A=>A);{const A=this.children_.getReverseIteratorFrom(s.name,sn.Wrap);let x=A.peek();for(;null!=x&&d.compare(x,s)>0;)A.getNext(),x=A.peek();return A}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===ue?-1:0}withIndex(s){if(s===ei||this.indexMap_.hasIndex(s))return this;{const d=this.indexMap_.addIndex(s,this.children_);return new u(this.children_,this.priorityNode_,d)}}isIndexed(s){return s===ei||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const d=s;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const m=this.getIterator(Ht),A=d.getIterator(Ht);let x=m.getNext(),q=A.getNext();for(;x&&q;){if(x.name!==q.name||!x.node.equals(q.node))return!1;x=m.getNext(),q=A.getNext()}return null===x&&null===q}return!1}return!1}}resolveIndex_(s){return s===ei?null:this.indexMap_.get(s.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const ue=new class extends S{constructor(){super(new Ar(Qn),S.EMPTY_NODE,R.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return S.EMPTY_NODE}isEmpty(){return!1}};function qe(u,o=null){if(null===u)return S.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(o=u[".priority"]),(0,F.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Ye(u,qe(o));if(u instanceof Array){let s=S.EMPTY_NODE;return Ct(u,(d,m)=>{if((0,F.r3)(u,d)&&"."!==d.substring(0,1)){const A=qe(m);(A.isLeafNode()||!A.isEmpty())&&(s=s.updateImmediateChild(d,A))}}),s.updatePriority(qe(o))}{const s=[];let d=!1;if(Ct(u,(x,q)=>{if("."!==x.substring(0,1)){const ae=qe(q);ae.isEmpty()||(d=d||!ae.getPriority().isEmpty(),s.push(new sn(x,ae)))}}),0===s.length)return S.EMPTY_NODE;const A=xn(s,Wi,x=>x.name,Qn);if(d){const x=xn(s,Ht.getCompare());return new S(A,qe(o),new R({".priority":x},{".priority":Ht}))}return new S(A,qe(o),R.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(be,S.EMPTY_NODE)},MAX:{value:new sn(je,ue)}}),$i.__EMPTY_NODE=S.EMPTY_NODE,Ye.__childrenNodeConstructor=S,H=ue,jt=ue,function(u){ot=u}(qe);class _t extends Co{constructor(o){super(),this.indexPath_=o,(0,F.hu)(!gt(o)&&".priority"!==Ut(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,s){const d=this.extractChild(o.node),m=this.extractChild(s.node),A=d.compareTo(m);return 0===A?Se(o.name,s.name):A}makePost(o,s){const d=qe(o),m=S.EMPTY_NODE.updateChild(this.indexPath_,d);return new sn(s,m)}maxPost(){const o=S.EMPTY_NODE.updateChild(this.indexPath_,ue);return new sn(je,o)}toString(){return et(this.indexPath_,0).join("/")}}const zn=new class extends Co{compare(o,s){const d=o.node.compareTo(s.node);return 0===d?Se(o.name,s.name):d}isDefinedOn(o){return!0}indexedValueChanged(o,s){return!o.equals(s)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(o,s){const d=qe(o);return new sn(s,d)}toString(){return".value"}},Fn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cr=function(){let u=0;const o=[];return function(s){const d=s===u;let m;u=s;const A=new Array(8);for(m=7;m>=0;m--)A[m]=Fn.charAt(s%64),s=Math.floor(s/64);(0,F.hu)(0===s,"Cannot push at time == 0");let x=A.join("");if(d){for(m=11;m>=0&&63===o[m];m--)o[m]=0;o[m]++}else for(m=0;m<12;m++)o[m]=Math.floor(64*Math.random());for(m=0;m<12;m++)x+=Fn.charAt(o[m]);return(0,F.hu)(20===x.length,"nextPushId: Length should be 20."),x}}();function Ii(u){return{type:"value",snapshotNode:u}}function ai(u,o){return{type:"child_added",snapshotNode:o,childName:u}}function Mt(u,o){return{type:"child_removed",snapshotNode:o,childName:u}}function Us(u,o,s){return{type:"child_changed",snapshotNode:o,childName:u,oldSnap:s}}class gu{constructor(o){this.index_=o}updateChild(o,s,d,m,A,x){(0,F.hu)(o.isIndexed(this.index_),"A node must be indexed if only a child is updated");const q=o.getImmediateChild(s);return q.getChild(m).equals(d.getChild(m))&&q.isEmpty()===d.isEmpty()||(null!=x&&(d.isEmpty()?o.hasChild(s)?x.trackChildChange(Mt(s,q)):(0,F.hu)(o.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):q.isEmpty()?x.trackChildChange(ai(s,d)):x.trackChildChange(Us(s,d,q))),o.isLeafNode()&&d.isEmpty())?o:o.updateImmediateChild(s,d).withIndex(this.index_)}updateFullNode(o,s,d){return null!=d&&(o.isLeafNode()||o.forEachChild(Ht,(m,A)=>{s.hasChild(m)||d.trackChildChange(Mt(m,A))}),s.isLeafNode()||s.forEachChild(Ht,(m,A)=>{if(o.hasChild(m)){const x=o.getImmediateChild(m);x.equals(A)||d.trackChildChange(Us(m,A,x))}else d.trackChildChange(ai(m,A))})),s.withIndex(this.index_)}updatePriority(o,s){return o.isEmpty()?S.EMPTY_NODE:o.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Vs{constructor(o){this.indexedFilter_=new gu(o.getIndex()),this.index_=o.getIndex(),this.startPost_=Vs.getStartPost_(o),this.endPost_=Vs.getEndPost_(o)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(o){return this.index_.compare(this.getStartPost(),o)<=0&&this.index_.compare(o,this.getEndPost())<=0}updateChild(o,s,d,m,A,x){return this.matches(new sn(s,d))||(d=S.EMPTY_NODE),this.indexedFilter_.updateChild(o,s,d,m,A,x)}updateFullNode(o,s,d){s.isLeafNode()&&(s=S.EMPTY_NODE);let m=s.withIndex(this.index_);m=m.updatePriority(S.EMPTY_NODE);const A=this;return s.forEachChild(Ht,(x,q)=>{A.matches(new sn(x,q))||(m=m.updateImmediateChild(x,S.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(o,m,d)}updatePriority(o,s){return o}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(o){if(o.hasStart()){const s=o.getIndexStartName();return o.getIndex().makePost(o.getIndexStartValue(),s)}return o.getIndex().minPost()}static getEndPost_(o){if(o.hasEnd()){const s=o.getIndexEndName();return o.getIndex().makePost(o.getIndexEndValue(),s)}return o.getIndex().maxPost()}}class Vo{constructor(o){this.rangedFilter_=new Vs(o),this.index_=o.getIndex(),this.limit_=o.getLimit(),this.reverse_=!o.isViewFromLeft()}updateChild(o,s,d,m,A,x){return this.rangedFilter_.matches(new sn(s,d))||(d=S.EMPTY_NODE),o.getImmediateChild(s).equals(d)?o:o.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(o,s,d,m,A,x):this.fullLimitUpdateChild_(o,s,d,A,x)}updateFullNode(o,s,d){let m;if(s.isLeafNode()||s.isEmpty())m=S.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let A;m=S.EMPTY_NODE.withIndex(this.index_),A=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;A.hasNext()&&x<this.limit_;){const q=A.getNext();let ae;if(ae=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),q)<=0:this.index_.compare(q,this.rangedFilter_.getEndPost())<=0,!ae)break;m=m.updateImmediateChild(q.name,q.node),x++}}else{let A,x,q,ae;if(m=s.withIndex(this.index_),m=m.updatePriority(S.EMPTY_NODE),this.reverse_){ae=m.getReverseIterator(this.index_),A=this.rangedFilter_.getEndPost(),x=this.rangedFilter_.getStartPost();const He=this.index_.getCompare();q=(Qe,Dt)=>He(Dt,Qe)}else ae=m.getIterator(this.index_),A=this.rangedFilter_.getStartPost(),x=this.rangedFilter_.getEndPost(),q=this.index_.getCompare();let pe=0,Ge=!1;for(;ae.hasNext();){const He=ae.getNext();!Ge&&q(A,He)<=0&&(Ge=!0),Ge&&pe<this.limit_&&q(He,x)<=0?pe++:m=m.updateImmediateChild(He.name,S.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(o,m,d)}updatePriority(o,s){return o}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(o,s,d,m,A){let x;if(this.reverse_){const He=this.index_.getCompare();x=(Qe,Dt)=>He(Dt,Qe)}else x=this.index_.getCompare();const q=o;(0,F.hu)(q.numChildren()===this.limit_,"");const ae=new sn(s,d),pe=this.reverse_?q.getFirstChild(this.index_):q.getLastChild(this.index_),Ge=this.rangedFilter_.matches(ae);if(q.hasChild(s)){const He=q.getImmediateChild(s);let Qe=m.getChildAfterChild(this.index_,pe,this.reverse_);for(;null!=Qe&&(Qe.name===s||q.hasChild(Qe.name));)Qe=m.getChildAfterChild(this.index_,Qe,this.reverse_);const Dt=null==Qe?1:x(Qe,ae);if(Ge&&!d.isEmpty()&&Dt>=0)return null!=A&&A.trackChildChange(Us(s,d,He)),q.updateImmediateChild(s,d);{null!=A&&A.trackChildChange(Mt(s,He));const Dr=q.updateImmediateChild(s,S.EMPTY_NODE);return null!=Qe&&this.rangedFilter_.matches(Qe)?(null!=A&&A.trackChildChange(ai(Qe.name,Qe.node)),Dr.updateImmediateChild(Qe.name,Qe.node)):Dr}}return d.isEmpty()?o:Ge&&x(pe,ae)>=0?(null!=A&&(A.trackChildChange(Mt(pe.name,pe.node)),A.trackChildChange(ai(s,d))),q.updateImmediateChild(s,d).updateImmediateChild(pe.name,S.EMPTY_NODE)):o}}class jo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:be}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:je}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const o=new jo;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function ya(u){const o={};if(u.isDefault())return o;let s;return u.index_===Ht?s="$priority":u.index_===zn?s="$value":u.index_===ei?s="$key":((0,F.hu)(u.index_ instanceof _t,"Unrecognized index type!"),s=u.index_.toString()),o.orderBy=(0,F.Pz)(s),u.startSet_&&(o.startAt=(0,F.Pz)(u.indexStartValue_),u.startNameSet_&&(o.startAt+=","+(0,F.Pz)(u.indexStartName_))),u.endSet_&&(o.endAt=(0,F.Pz)(u.indexEndValue_),u.endNameSet_&&(o.endAt+=","+(0,F.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?o.limitToFirst=u.limit_:o.limitToLast=u.limit_),o}function ls(u){const o={};if(u.startSet_&&(o.sp=u.indexStartValue_,u.startNameSet_&&(o.sn=u.indexStartName_)),u.endSet_&&(o.ep=u.indexEndValue_,u.endNameSet_&&(o.en=u.indexEndName_)),u.limitSet_){o.l=u.limit_;let s=u.viewFrom_;""===s&&(s=u.isViewFromLeft()?"l":"r"),o.vf=s}return u.index_!==Ht&&(o.i=u.index_.toString()),o}class ka extends Br{constructor(o,s,d,m){super(),this.repoInfo_=o,this.onDataUpdate_=s,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.log_=Fe("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,s){return void 0!==s?"tag$"+s:((0,F.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,s,d,m){const A=o._path.toString();this.log_("Listen called for "+A+" "+o._queryIdentifier);const x=ka.getListenId_(o,d),q={};this.listens_[x]=q;const ae=ya(o._queryParams);this.restRequest_(A+".json",ae,(pe,Ge)=>{let He=Ge;if(404===pe&&(He=null,pe=null),null===pe&&this.onDataUpdate_(A,He,!1,d),(0,F.DV)(this.listens_,x)===q){let Qe;Qe=pe?401===pe?"permission_denied":"rest_error:"+pe:"ok",m(Qe,null)}})}unlisten(o,s){const d=ka.getListenId_(o,s);delete this.listens_[d]}get(o){const s=ya(o._queryParams),d=o._path.toString(),m=new F.BH;return this.restRequest_(d+".json",s,(A,x)=>{let q=x;404===A&&(q=null,A=null),null===A?(this.onDataUpdate_(d,q,!1,null),m.resolve(q)):m.reject(new Error(q))}),m.promise}refreshAuthToken(o){}restRequest_(o,s={},d){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,A])=>{m&&m.accessToken&&(s.auth=m.accessToken),A&&A.token&&(s.ac=A.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,F.xO)(s);this.log_("Sending REST request for "+x);const q=new XMLHttpRequest;q.onreadystatechange=()=>{if(d&&4===q.readyState){this.log_("REST Response for "+x+" received. status:",q.status,"response:",q.responseText);let ae=null;if(q.status>=200&&q.status<300){try{ae=(0,F.cI)(q.responseText)}catch(pe){Rt("Failed to parse JSON response for "+x+": "+q.responseText)}d(null,ae)}else 401!==q.status&&404!==q.status&&Rt("Got unsuccessful REST response for "+x+" Status: "+q.status),d(q.status);d=null}},q.open("GET",x,!0),q.send()})}}class La{constructor(){this.rootNode_=S.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,s){this.rootNode_=this.rootNode_.updateChild(o,s)}}function io(){return{value:null,children:new Map}}function Di(u,o,s){if(gt(o))u.value=s,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(o,s);else{const d=Ut(o);u.children.has(d)||u.children.set(d,io()),Di(u.children.get(d),o=Ae(o),s)}}function ni(u,o,s){null!==u.value?s(o,u.value):function(u,o){u.children.forEach((s,d)=>{o(d,s)})}(u,(d,m)=>{ni(m,new Wt(o.toString()+"/"+d),s)})}class bs{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),s=Object.assign({},o);return this.last_&&Ct(this.last_,(d,m)=>{s[d]=s[d]-m}),this.last_=o,s}}class Ho{constructor(o,s){this.server_=s,this.statsToReport_={},this.statsListener_=new bs(o);const d=1e4+2e4*Math.random();Ur(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const o=this.statsListener_.get(),s={};let d=!1;Ct(o,(m,A)=>{A>0&&(0,F.r3)(this.statsToReport_,m)&&(s[m]=A,d=!0)}),d&&this.server_.reportStats(s),Ur(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ni=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ni||(Ni={})),Ni))();function Bs(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Ea{constructor(o,s,d){this.path=o,this.affectedTree=s,this.revert=d,this.type=Ni.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Wt(o));return new Ea(vt(),s,this.revert)}}return(0,F.hu)(Ut(this.path)===o,"operationForChild called for unrelated child."),new Ea(Ae(this.path),this.affectedTree,this.revert)}}class ki{constructor(o,s){this.source=o,this.path=s,this.type=Ni.LISTEN_COMPLETE}operationForChild(o){return gt(this.path)?new ki(this.source,vt()):new ki(this.source,Ae(this.path))}}class cs{constructor(o,s,d){this.source=o,this.path=s,this.snap=d,this.type=Ni.OVERWRITE}operationForChild(o){return gt(this.path)?new cs(this.source,vt(),this.snap.getImmediateChild(o)):new cs(this.source,Ae(this.path),this.snap)}}class ds{constructor(o,s,d){this.source=o,this.path=s,this.children=d,this.type=Ni.MERGE}operationForChild(o){if(gt(this.path)){const s=this.children.subtree(new Wt(o));return s.isEmpty()?null:s.value?new cs(this.source,vt(),s.value):new ds(this.source,vt(),s)}return(0,F.hu)(Ut(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new ds(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ki{constructor(o,s,d){this.node_=o,this.fullyInitialized_=s,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(gt(o))return this.isFullyInitialized()&&!this.filtered_;const s=Ut(o);return this.isCompleteForChild(s)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}class mu{constructor(o){this.query_=o,this.index_=this.query_._queryParams.getIndex()}}function Wo(u,o,s,d,m,A){const x=d.filter(q=>q.type===s);x.sort((q,ae)=>function(u,o,s){if(null==o.childName||null==s.childName)throw(0,F.g5)("Should only compare child_ events.");const d=new sn(o.childName,o.snapshotNode),m=new sn(s.childName,s.snapshotNode);return u.index_.compare(d,m)}(u,q,ae)),x.forEach(q=>{const ae=function(u,o,s){return"value"===o.type||"child_removed"===o.type||(o.prevName=s.getPredecessorChildName(o.childName,o.snapshotNode,u.index_)),o}(u,q,A);m.forEach(pe=>{pe.respondsTo(q.type)&&o.push(pe.createEvent(ae,u.query_))})})}function Is(u,o){return{eventCache:u,serverCache:o}}function ri(u,o,s,d){return Is(new Ki(o,s,d),u.serverCache)}function ws(u,o,s,d){return Is(u.eventCache,new Ki(o,s,d))}function sr(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Ds(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let zo;class _n{constructor(o,s=(()=>(zo||(zo=new Ar(pt)),zo))()){this.value=o,this.children=s}static fromObject(o){let s=new _n(null);return Ct(o,(d,m)=>{s=s.set(new Wt(d),m)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,s){if(null!=this.value&&s(this.value))return{path:vt(),value:this.value};if(gt(o))return null;{const d=Ut(o),m=this.children.get(d);if(null!==m){const A=m.findRootMostMatchingPathAndValue(Ae(o),s);return null!=A?{path:ct(new Wt(d),A.path),value:A.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(gt(o))return this;{const s=Ut(o),d=this.children.get(s);return null!==d?d.subtree(Ae(o)):new _n(null)}}set(o,s){if(gt(o))return new _n(s,this.children);{const d=Ut(o),A=(this.children.get(d)||new _n(null)).set(Ae(o),s),x=this.children.insert(d,A);return new _n(this.value,x)}}remove(o){if(gt(o))return this.children.isEmpty()?new _n(null):new _n(null,this.children);{const s=Ut(o),d=this.children.get(s);if(d){const m=d.remove(Ae(o));let A;return A=m.isEmpty()?this.children.remove(s):this.children.insert(s,m),null===this.value&&A.isEmpty()?new _n(null):new _n(this.value,A)}return this}}get(o){if(gt(o))return this.value;{const s=Ut(o),d=this.children.get(s);return d?d.get(Ae(o)):null}}setTree(o,s){if(gt(o))return s;{const d=Ut(o),A=(this.children.get(d)||new _n(null)).setTree(Ae(o),s);let x;return x=A.isEmpty()?this.children.remove(d):this.children.insert(d,A),new _n(this.value,x)}}fold(o){return this.fold_(vt(),o)}fold_(o,s){const d={};return this.children.inorderTraversal((m,A)=>{d[m]=A.fold_(ct(o,m),s)}),s(o,this.value,d)}findOnPath(o,s){return this.findOnPath_(o,vt(),s)}findOnPath_(o,s,d){const m=!!this.value&&d(s,this.value);if(m)return m;if(gt(o))return null;{const A=Ut(o),x=this.children.get(A);return x?x.findOnPath_(Ae(o),ct(s,A),d):null}}foreachOnPath(o,s){return this.foreachOnPath_(o,vt(),s)}foreachOnPath_(o,s,d){if(gt(o))return this;{this.value&&d(s,this.value);const m=Ut(o),A=this.children.get(m);return A?A.foreachOnPath_(Ae(o),ct(s,m),d):new _n(null)}}foreach(o){this.foreach_(vt(),o)}foreach_(o,s){this.children.inorderTraversal((d,m)=>{m.foreach_(ct(o,d),s)}),this.value&&s(o,this.value)}foreachChild(o){this.children.inorderTraversal((s,d)=>{d.value&&o(s,d.value)})}}class Yi{constructor(o){this.writeTree_=o}static empty(){return new Yi(new _n(null))}}function fs(u,o,s){if(gt(o))return new Yi(new _n(s));{const d=u.writeTree_.findRootMostValueAndPath(o);if(null!=d){const m=d.path;let A=d.value;const x=Vt(m,o);return A=A.updateChild(x,s),new Yi(u.writeTree_.set(m,A))}{const m=new _n(s),A=u.writeTree_.setTree(o,m);return new Yi(A)}}}function Go(u,o,s){let d=u;return Ct(s,(m,A)=>{d=fs(d,ct(o,m),A)}),d}function oo(u,o){if(gt(o))return Yi.empty();{const s=u.writeTree_.setTree(o,new _n(null));return new Yi(s)}}function Hs(u,o){return null!=qi(u,o)}function qi(u,o){const s=u.writeTree_.findRootMostValueAndPath(o);return null!=s?u.writeTree_.get(s.path).getChild(Vt(s.path,o)):null}function Ua(u){const o=[],s=u.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Ht,(d,m)=>{o.push(new sn(d,m))}):u.writeTree_.children.inorderTraversal((d,m)=>{null!=m.value&&o.push(new sn(d,m.value))}),o}function or(u,o){if(gt(o))return u;{const s=qi(u,o);return new Yi(null!=s?new _n(s):u.writeTree_.subtree(o))}}function Zi(u){return u.writeTree_.isEmpty()}function Ti(u,o){return Ko(vt(),u.writeTree_,o)}function Ko(u,o,s){if(null!=o.value)return s.updateChild(u,o.value);{let d=null;return o.children.inorderTraversal((m,A)=>{".priority"===m?((0,F.hu)(null!==A.value,"Priority writes must always be leaf nodes"),d=A.value):s=Ko(ct(u,m),A,s)}),!s.getChild(u).isEmpty()&&null!==d&&(s=s.updateChild(ct(u,".priority"),d)),s}}function wo(u,o){return Ai(o,u)}function cl(u,o){if(u.snap)return un(u.path,o);for(const s in u.children)if(u.children.hasOwnProperty(s)&&un(ct(u.path,s),o))return!0;return!1}function hs(u){return u.visible}function Do(u,o,s){let d=Yi.empty();for(let m=0;m<u.length;++m){const A=u[m];if(o(A)){const x=A.path;let q;if(A.snap)un(s,x)?(q=Vt(s,x),d=fs(d,q,A.snap)):un(x,s)&&(q=Vt(x,s),d=fs(d,vt(),A.snap.getChild(q)));else{if(!A.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(un(s,x))q=Vt(s,x),d=Go(d,q,A.children);else if(un(x,s))if(q=Vt(x,s),gt(q))d=Go(d,vt(),A.children);else{const ae=(0,F.DV)(A.children,Ut(q));if(ae){const pe=ae.getChild(Ae(q));d=fs(d,vt(),pe)}}}}}return d}function hr(u,o,s,d,m){if(d||m){const A=or(u.visibleWrites,o);return!m&&Zi(A)?s:m||null!=s||Hs(A,vt())?Ti(Do(u.allWrites,function(pe){return(pe.visible||m)&&(!d||!~d.indexOf(pe.writeId))&&(un(pe.path,o)||un(o,pe.path))},o),s||S.EMPTY_NODE):null}{const A=qi(u.visibleWrites,o);if(null!=A)return A;{const x=or(u.visibleWrites,o);return Zi(x)?s:null!=s||Hs(x,vt())?Ti(x,s||S.EMPTY_NODE):null}}}function Ss(u,o,s,d){return hr(u.writeTree,u.treePath,o,s,d)}function uo(u,o){return function(u,o,s){let d=S.EMPTY_NODE;const m=qi(u.visibleWrites,o);if(m)return m.isLeafNode()||m.forEachChild(Ht,(A,x)=>{d=d.updateImmediateChild(A,x)}),d;if(s){const A=or(u.visibleWrites,o);return s.forEachChild(Ht,(x,q)=>{const ae=Ti(or(A,new Wt(x)),q);d=d.updateImmediateChild(x,ae)}),Ua(A).forEach(x=>{d=d.updateImmediateChild(x.name,x.node)}),d}return Ua(or(u.visibleWrites,o)).forEach(x=>{d=d.updateImmediateChild(x.name,x.node)}),d}(u.writeTree,u.treePath,o)}function qo(u,o,s,d){return function(u,o,s,d,m){(0,F.hu)(d||m,"Either existingEventSnap or existingServerSnap must exist");const A=ct(o,s);if(Hs(u.visibleWrites,A))return null;{const x=or(u.visibleWrites,A);return Zi(x)?m.getChild(s):Ti(x,m.getChild(s))}}(u.writeTree,u.treePath,o,s,d)}function lo(u,o){return function(u,o){return qi(u.visibleWrites,o)}(u.writeTree,ct(u.treePath,o))}function Ws(u,o,s){return function(u,o,s,d){const m=ct(o,s),A=qi(u.visibleWrites,m);return null!=A?A:d.isCompleteForChild(s)?Ti(or(u.visibleWrites,m),d.getNode().getImmediateChild(s)):null}(u.writeTree,u.treePath,o,s)}function ja(u,o){return Ai(ct(u.treePath,o),u.writeTree)}function Ai(u,o){return{treePath:u,writeTree:o}}class pr{constructor(){this.changeMap=new Map}trackChildChange(o){const s=o.type,d=o.childName;(0,F.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(d);if(m){const A=m.type;if("child_added"===s&&"child_removed"===A)this.changeMap.set(d,Us(d,o.snapshotNode,m.snapshotNode));else if("child_removed"===s&&"child_added"===A)this.changeMap.delete(d);else if("child_removed"===s&&"child_changed"===A)this.changeMap.set(d,Mt(d,m.oldSnap));else if("child_changed"===s&&"child_added"===A)this.changeMap.set(d,ai(d,o.snapshotNode));else{if("child_changed"!==s||"child_changed"!==A)throw(0,F.g5)("Illegal combination of changes: "+o+" occurred after "+m);this.changeMap.set(d,Us(d,o.snapshotNode,m.oldSnap))}}else this.changeMap.set(d,o)}getChanges(){return Array.from(this.changeMap.values())}}const Gs=new class{getCompleteChild(o){return null}getChildAfterChild(o,s,d){return null}};class co{constructor(o,s,d=null){this.writes_=o,this.viewCache_=s,this.optCompleteServerCache_=d}getCompleteChild(o){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(o))return s.getNode().getImmediateChild(o);{const d=null!=this.optCompleteServerCache_?new Ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ws(this.writes_,o,d)}}getChildAfterChild(o,s,d){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ds(this.viewCache_),A=function(u,o,s,d,m,A){return function(u,o,s,d,m,A,x){let q;const ae=or(u.visibleWrites,o),pe=qi(ae,vt());if(null!=pe)q=pe;else{if(null==s)return[];q=Ti(ae,s)}if(q=q.withIndex(x),q.isEmpty()||q.isLeafNode())return[];{const Ge=[],He=x.getCompare(),Qe=A?q.getReverseIteratorFrom(d,x):q.getIteratorFrom(d,x);let Dt=Qe.getNext();for(;Dt&&Ge.length<m;)0!==He(Dt,d)&&Ge.push(Dt),Dt=Qe.getNext();return Ge}}(u.writeTree,u.treePath,o,s,d,m,A)}(this.writes_,m,s,1,d,o);return 0===A.length?null:A[0]}}function _(u,o,s,d,m,A){const x=o.eventCache;if(null!=lo(d,s))return o;{let q,ae;if(gt(s))if((0,F.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const pe=Ds(o),He=uo(d,pe instanceof S?pe:S.EMPTY_NODE);q=u.filter.updateFullNode(o.eventCache.getNode(),He,A)}else{const pe=Ss(d,Ds(o));q=u.filter.updateFullNode(o.eventCache.getNode(),pe,A)}else{const pe=Ut(s);if(".priority"===pe){(0,F.hu)(1===oe(s),"Can't have a priority with additional path components");const Ge=x.getNode();ae=o.serverCache.getNode();const He=qo(d,s,Ge,ae);q=null!=He?u.filter.updatePriority(Ge,He):x.getNode()}else{const Ge=Ae(s);let He;if(x.isCompleteForChild(pe)){ae=o.serverCache.getNode();const Qe=qo(d,s,x.getNode(),ae);He=null!=Qe?x.getNode().getImmediateChild(pe).updateChild(Ge,Qe):x.getNode().getImmediateChild(pe)}else He=Ws(d,pe,o.serverCache);q=null!=He?u.filter.updateChild(x.getNode(),pe,He,Ge,m,A):x.getNode()}}return ri(o,q,x.isFullyInitialized()||gt(s),u.filter.filtersNodes())}}function g(u,o,s,d,m,A,x,q){const ae=o.serverCache;let pe;const Ge=x?u.filter:u.filter.getIndexedFilter();if(gt(s))pe=Ge.updateFullNode(ae.getNode(),d,null);else if(Ge.filtersNodes()&&!ae.isFiltered()){const Dt=ae.getNode().updateChild(s,d);pe=Ge.updateFullNode(ae.getNode(),Dt,null)}else{const Dt=Ut(s);if(!ae.isCompleteForPath(s)&&oe(s)>1)return o;const qt=Ae(s),xi=ae.getNode().getImmediateChild(Dt).updateChild(qt,d);pe=".priority"===Dt?Ge.updatePriority(ae.getNode(),xi):Ge.updateChild(ae.getNode(),Dt,xi,qt,Gs,null)}const He=ws(o,pe,ae.isFullyInitialized()||gt(s),Ge.filtersNodes());return _(u,He,s,m,new co(m,He,A),q)}function O(u,o,s,d,m,A,x){const q=o.eventCache;let ae,pe;const Ge=new co(m,o,A);if(gt(s))pe=u.filter.updateFullNode(o.eventCache.getNode(),d,x),ae=ri(o,pe,!0,u.filter.filtersNodes());else{const He=Ut(s);if(".priority"===He)pe=u.filter.updatePriority(o.eventCache.getNode(),d),ae=ri(o,pe,q.isFullyInitialized(),q.isFiltered());else{const Qe=Ae(s),Dt=q.getNode().getImmediateChild(He);let qt;if(gt(Qe))qt=d;else{const Dr=Ge.getCompleteChild(He);qt=null!=Dr?".priority"===Ee(Qe)&&Dr.getChild(nt(Qe)).isEmpty()?Dr:Dr.updateChild(Qe,d):S.EMPTY_NODE}ae=Dt.equals(qt)?o:ri(o,u.filter.updateChild(q.getNode(),He,qt,Qe,Ge,x),q.isFullyInitialized(),u.filter.filtersNodes())}}return ae}function N(u,o){return u.eventCache.isCompleteForChild(o)}function le(u,o,s){return s.foreach((d,m)=>{o=o.updateChild(d,m)}),o}function me(u,o,s,d,m,A,x,q){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let pe,ae=o;pe=gt(s)?d:new _n(null).setTree(s,d);const Ge=o.serverCache.getNode();return pe.children.inorderTraversal((He,Qe)=>{if(Ge.hasChild(He)){const qt=le(0,o.serverCache.getNode().getImmediateChild(He),Qe);ae=g(u,ae,new Wt(He),qt,m,A,x,q)}}),pe.children.inorderTraversal((He,Qe)=>{const Dt=!o.serverCache.isCompleteForChild(He)&&void 0===Qe.value;if(!Ge.hasChild(He)&&!Dt){const Dr=le(0,o.serverCache.getNode().getImmediateChild(He),Qe);ae=g(u,ae,new Wt(He),Dr,m,A,x,q)}}),ae}class cn{constructor(o,s){this.query_=o,this.eventRegistrations_=[];const d=this.query_._queryParams,m=new gu(d.getIndex()),A=function(u){return u.loadsAllData()?new gu(u.getIndex()):u.hasLimit()?new Vo(u):new Vs(u)}(d);this.processor_=function(u){return{filter:u}}(A);const x=s.serverCache,q=s.eventCache,ae=m.updateFullNode(S.EMPTY_NODE,x.getNode(),null),pe=A.updateFullNode(S.EMPTY_NODE,q.getNode(),null),Ge=new Ki(ae,x.isFullyInitialized(),m.filtersNodes()),He=new Ki(pe,q.isFullyInitialized(),A.filtersNodes());this.viewCache_=Is(He,Ge),this.eventGenerator_=new mu(this.query_)}get query(){return this.query_}}function mi(u,o){const s=Ds(u.viewCache_);return s&&(u.query._queryParams.loadsAllData()||!gt(o)&&!s.getImmediateChild(Ut(o)).isEmpty())?s.getChild(o):null}function ii(u){return 0===u.eventRegistrations_.length}function Rs(u,o,s){const d=[];if(s){(0,F.hu)(null==o,"A cancel should cancel all event registrations.");const m=u.query._path;u.eventRegistrations_.forEach(A=>{const x=A.createCancelEvent(s,m);x&&d.push(x)})}if(o){let m=[];for(let A=0;A<u.eventRegistrations_.length;++A){const x=u.eventRegistrations_[A];if(x.matches(o)){if(o.hasAnyCallback()){m=m.concat(u.eventRegistrations_.slice(A+1));break}}else m.push(x)}u.eventRegistrations_=m}else u.eventRegistrations_=[];return d}function Ri(u,o,s,d){o.type===Ni.MERGE&&null!==o.source.queryId&&((0,F.hu)(Ds(u.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(sr(u.viewCache_),"Missing event cache, even though we have a server cache"));const m=u.viewCache_,A=function(u,o,s,d,m){const A=new pr;let x,q;if(s.type===Ni.OVERWRITE){const pe=s;pe.source.fromUser?x=O(u,o,pe.path,pe.snap,d,m,A):((0,F.hu)(pe.source.fromServer,"Unknown source."),q=pe.source.tagged||o.serverCache.isFiltered()&&!gt(pe.path),x=g(u,o,pe.path,pe.snap,d,m,q,A))}else if(s.type===Ni.MERGE){const pe=s;pe.source.fromUser?x=function(u,o,s,d,m,A,x){let q=o;return d.foreach((ae,pe)=>{const Ge=ct(s,ae);N(o,Ut(Ge))&&(q=O(u,q,Ge,pe,m,A,x))}),d.foreach((ae,pe)=>{const Ge=ct(s,ae);N(o,Ut(Ge))||(q=O(u,q,Ge,pe,m,A,x))}),q}(u,o,pe.path,pe.children,d,m,A):((0,F.hu)(pe.source.fromServer,"Unknown source."),q=pe.source.tagged||o.serverCache.isFiltered(),x=me(u,o,pe.path,pe.children,d,m,q,A))}else if(s.type===Ni.ACK_USER_WRITE){const pe=s;x=pe.revert?function(u,o,s,d,m,A){let x;if(null!=lo(d,s))return o;{const q=new co(d,o,m),ae=o.eventCache.getNode();let pe;if(gt(s)||".priority"===Ut(s)){let Ge;if(o.serverCache.isFullyInitialized())Ge=Ss(d,Ds(o));else{const He=o.serverCache.getNode();(0,F.hu)(He instanceof S,"serverChildren would be complete if leaf node"),Ge=uo(d,He)}Ge=Ge,pe=u.filter.updateFullNode(ae,Ge,A)}else{const Ge=Ut(s);let He=Ws(d,Ge,o.serverCache);null==He&&o.serverCache.isCompleteForChild(Ge)&&(He=ae.getImmediateChild(Ge)),pe=null!=He?u.filter.updateChild(ae,Ge,He,Ae(s),q,A):o.eventCache.getNode().hasChild(Ge)?u.filter.updateChild(ae,Ge,S.EMPTY_NODE,Ae(s),q,A):ae,pe.isEmpty()&&o.serverCache.isFullyInitialized()&&(x=Ss(d,Ds(o)),x.isLeafNode()&&(pe=u.filter.updateFullNode(pe,x,A)))}return x=o.serverCache.isFullyInitialized()||null!=lo(d,vt()),ri(o,pe,x,u.filter.filtersNodes())}}(u,o,pe.path,d,m,A):function(u,o,s,d,m,A,x){if(null!=lo(m,s))return o;const q=o.serverCache.isFiltered(),ae=o.serverCache;if(null!=d.value){if(gt(s)&&ae.isFullyInitialized()||ae.isCompleteForPath(s))return g(u,o,s,ae.getNode().getChild(s),m,A,q,x);if(gt(s)){let pe=new _n(null);return ae.getNode().forEachChild(ei,(Ge,He)=>{pe=pe.set(new Wt(Ge),He)}),me(u,o,s,pe,m,A,q,x)}return o}{let pe=new _n(null);return d.foreach((Ge,He)=>{const Qe=ct(s,Ge);ae.isCompleteForPath(Qe)&&(pe=pe.set(Ge,ae.getNode().getChild(Qe)))}),me(u,o,s,pe,m,A,q,x)}}(u,o,pe.path,pe.affectedTree,d,m,A)}else{if(s.type!==Ni.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+s.type);x=function(u,o,s,d,m){const A=o.serverCache;return _(u,ws(o,A.getNode(),A.isFullyInitialized()||gt(s),A.isFiltered()),s,d,Gs,m)}(u,o,s.path,d,A)}const ae=A.getChanges();return function(u,o,s){const d=o.eventCache;if(d.isFullyInitialized()){const m=d.getNode().isLeafNode()||d.getNode().isEmpty(),A=sr(u);(s.length>0||!u.eventCache.isFullyInitialized()||m&&!d.getNode().equals(A)||!d.getNode().getPriority().equals(A.getPriority()))&&s.push(Ii(sr(o)))}}(o,x,ae),{viewCache:x,changes:ae}}(u.processor_,m,o,s,d);return function(u,o){(0,F.hu)(o.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(o.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,A.viewCache),(0,F.hu)(A.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=A.viewCache,Os(u,A.changes,A.viewCache.eventCache.getNode(),null)}function Os(u,o,s,d){return function(u,o,s,d){const m=[],A=[];return o.forEach(x=>{"child_changed"===x.type&&u.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&A.push(function(u,o){return{type:"child_moved",snapshotNode:o,childName:u}}(x.childName,x.snapshotNode))}),Wo(u,m,"child_removed",o,d,s),Wo(u,m,"child_added",o,d,s),Wo(u,m,"child_moved",A,d,s),Wo(u,m,"child_changed",o,d,s),Wo(u,m,"value",o,d,s),m}(u.eventGenerator_,o,s,d?[d]:u.eventRegistrations_)}let Ha,ho;class dl{constructor(){this.views=new Map}}function vu(u,o,s,d){const m=o.source.queryId;if(null!==m){const A=u.views.get(m);return(0,F.hu)(null!=A,"SyncTree gave us an op for an invalid query."),Ri(A,o,s,d)}{let A=[];for(const x of u.views.values())A=A.concat(Ri(x,o,s,d));return A}}function yn(u,o,s,d,m,A){const x=function(u,o,s,d,m){const x=u.views.get(o._queryIdentifier);if(!x){let q=Ss(s,m?d:null),ae=!1;q?ae=!0:d instanceof S?(q=uo(s,d),ae=!1):(q=S.EMPTY_NODE,ae=!1);const pe=Is(new Ki(q,ae,!1),new Ki(d,m,!1));return new cn(o,pe)}return x}(u,o,d,m,A);return u.views.has(o._queryIdentifier)||u.views.set(o._queryIdentifier,x),function(u,o){u.eventRegistrations_.push(o)}(x,s),function(u,o){const s=u.viewCache_.eventCache,d=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Ht,(A,x)=>{d.push(ai(A,x))}),s.isFullyInitialized()&&d.push(Ii(s.getNode())),Os(u,d,s.getNode(),o)}(x,s)}function Ps(u){const o=[];for(const s of u.views.values())s.query._queryParams.loadsAllData()||o.push(s);return o}function Ys(u,o){let s=null;for(const d of u.views.values())s=s||mi(d,o);return s}function Eu(u,o){return o._queryParams.loadsAllData()?Qo(u):u.views.get(o._queryIdentifier)}function ba(u,o){return null!=Eu(u,o)}function Zo(u){return null!=Qo(u)}function Qo(u){for(const o of u.views.values())if(o.query._queryParams.loadsAllData())return o;return null}let Cu=1;class Ia{constructor(o){this.listenProvider_=o,this.syncPointTree_=new _n(null),this.pendingWriteTree_={visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fl(u,o,s,d,m){return function(u,o,s,d,m){(0,F.hu)(d>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),u.allWrites.push({path:o,snap:s,writeId:d,visible:m}),m&&(u.visibleWrites=fs(u.visibleWrites,o,s)),u.lastWriteId=d}(u.pendingWriteTree_,o,s,d,m),m?ui(u,new cs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,s)):[]}function Lr(u,o,s=!1){const d=function(u,o){for(let s=0;s<u.allWrites.length;s++){const d=u.allWrites[s];if(d.writeId===o)return d}return null}(u.pendingWriteTree_,o);if(function(u,o){const s=u.allWrites.findIndex(q=>q.writeId===o);(0,F.hu)(s>=0,"removeWrite called with nonexistent writeId.");const d=u.allWrites[s];u.allWrites.splice(s,1);let m=d.visible,A=!1,x=u.allWrites.length-1;for(;m&&x>=0;){const q=u.allWrites[x];q.visible&&(x>=s&&cl(q,d.path)?m=!1:un(d.path,q.path)&&(A=!0)),x--}return!!m&&(A?(function(u){u.visibleWrites=Do(u.allWrites,hs,vt()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(d.snap?u.visibleWrites=oo(u.visibleWrites,d.path):Ct(d.children,ae=>{u.visibleWrites=oo(u.visibleWrites,ct(d.path,ae))}),!0))}(u.pendingWriteTree_,o)){let A=new _n(null);return null!=d.snap?A=A.set(vt(),!0):Ct(d.children,x=>{A=A.set(new Wt(x),!0)}),ui(u,new Ea(d.path,A,s))}return[]}function Li(u,o,s){return ui(u,new cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,s))}function ea(u,o,s,d){const m=o._path,A=u.syncPointTree_.get(m);let x=[];if(A&&("default"===o._queryIdentifier||ba(A,o))){const q=function(u,o,s,d){const m=o._queryIdentifier,A=[];let x=[];const q=Zo(u);if("default"===m)for(const[ae,pe]of u.views.entries())x=x.concat(Rs(pe,s,d)),ii(pe)&&(u.views.delete(ae),pe.query._queryParams.loadsAllData()||A.push(pe.query));else{const ae=u.views.get(m);ae&&(x=x.concat(Rs(ae,s,d)),ii(ae)&&(u.views.delete(m),ae.query._queryParams.loadsAllData()||A.push(ae.query)))}return q&&!Zo(u)&&A.push(new((0,F.hu)(Ha,"Reference.ts has not been loaded"),Ha)(o._repo,o._path)),{removed:A,events:x}}(A,o,s,d);(function(u){return 0===u.views.size})(A)&&(u.syncPointTree_=u.syncPointTree_.remove(m));const ae=q.removed;x=q.events;const pe=-1!==ae.findIndex(He=>He._queryParams.loadsAllData()),Ge=u.syncPointTree_.findOnPath(m,(He,Qe)=>Zo(Qe));if(pe&&!Ge){const He=u.syncPointTree_.subtree(m);if(!He.isEmpty()){const Qe=function(u){return u.fold((o,s,d)=>{if(s&&Zo(s))return[Qo(s)];{let m=[];return s&&(m=Ps(s)),Ct(d,(A,x)=>{m=m.concat(x)}),m}})}(He);for(let Dt=0;Dt<Qe.length;++Dt){const qt=Qe[Dt],Dr=qt.query,xi=Ji(u,qt);u.listenProvider_.startListening(yi(Dr),Fi(u,Dr),xi.hashFn,xi.onComplete)}}}if(!Ge&&ae.length>0&&!d)if(pe){const He=null;u.listenProvider_.stopListening(yi(o),He)}else ae.forEach(He=>{const Qe=u.queryToTagMap.get(ps(He));u.listenProvider_.stopListening(yi(He),Qe)});!function(u,o){for(let s=0;s<o.length;++s){const d=o[s];if(!d._queryParams.loadsAllData()){const m=ps(d),A=u.queryToTagMap.get(m);u.queryToTagMap.delete(m),u.tagToQueryMap.delete(A)}}}(u,ae)}return x}function ta(u,o,s){const d=o._path;let m=null,A=!1;u.syncPointTree_.foreachOnPath(d,(He,Qe)=>{const Dt=Vt(He,d);m=m||Ys(Qe,Dt),A=A||Zo(Qe)});let q,x=u.syncPointTree_.get(d);x?(A=A||Zo(x),m=m||Ys(x,vt())):(x=new dl,u.syncPointTree_=u.syncPointTree_.set(d,x)),null!=m?q=!0:(q=!1,m=S.EMPTY_NODE,u.syncPointTree_.subtree(d).foreachChild((Qe,Dt)=>{const qt=Ys(Dt,vt());qt&&(m=m.updateImmediateChild(Qe,qt))}));const ae=ba(x,o);if(!ae&&!o._queryParams.loadsAllData()){const He=ps(o);(0,F.hu)(!u.queryToTagMap.has(He),"View does not exist, but we have a tag");const Qe=Cu++;u.queryToTagMap.set(He,Qe),u.tagToQueryMap.set(Qe,He)}let Ge=yn(x,o,s,wo(u.pendingWriteTree_,d),m,q);if(!ae&&!A){const He=Eu(x,o);Ge=Ge.concat(function(u,o,s){const d=o._path,m=Fi(u,o),A=Ji(u,s),x=u.listenProvider_.startListening(yi(o),m,A.hashFn,A.onComplete),q=u.syncPointTree_.subtree(d);if(m)(0,F.hu)(!Zo(q.value),"If we're adding a query, it shouldn't be shadowed");else{const ae=q.fold((pe,Ge,He)=>{if(!gt(pe)&&Ge&&Zo(Ge))return[Qo(Ge).query];{let Qe=[];return Ge&&(Qe=Qe.concat(Ps(Ge).map(Dt=>Dt.query))),Ct(He,(Dt,qt)=>{Qe=Qe.concat(qt)}),Qe}});for(let pe=0;pe<ae.length;++pe){const Ge=ae[pe];u.listenProvider_.stopListening(yi(Ge),Fi(u,Ge))}}return x}(u,o,He))}return Ge}function Iu(u,o,s){const m=u.pendingWriteTree_,A=u.syncPointTree_.findOnPath(o,(x,q)=>{const pe=Ys(q,Vt(x,o));if(pe)return pe});return hr(m,o,A,s,!0)}function ui(u,o){return Du(o,u.syncPointTree_,null,wo(u.pendingWriteTree_,vt()))}function Du(u,o,s,d){if(gt(u.path))return $r(u,o,s,d);{const m=o.get(vt());null==s&&null!=m&&(s=Ys(m,vt()));let A=[];const x=Ut(u.path),q=u.operationForChild(x),ae=o.children.get(x);if(ae&&q){const pe=s?s.getImmediateChild(x):null,Ge=ja(d,x);A=A.concat(Du(q,ae,pe,Ge))}return m&&(A=A.concat(vu(m,u,d,s))),A}}function $r(u,o,s,d){const m=o.get(vt());null==s&&null!=m&&(s=Ys(m,vt()));let A=[];return o.children.inorderTraversal((x,q)=>{const ae=s?s.getImmediateChild(x):null,pe=ja(d,x),Ge=u.operationForChild(x);Ge&&(A=A.concat($r(Ge,q,ae,pe)))}),m&&(A=A.concat(vu(m,u,d,s))),A}function Ji(u,o){const s=o.query,d=Fi(u,s);return{hashFn:()=>(function(u){return u.viewCache_.serverCache.getNode()}(o)||S.EMPTY_NODE).hash(),onComplete:m=>{if("ok"===m)return d?function(u,o,s){const d=Wa(u,s);if(d){const m=za(d),A=m.path,x=m.queryId,q=Vt(A,o);return Hu(u,A,new ki(Bs(x),q))}return[]}(u,s._path,d):function(u,o){return ui(u,new ki({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o))}(u,s._path);{const A=function(u,o){let s="Unknown Error";"too_big"===u?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?s="Client doesn't have permission to access the desired data.":"unavailable"===u&&(s="The service is unavailable");const d=new Error(u+" at "+o._path.toString()+": "+s);return d.code=u.toUpperCase(),d}(m,s);return ea(u,s,null,A)}}}}function Fi(u,o){const s=ps(o);return u.queryToTagMap.get(s)}function ps(u){return u._path.toString()+"$"+u._queryIdentifier}function Wa(u,o){return u.tagToQueryMap.get(o)}function za(u){const o=u.indexOf("$");return(0,F.hu)(-1!==o&&o<u.length-1,"Bad queryKey."),{queryId:u.substr(o+1),path:new Wt(u.substr(0,o))}}function Hu(u,o,s){const d=u.syncPointTree_.get(o);return(0,F.hu)(d,"Missing sync point for query tag that we're tracking"),vu(d,s,wo(u.pendingWriteTree_,o),null)}function yi(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,F.hu)(ho,"Reference.ts has not been loaded"),ho)(u._repo,u._path):u}class na{constructor(o){this.node_=o}getImmediateChild(o){const s=this.node_.getImmediateChild(o);return new na(s)}node(){return this.node_}}class Ao{constructor(o,s){this.syncTree_=o,this.path_=s}getImmediateChild(o){const s=ct(this.path_,o);return new Ao(this.syncTree_,s)}node(){return Iu(this.syncTree_,this.path_)}}const Wu=function(u,o,s){return u&&"object"==typeof u?((0,F.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?zu(u[".sv"],o,s):"object"==typeof u[".sv"]?Ya(u[".sv"],o):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},zu=function(u,o,s){switch(u){case"timestamp":return s.timestamp;default:(0,F.hu)(!1,"Unexpected server value: "+u)}},Ya=function(u,o,s){u.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const d=u.increment;"number"!=typeof d&&(0,F.hu)(!1,"Unexpected increment value: "+d);const m=o.node();if((0,F.hu)(null!=m,"Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return d;const x=m.getValue();return"number"!=typeof x?d:x+d},Gu=function(u,o,s){return ia(u,new na(o),s)};function ia(u,o,s){const d=u.getPriority().val(),m=Wu(d,o.getImmediateChild(".priority"),s);let A;if(u.isLeafNode()){const x=u,q=Wu(x.getValue(),o,s);return q!==x.getValue()||m!==x.getPriority().val()?new Ye(q,qe(m)):u}{const x=u;return A=x,m!==x.getPriority().val()&&(A=A.updatePriority(new Ye(m))),x.forEachChild(Ht,(q,ae)=>{const pe=ia(ae,o.getImmediateChild(q),s);pe!==ae&&(A=A.updateImmediateChild(q,pe))}),A}}class sa{constructor(o="",s=null,d={children:{},childCount:0}){this.name=o,this.parent=s,this.node=d}}function Zs(u,o){let s=o instanceof Wt?o:new Wt(o),d=u,m=Ut(s);for(;null!==m;){const A=(0,F.DV)(d.node.children,m)||{children:{},childCount:0};d=new sa(m,d,A),s=Ae(s),m=Ut(s)}return d}function Ro(u){return u.node.value}function gr(u,o){u.node.value=o,oa(u)}function Su(u){return u.node.childCount>0}function Xi(u,o){Ct(u.node.children,(s,d)=>{o(new sa(s,u,d))})}function Oo(u,o,s,d){s&&!d&&o(u),Xi(u,m=>{Oo(m,o,!0,d)}),s&&d&&o(u)}function wa(u){return new Wt(null===u.parent?u.name:wa(u.parent)+"/"+u.name)}function oa(u){null!==u.parent&&function(u,o,s){const d=function(u){return void 0===Ro(u)&&!Su(u)}(s),m=(0,F.r3)(u.node.children,o);d&&m?(delete u.node.children[o],u.node.childCount--,oa(u)):!d&&!m&&(u.node.children[o]=s.node,u.node.childCount++,oa(u))}(u.parent,u.name,u)}const Da=/[\[\].#$\/\u0000-\u001F\u007F]/,gs=/[\[\].#$\u0000-\u001F\u007F]/,Po=10485760,Oi=function(u){return"string"==typeof u&&0!==u.length&&!Da.test(u)},Ku=function(u){return"string"==typeof u&&0!==u.length&&!gs.test(u)},Ui=function(u,o,s,d){d&&void 0===o||aa((0,F.gK)(u,"value"),o,s)},aa=function(u,o,s){const d=s instanceof Wt?new hi(s,u):s;if(void 0===o)throw new Error(u+"contains undefined "+Ci(d));if("function"==typeof o)throw new Error(u+"contains a function "+Ci(d)+" with contents = "+o.toString());if(Ue(o))throw new Error(u+"contains "+o.toString()+" "+Ci(d));if("string"==typeof o&&o.length>Po/3&&(0,F.ug)(o)>Po)throw new Error(u+"contains a string greater than "+Po+" utf8 bytes "+Ci(d)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let m=!1,A=!1;if(Ct(o,(x,q)=>{if(".value"===x)m=!0;else if(".priority"!==x&&".sv"!==x&&(A=!0,!Oi(x)))throw new Error(u+" contains an invalid key ("+x+") "+Ci(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,o){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(o),u.byteLength_+=(0,F.ug)(o),ks(u)})(d,x),aa(u,q,d),function(u){const o=u.parts_.pop();u.byteLength_-=(0,F.ug)(o),u.parts_.length>0&&(u.byteLength_-=1)}(d)}),m&&A)throw new Error(u+' contains ".value" child '+Ci(d)+" in addition to actual children.")}},qu=function(u,o,s,d){if(!(d&&void 0===s||Ku(s)))throw new Error((0,F.gK)(u,o)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},es=function(u,o){if(".info"===Ut(o))throw new Error(u+" failed = Can't modify data under /.info/")};class Za{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qa(u,o){let s=null;for(let d=0;d<o.length;d++){const m=o[d],A=m.getPath();null!==s&&!hn(A,s.path)&&(u.eventLists_.push(s),s=null),null===s&&(s={events:[],path:A}),s.events.push(m)}s&&u.eventLists_.push(s)}function Au(u,o,s){Qa(u,s),No(u,d=>hn(d,o))}function ms(u,o,s){Qa(u,s),No(u,d=>un(d,o)||un(o,d))}function No(u,o){u.recursionDepth_++;let s=!0;for(let d=0;d<u.eventLists_.length;d++){const m=u.eventLists_[d];m&&(o(m.path)?(Ru(u.eventLists_[d]),u.eventLists_[d]=null):s=!1)}s&&(u.eventLists_=[]),u.recursionDepth_--}function Ru(u){for(let o=0;o<u.events.length;o++){const s=u.events[o];if(null!==s){u.events[o]=null;const d=s.getEventRunner();Ke&&st("event: "+s.toString()),mn(d)}}}class Ju{constructor(o,s,d,m){this.repoInfo_=o,this.forceRestClient_=s,this.authTokenProvider_=d,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Za,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=io(),this.transactionQueueTree_=new sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _o(u){const s=u.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function ua(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:_o(u)})}function Ja(u,o,s,d,m){u.dataUpdateCount++;const A=new Wt(o);s=u.interceptServerDataCallback_?u.interceptServerDataCallback_(o,s):s;let x=[];if(m)if(d){const ae=(0,F.UI)(s,pe=>qe(pe));x=function(u,o,s,d){const m=Wa(u,d);if(m){const A=za(m),x=A.path,q=A.queryId,ae=Vt(x,o),pe=_n.fromObject(s);return Hu(u,x,new ds(Bs(q),ae,pe))}return[]}(u.serverSyncTree_,A,ae,m)}else{const ae=qe(s);x=function(u,o,s,d){const m=Wa(u,d);if(null!=m){const A=za(m),x=A.path,q=A.queryId,ae=Vt(x,o);return Hu(u,x,new cs(Bs(q),ae,s))}return[]}(u.serverSyncTree_,A,ae,m)}else if(d){const ae=(0,F.UI)(s,pe=>qe(pe));x=function(u,o,s){const d=_n.fromObject(s);return ui(u,new ds({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,d))}(u.serverSyncTree_,A,ae)}else{const ae=qe(s);x=Li(u.serverSyncTree_,A,ae)}let q=A;x.length>0&&(q=la(u,A)),ms(u.eventQueue_,q,x)}function Xu(u,o){Js(u,"connected",o),!1===o&&function(u){Bt(u,"onDisconnectEvents");const o=ua(u),s=io();ni(u.onDisconnect_,vt(),(m,A)=>{const x=function(u,o,s,d){return ia(o,new Ao(s,u),d)}(m,A,u.serverSyncTree_,o);Di(s,m,x)});let d=[];ni(s,vt(),(m,A)=>{d=d.concat(Li(u.serverSyncTree_,m,A));const x=eu(u,m);la(u,x)}),u.onDisconnect_=io(),ms(u.eventQueue_,vt(),d)}(u)}function Js(u,o,s){const d=new Wt("/.info/"+o),m=qe(s);u.infoData_.updateSnapshot(d,m);const A=Li(u.infoSyncTree_,d,m);ms(u.eventQueue_,d,A)}function Ou(u){return u.nextWriteId_++}function el(u,o,s,d,m){Bt(u,"set",{path:o.toString(),value:s,priority:d});const A=ua(u),x=qe(s,d),q=Iu(u.serverSyncTree_,o),ae=Gu(x,q,A),pe=Ou(u),Ge=fl(u.serverSyncTree_,o,ae,pe,!0);Qa(u.eventQueue_,Ge),u.server_.put(o.toString(),x.val(!0),(Qe,Dt)=>{const qt="ok"===Qe;qt||Rt("set at "+o+" failed: "+Qe);const Dr=Lr(u.serverSyncTree_,pe,!qt);ms(u.eventQueue_,o,Dr),function(u,o,s,d){o&&mn(()=>{if("ok"===s)o(null);else{const m=(s||"error").toUpperCase();let A=m;d&&(A+=": "+d);const x=new Error(A);x.code=m,o(x)}})}(0,m,Qe,Dt)});const He=eu(u,o);la(u,He),ms(u.eventQueue_,He,[])}function Ne(u,o,s){let d;d=".info"===Ut(o._path)?ea(u.infoSyncTree_,o,s):ea(u.serverSyncTree_,o,s),Au(u.eventQueue_,o._path,d)}function Bt(u,...o){let s="";u.persistentConnection_&&(s=u.persistentConnection_.id+":"),st(s,...o)}function Vi(u,o,s){return Iu(u.serverSyncTree_,o,s)||S.EMPTY_NODE}function ts(u,o=u.transactionQueueTree_){if(o||da(u,o),Ro(o)){const s=ns(u,o);(0,F.hu)(s.length>0,"Sending zero length transaction queue"),s.every(m=>0===m.status)&&function(u,o,s){const d=s.map(pe=>pe.currentWriteId),m=Vi(u,o,d);let A=m;const x=m.hash();for(let pe=0;pe<s.length;pe++){const Ge=s[pe];(0,F.hu)(0===Ge.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ge.status=1,Ge.retryCount++;const He=Vt(o,Ge.path);A=A.updateChild(He,Ge.currentOutputSnapshotRaw)}const q=A.val(!0),ae=o;u.server_.put(ae.toString(),q,pe=>{Bt(u,"transaction put response",{path:ae.toString(),status:pe});let Ge=[];if("ok"===pe){const He=[];for(let Qe=0;Qe<s.length;Qe++)s[Qe].status=2,Ge=Ge.concat(Lr(u.serverSyncTree_,s[Qe].currentWriteId)),s[Qe].onComplete&&He.push(()=>s[Qe].onComplete(null,!0,s[Qe].currentOutputSnapshotResolved)),s[Qe].unwatcher();da(u,Zs(u.transactionQueueTree_,o)),ts(u,u.transactionQueueTree_),ms(u.eventQueue_,o,Ge);for(let Qe=0;Qe<He.length;Qe++)mn(He[Qe])}else{if("datastale"===pe)for(let He=0;He<s.length;He++)s[He].status=3===s[He].status?4:0;else{Rt("transaction at "+ae.toString()+" failed: "+pe);for(let He=0;He<s.length;He++)s[He].status=4,s[He].abortReason=pe}la(u,o)}},x)}(u,wa(o),s)}else Su(o)&&Xi(o,s=>{ts(u,s)})}function la(u,o){const s=Xa(u,o),d=wa(s);return function(u,o,s){if(0===o.length)return;const d=[];let m=[];const x=o.filter(q=>0===q.status).map(q=>q.currentWriteId);for(let q=0;q<o.length;q++){const ae=o[q],pe=Vt(s,ae.path);let He,Ge=!1;if((0,F.hu)(null!==pe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ae.status)Ge=!0,He=ae.abortReason,m=m.concat(Lr(u.serverSyncTree_,ae.currentWriteId,!0));else if(0===ae.status)if(ae.retryCount>=25)Ge=!0,He="maxretry",m=m.concat(Lr(u.serverSyncTree_,ae.currentWriteId,!0));else{const Qe=Vi(u,ae.path,x);ae.currentInputSnapshot=Qe;const Dt=o[q].update(Qe.val());if(void 0!==Dt){aa("transaction failed: Data returned ",Dt,ae.path);let qt=qe(Dt);"object"==typeof Dt&&null!=Dt&&(0,F.r3)(Dt,".priority")||(qt=qt.updatePriority(Qe.getPriority()));const xi=ae.currentWriteId,Fc=ua(u),Jl=Gu(qt,Qe,Fc);ae.currentOutputSnapshotRaw=qt,ae.currentOutputSnapshotResolved=Jl,ae.currentWriteId=Ou(u),x.splice(x.indexOf(xi),1),m=m.concat(fl(u.serverSyncTree_,ae.path,Jl,ae.currentWriteId,ae.applyLocally)),m=m.concat(Lr(u.serverSyncTree_,xi,!0))}else Ge=!0,He="nodata",m=m.concat(Lr(u.serverSyncTree_,ae.currentWriteId,!0))}ms(u.eventQueue_,s,m),m=[],Ge&&(o[q].status=2,setTimeout(o[q].unwatcher,Math.floor(0)),o[q].onComplete&&d.push("nodata"===He?()=>o[q].onComplete(null,!1,o[q].currentInputSnapshot):()=>o[q].onComplete(new Error(He),!1,null)))}da(u,u.transactionQueueTree_);for(let q=0;q<d.length;q++)mn(d[q]);ts(u,u.transactionQueueTree_)}(u,ns(u,s),d),d}function Xa(u,o){let s,d=u.transactionQueueTree_;for(s=Ut(o);null!==s&&void 0===Ro(d);)d=Zs(d,s),s=Ut(o=Ae(o));return d}function ns(u,o){const s=[];return ko(u,o,s),s.sort((d,m)=>d.order-m.order),s}function ko(u,o,s){const d=Ro(o);if(d)for(let m=0;m<d.length;m++)s.push(d[m]);Xi(o,m=>{ko(u,m,s)})}function da(u,o){const s=Ro(o);if(s){let d=0;for(let m=0;m<s.length;m++)2!==s[m].status&&(s[d]=s[m],d++);s.length=d,gr(o,s.length>0?s:void 0)}Xi(o,d=>{da(u,d)})}function eu(u,o){const s=wa(Xa(u,o)),d=Zs(u.transactionQueueTree_,o);return function(u,o,s){let d=u.parent;for(;null!==d;){if(o(d))return!0;d=d.parent}}(d,m=>{Ta(u,m)}),Ta(u,d),Oo(d,m=>{Ta(u,m)}),s}function Ta(u,o){const s=Ro(o);if(s){const d=[];let m=[],A=-1;for(let x=0;x<s.length;x++)3===s[x].status||(1===s[x].status?((0,F.hu)(A===x-1,"All SENT items should be at beginning of queue."),A=x,s[x].status=3,s[x].abortReason="set"):((0,F.hu)(0===s[x].status,"Unexpected transaction status in abort"),s[x].unwatcher(),m=m.concat(Lr(u.serverSyncTree_,s[x].currentWriteId,!0)),s[x].onComplete&&d.push(s[x].onComplete.bind(null,new Error("set"),!1,null))));-1===A?gr(o,void 0):s.length=A+1,ms(u.eventQueue_,wa(o),m);for(let x=0;x<d.length;x++)mn(d[x])}}const Sa=function(u,o){const s=nl(u),d=s.namespace;return"firebase.com"===s.domain&&xt(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==s.domain&&xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rn(s.host,s.secure,d,o,"ws"===s.scheme||"wss"===s.scheme,"",d!==s.subdomain),path:new Wt(s.pathString)}},nl=function(u){let o="",s="",d="",m="",A="",x=!0,q="https",ae=443;if("string"==typeof u){let pe=u.indexOf("//");pe>=0&&(q=u.substring(0,pe-1),u=u.substring(pe+2));let Ge=u.indexOf("/");-1===Ge&&(Ge=u.length);let He=u.indexOf("?");-1===He&&(He=u.length),o=u.substring(0,Math.min(Ge,He)),Ge<He&&(m=function(u){let o="";const s=u.split("/");for(let d=0;d<s.length;d++)if(s[d].length>0){let m=s[d];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(A){}o+="/"+m}return o}(u.substring(Ge,He)));const Qe=function(u){const o={};"?"===u.charAt(0)&&(u=u.substring(1));for(const s of u.split("&")){if(0===s.length)continue;const d=s.split("=");2===d.length?o[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Rt(`Invalid query segment '${s}' in query '${u}'`)}return o}(u.substring(Math.min(u.length,He)));pe=o.indexOf(":"),pe>=0?(x="https"===q||"wss"===q,ae=parseInt(o.substring(pe+1),10)):pe=o.length;const Dt=o.slice(0,pe);if("localhost"===Dt.toLowerCase())s="localhost";else if(Dt.split(".").length<=2)s=Dt;else{const qt=o.indexOf(".");d=o.substring(0,qt).toLowerCase(),s=o.substring(qt+1),A=d}"ns"in Qe&&(A=Qe.ns)}return{host:o,port:ae,domain:s,subdomain:d,secure:x,scheme:q,pathString:m,namespace:A}};class Aa{constructor(o,s,d,m){this.eventType=o,this.eventRegistration=s,this.snapshot=d,this.prevName=m}getPath(){const o=this.snapshot.ref;return"value"===this.eventType?o._path:o.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class tu{constructor(o,s,d){this.eventRegistration=o,this.error=s,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vl{constructor(o,s){this.snapshotCallback=o,this.cancelCallback=s}onValue(o,s){this.snapshotCallback.call(null,o,s)}onCancel(o){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,o)}get hasCancelCallback(){return!!this.cancelCallback}matches(o){return this.snapshotCallback===o.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===o.snapshotCallback.userCallback&&this.snapshotCallback.context===o.snapshotCallback.context}}class rs{constructor(o,s,d,m){this._repo=o,this._path=s,this._queryParams=d,this._orderByCalled=m}get key(){return gt(this._path)?null:Ee(this._path)}get ref(){return new xs(this._repo,this._path)}get _queryIdentifier(){const o=ls(this._queryParams),s=Qt(o);return"{}"===s?"default":s}get _queryObject(){return ls(this._queryParams)}isEqual(o){if(!((o=(0,F.m9)(o))instanceof rs))return!1;const s=this._repo===o._repo,d=hn(this._path,o._path);return s&&d&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(u){let o="";for(let s=u.pieceNum_;s<u.pieces_.length;s++)""!==u.pieces_[s]&&(o+="/"+encodeURIComponent(String(u.pieces_[s])));return o||"/"}(this._path)}}class xs extends rs{constructor(o,s){super(o,s,new jo,!1)}get parent(){const o=nt(this._path);return null===o?null:new xs(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}class fa{constructor(o,s,d){this._node=o,this.ref=s,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(o){const s=new Wt(o),d=Ra(this.ref,o);return new fa(this._node.getChild(s),d,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(o){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,m)=>o(new fa(m,Ra(this.ref,d),Ht)))}hasChild(o){const s=new Wt(o);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pu(u,o){return(u=(0,F.m9)(u))._checkNotDeleted("ref"),void 0!==o?Ra(u._root,o):u._root}function Ra(u,o){return null===Ut((u=(0,F.m9)(u))._path)?((s=o)&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),qu("child","path",s,!1)):qu("child","path",o,!1),new xs(u._repo,ct(u._path,o));var s}function qr(u,o){u=(0,F.m9)(u),es("push",u._path),Ui("push",o,u._path,!0);const s=_o(u._repo),d=Cr(s),m=Ra(u,d),A=Ra(u,d);let x;return x=null!=o?bl(A,o).then(()=>A):Promise.resolve(A),m.then=x.then.bind(x),m.catch=x.then.bind(x,void 0),m}function bl(u,o){u=(0,F.m9)(u),es("set",u._path),Ui("set",o,u._path,!1);const s=new F.BH;return el(u._repo,u._path,o,null,s.wrapCallback(()=>{})),s.promise}class Il{constructor(o){this.callbackContext=o}respondsTo(o){return"value"===o}createEvent(o,s){const d=s._queryParams.getIndex();return new Aa("value",this,new fa(o.snapshotNode,new xs(s._repo,s._path),d))}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,null)}createCancelEvent(o,s){return this.callbackContext.hasCancelCallback?new tu(this,o,s):null}matches(o){return o instanceof Il&&(!o.callbackContext||!this.callbackContext||o.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wl{constructor(o,s){this.eventType=o,this.callbackContext=s}respondsTo(o){let s="children_added"===o?"child_added":o;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(o,s){return this.callbackContext.hasCancelCallback?new tu(this,o,s):null}createEvent(o,s){(0,F.hu)(null!=o.childName,"Child events should have a childName.");const d=Ra(new xs(s._repo,s._path),o.childName),m=s._queryParams.getIndex();return new Aa(o.type,this,new fa(o.snapshotNode,d,m),o.prevName)}getEventRunner(o){return"cancel"===o.getEventType()?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,o.prevName)}matches(o){return o instanceof wl&&this.eventType===o.eventType&&(!this.callbackContext||!o.callbackContext||this.callbackContext.matches(o.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nc(u,o,s,d){return function(u,o,s,d,m){let A;if("object"==typeof d&&(A=void 0,m=d),"function"==typeof d&&(A=d),m&&m.onlyOnce){const ae=s,pe=(Ge,He)=>{Ne(u._repo,u,q),ae(Ge,He)};pe.userCallback=s.userCallback,pe.context=s.context,s=pe}const x=new vl(s,A||void 0),q="value"===o?new Il(x):new wl(o,x);return function(u,o,s){let d;d=".info"===Ut(o._path)?ta(u.infoSyncTree_,o,s):ta(u.serverSyncTree_,o,s),Au(u.eventQueue_,o._path,d)}(u._repo,u,q),()=>Ne(u._repo,u,q)}(u,"value",o,s,d)}(function(u){(0,F.hu)(!Ha,"__referenceConstructor has already been defined"),Ha=u})(xs),function(u){(0,F.hu)(!ho,"__referenceConstructor has already been defined"),ho=u}(xs);const Lo={};function Lc(u,o,s,d,m){let A=d||u.options.databaseURL;void 0===A&&(u.options.projectId||xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",u.options.projectId),A=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ae,pe,x=Sa(A,m),q=x.repoInfo;"undefined"!=typeof process&&(pe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),pe?(ae=!0,A=`http://${pe}?ns=${q.namespace}`,x=Sa(A,m),q=x.repoInfo):ae=!x.repoInfo.secure;const Ge=m&&ae?new qn(qn.OWNER):new Zr(u.name,u.options,o);(function(u,o){const s=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!Oi(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==s.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Ku(u)}(s))throw new Error((0,F.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",x),gt(x.path)||xt("Database URL must point to the root of a Firebase Database (not including a child path).");const He=function(u,o,s,d){let m=Lo[o.name];m||(m={},Lo[o.name]=m);let A=m[u.toURLString()];return A&&xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new Ju(u,false,s,d),m[u.toURLString()]=A,A}(q,u,Ge,new ar(u.name,s));return new yf(He,u)}class yf{constructor(o,s){this._repoInternal=o,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(u,o,s){if(u.stats_=vn(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new ka(u.repoInfo_,(d,m,A,x)=>{Ja(u,d,m,A,x)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Xu(u,!0),0);else{if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(s)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}u.persistentConnection_=new Ls(u.repoInfo_,o,(d,m,A,x)=>{Ja(u,d,m,A,x)},d=>{Xu(u,d)},d=>{!function(u,o){Ct(o,(s,d)=>{Js(u,s,d)})}(u,d)},u.authTokenProvider_,u.appCheckProvider_,s),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(d=>{u.server_.refreshAuthToken(d)}),u.appCheckProvider_.addTokenChangeListener(d=>{u.server_.refreshAppCheckToken(d.token)}),u.statsReporter_=function(u,o){const s=u.toString();return Mn[s]||(Mn[s]=o()),Mn[s]}(u.repoInfo_,()=>new Ho(u.stats_,u.server_)),u.infoData_=new La,u.infoSyncTree_=new Ia({startListening:(d,m,A,x)=>{let q=[];const ae=u.infoData_.getNode(d._path);return ae.isEmpty()||(q=Li(u.infoSyncTree_,d._path,ae),setTimeout(()=>{x("ok")},0)),q},stopListening:()=>{}}),Js(u,"connected",!1),u.serverSyncTree_=new Ia({startListening:(d,m,A,x)=>(u.server_.listen(d,A,m,(q,ae)=>{const pe=x(q,ae);ms(u.eventQueue_,d._path,pe)}),[]),stopListening:(d,m)=>{u.server_.unlisten(d,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xs(this._repo,vt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(u,o){const s=Lo[o];(!s||s[u.key]!==u)&&xt(`Database ${o}(${u.repoInfo_}) has already been deleted.`),function(u){u.persistentConnection_&&u.persistentConnection_.interrupt("repo_interrupt")}(u),delete s[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&xt("Cannot call "+o+" on a deleted database.")}}function vf(u=(0,I.getApp)(),o){return(0,I._getProvider)(u,"database").getImmediate({identifier:o})}Ls.prototype.simpleListen=function(u,o){this.sendRequest("q",{p:u},o)},Ls.prototype.echo=function(u,o){this.sendRequest("echo",{d:u},o)},function(u){G=u}(I.SDK_VERSION),(0,I._registerComponent)(new fe.wA("database",(o,{instanceIdentifier:s})=>Lc(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)("@firebase/database","0.12.0",void 0)},300:(_e,ne,M)=>{"use strict";function b(){for(var B=0,se=0,Ce=arguments.length;se<Ce;se++)B+=arguments[se].length;var We=Array(B),Me=0;for(se=0;se<Ce;se++)for(var ze=arguments[se],Re=0,Ke=ze.length;Re<Ke;Re++,Me++)We[Me]=ze[Re];return We}M.d(ne,{in:()=>F,Yd:()=>Y,Ub:()=>U,Am:()=>J});var I,fe=[],F=(()=>{return(B=F||(F={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",F;var B})(),re={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},Z=F.INFO,ee=((I={})[F.DEBUG]="log",I[F.VERBOSE]="log",I[F.INFO]="info",I[F.WARN]="warn",I[F.ERROR]="error",I),G=function(B,se){for(var Ce=[],We=2;We<arguments.length;We++)Ce[We-2]=arguments[We];if(!(se<B.logLevel)){var Me=(new Date).toISOString(),ze=ee[se];if(!ze)throw new Error("Attempted to log a message with an invalid logType (value: "+se+")");console[ze].apply(console,b(["["+Me+"]  "+B.name+":"],Ce))}},Y=function(){function B(se){this.name=se,this._logLevel=Z,this._logHandler=G,this._userLogHandler=null,fe.push(this)}return Object.defineProperty(B.prototype,"logLevel",{get:function(){return this._logLevel},set:function(se){if(!(se in F))throw new TypeError('Invalid value "'+se+'" assigned to `logLevel`');this._logLevel=se},enumerable:!1,configurable:!0}),B.prototype.setLogLevel=function(se){this._logLevel="string"==typeof se?re[se]:se},Object.defineProperty(B.prototype,"logHandler",{get:function(){return this._logHandler},set:function(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(se){this._userLogHandler=se},enumerable:!1,configurable:!0}),B.prototype.debug=function(){for(var se=[],Ce=0;Ce<arguments.length;Ce++)se[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,F.DEBUG],se)),this._logHandler.apply(this,b([this,F.DEBUG],se))},B.prototype.log=function(){for(var se=[],Ce=0;Ce<arguments.length;Ce++)se[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,F.VERBOSE],se)),this._logHandler.apply(this,b([this,F.VERBOSE],se))},B.prototype.info=function(){for(var se=[],Ce=0;Ce<arguments.length;Ce++)se[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,F.INFO],se)),this._logHandler.apply(this,b([this,F.INFO],se))},B.prototype.warn=function(){for(var se=[],Ce=0;Ce<arguments.length;Ce++)se[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,F.WARN],se)),this._logHandler.apply(this,b([this,F.WARN],se))},B.prototype.error=function(){for(var se=[],Ce=0;Ce<arguments.length;Ce++)se[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,b([this,F.ERROR],se)),this._logHandler.apply(this,b([this,F.ERROR],se))},B}();function U(B){fe.forEach(function(se){se.setLogLevel(B)})}function J(B,se){for(var Ce=function(Re){var Ke=null;se&&se.level&&(Ke=re[se.level]),Re.userLogHandler=null===B?null:function(Ve,rt){for(var st=[],Fe=2;Fe<arguments.length;Fe++)st[Fe-2]=arguments[Fe];var Zt=st.map(function(xt){if(null==xt)return null;if("string"==typeof xt)return xt;if("number"==typeof xt||"boolean"==typeof xt)return xt.toString();if(xt instanceof Error)return xt.message;try{return JSON.stringify(xt)}catch(Rt){return null}}).filter(function(xt){return xt}).join(" ");rt>=(null!=Ke?Ke:Ve.logLevel)&&B({level:F[rt].toLowerCase(),message:Zt,args:st,type:Ve.name})}},We=0,Me=fe;We<Me.length;We++)Ce(Me[We])}},4685:(_e,ne,M)=>{"use strict";M.d(ne,{BH:()=>Ce,LL:()=>pt,ZR:()=>Se,gQ:()=>Wr,hu:()=>fe,g5:()=>F,US:()=>ee,tV:()=>U,h$:()=>G,r3:()=>Yn,ne:()=>Qr,p$:()=>J,vZ:()=>Xn,ZB:()=>B,gK:()=>bt,pd:()=>qn,m9:()=>kn,z$:()=>Me,GJ:()=>In,jU:()=>Ke,ru:()=>Ve,xb:()=>en,w1:()=>Fe,hl:()=>ke,uI:()=>ze,UG:()=>Re,Yr:()=>xt,b$:()=>rt,w9:()=>dn,cI:()=>Tt,UI:()=>mn,xO:()=>ar,zd:()=>Zr,DV:()=>fn,ug:()=>lt,dS:()=>rn,Pz:()=>Ct});var b=M(4762),fe=function(ce,ie){if(!ce)throw F(ie)},F=function(ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ce)},re=function(ce){for(var ie=[],Te=0,xe=0;xe<ce.length;xe++){var Ie=ce.charCodeAt(xe);Ie<128?ie[Te++]=Ie:Ie<2048?(ie[Te++]=Ie>>6|192,ie[Te++]=63&Ie|128):55296==(64512&Ie)&&xe+1<ce.length&&56320==(64512&ce.charCodeAt(xe+1))?(Ie=65536+((1023&Ie)<<10)+(1023&ce.charCodeAt(++xe)),ie[Te++]=Ie>>18|240,ie[Te++]=Ie>>12&63|128,ie[Te++]=Ie>>6&63|128,ie[Te++]=63&Ie|128):(ie[Te++]=Ie>>12|224,ie[Te++]=Ie>>6&63|128,ie[Te++]=63&Ie|128)}return ie},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ce,ie){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Te=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[],Ie=0;Ie<ce.length;Ie+=3){var at=ce[Ie],ft=Ie+1<ce.length,Nt=ft?ce[Ie+1]:0,En=Ie+2<ce.length,Jt=En?ce[Ie+2]:0,er=(15&Nt)<<2|Jt>>6,oi=63&Jt;En||(oi=64,ft||(er=64)),xe.push(Te[at>>2],Te[(3&at)<<4|Nt>>4],Te[er],Te[oi])}return xe.join("")},encodeString:function(ce,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ce):this.encodeByteArray(re(ce),ie)},decodeString:function(ce,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ce):function(ce){for(var ie=[],Te=0,xe=0;Te<ce.length;){var Ie=ce[Te++];if(Ie<128)ie[xe++]=String.fromCharCode(Ie);else if(Ie>191&&Ie<224){var at=ce[Te++];ie[xe++]=String.fromCharCode((31&Ie)<<6|63&at)}else if(Ie>239&&Ie<365){var En=((7&Ie)<<18|(63&(at=ce[Te++]))<<12|(63&(ft=ce[Te++]))<<6|63&ce[Te++])-65536;ie[xe++]=String.fromCharCode(55296+(En>>10)),ie[xe++]=String.fromCharCode(56320+(1023&En))}else{at=ce[Te++];var ft=ce[Te++];ie[xe++]=String.fromCharCode((15&Ie)<<12|(63&at)<<6|63&ft)}}return ie.join("")}(this.decodeStringToByteArray(ce,ie))},decodeStringToByteArray:function(ce,ie){this.init_();for(var Te=ie?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[],Ie=0;Ie<ce.length;){var at=Te[ce.charAt(Ie++)],Nt=Ie<ce.length?Te[ce.charAt(Ie)]:0,Jt=++Ie<ce.length?Te[ce.charAt(Ie)]:64,cr=++Ie<ce.length?Te[ce.charAt(Ie)]:64;if(++Ie,null==at||null==Nt||null==Jt||null==cr)throw Error();xe.push(at<<2|Nt>>4),64!==Jt&&(xe.push(Nt<<4&240|Jt>>2),64!==cr&&xe.push(Jt<<6&192|cr))}return xe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},G=function(ce){var ie=re(ce);return ee.encodeByteArray(ie,!0)},U=function(ce){try{return ee.decodeString(ce,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function J(ce){return B(void 0,ce)}function B(ce,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return ie}for(var xe in ie)!ie.hasOwnProperty(xe)||!se(xe)||(ce[xe]=B(ce[xe],ie[xe]));return ce}function se(ce){return"__proto__"!==ce}var Ce=function(){function ce(){var ie=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Te,xe){ie.resolve=Te,ie.reject=xe})}return ce.prototype.wrapCallback=function(ie){var Te=this;return function(xe,Ie){xe?Te.reject(xe):Te.resolve(Ie),"function"==typeof ie&&(Te.promise.catch(function(){}),1===ie.length?ie(xe):ie(xe,Ie))}},ce}();function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ce){return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Ve(){var ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){var ce=Me();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function xt(){return!1}function ke(){return"indexedDB"in self&&null!=indexedDB}var Se=function(ce){function ie(Te,xe,Ie){var at=ce.call(this,xe)||this;return at.code=Te,at.customData=Ie,at.name="FirebaseError",Object.setPrototypeOf(at,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(at,pt.prototype.create),at}return(0,b.ZT)(ie,ce),ie}(Error),pt=function(){function ce(ie,Te,xe){this.service=ie,this.serviceName=Te,this.errors=xe}return ce.prototype.create=function(ie){for(var Te=[],xe=1;xe<arguments.length;xe++)Te[xe-1]=arguments[xe];var Ie=Te[0]||{},at=this.service+"/"+ie,ft=this.errors[ie],Nt=ft?Et(ft,Ie):"Error",En=this.serviceName+": "+Nt+" ("+at+").",Jt=new Se(at,En,Ie);return Jt},ce}();function Et(ce,ie){return ce.replace(Qt,function(Te,xe){var Ie=ie[xe];return null!=Ie?String(Ie):"<"+xe+"?>"})}var Qt=/\{\$([^}]+)}/g;function Tt(ce){return JSON.parse(ce)}function Ct(ce){return JSON.stringify(ce)}var Ft=function(ce){var ie={},Te={},xe={},Ie="";try{var at=ce.split(".");ie=Tt(U(at[0])||""),Te=Tt(U(at[1])||""),Ie=at[2],xe=Te.d||{},delete Te.d}catch(ft){}return{header:ie,claims:Te,data:xe,signature:Ie}},dn=function(ce){var Te=Ft(ce).claims;return!!Te&&"object"==typeof Te&&Te.hasOwnProperty("iat")},In=function(ce){var ie=Ft(ce).claims;return"object"==typeof ie&&!0===ie.admin};function Yn(ce,ie){return Object.prototype.hasOwnProperty.call(ce,ie)}function fn(ce,ie){if(Object.prototype.hasOwnProperty.call(ce,ie))return ce[ie]}function en(ce){for(var ie in ce)if(Object.prototype.hasOwnProperty.call(ce,ie))return!1;return!0}function mn(ce,ie,Te){var xe={};for(var Ie in ce)Object.prototype.hasOwnProperty.call(ce,Ie)&&(xe[Ie]=ie.call(Te,ce[Ie],Ie,ce));return xe}function Xn(ce,ie){if(ce===ie)return!0;for(var Te=Object.keys(ce),xe=Object.keys(ie),Ie=0,at=Te;Ie<at.length;Ie++){if(!xe.includes(ft=at[Ie]))return!1;var Nt=ce[ft],En=ie[ft];if(Ur(Nt)&&Ur(En)){if(!Xn(Nt,En))return!1}else if(Nt!==En)return!1}for(var Jt=0,ur=xe;Jt<ur.length;Jt++){var ft;if(!Te.includes(ft=ur[Jt]))return!1}return!0}function Ur(ce){return null!==ce&&"object"==typeof ce}function ar(ce){for(var ie=[],Te=function(En,Jt){Array.isArray(Jt)?Jt.forEach(function(ur){ie.push(encodeURIComponent(En)+"="+encodeURIComponent(ur))}):ie.push(encodeURIComponent(En)+"="+encodeURIComponent(Jt))},xe=0,Ie=Object.entries(ce);xe<Ie.length;xe++){var at=Ie[xe];Te(at[0],at[1])}return ie.length?"&"+ie.join("&"):""}function Zr(ce){var ie={};return ce.replace(/^\?/,"").split("&").forEach(function(xe){if(xe){var Ie=xe.split("="),ft=Ie[1];ie[decodeURIComponent(Ie[0])]=decodeURIComponent(ft)}}),ie}function qn(ce){var ie=ce.indexOf("?");if(!ie)return"";var Te=ce.indexOf("#",ie);return ce.substring(ie,Te>0?Te:void 0)}var Wr=function(){function ce(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}return ce.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ce.prototype.compress_=function(ie,Te){Te||(Te=0);var xe=this.W_;if("string"==typeof ie)for(var Ie=0;Ie<16;Ie++)xe[Ie]=ie.charCodeAt(Te)<<24|ie.charCodeAt(Te+1)<<16|ie.charCodeAt(Te+2)<<8|ie.charCodeAt(Te+3),Te+=4;else for(Ie=0;Ie<16;Ie++)xe[Ie]=ie[Te]<<24|ie[Te+1]<<16|ie[Te+2]<<8|ie[Te+3],Te+=4;for(Ie=16;Ie<80;Ie++)xe[Ie]=4294967295&((at=xe[Ie-3]^xe[Ie-8]^xe[Ie-14]^xe[Ie-16])<<1|at>>>31);var cr,er,ft=this.chain_[0],Nt=this.chain_[1],En=this.chain_[2],Jt=this.chain_[3],ur=this.chain_[4];for(Ie=0;Ie<80;Ie++){Ie<40?Ie<20?(cr=Jt^Nt&(En^Jt),er=1518500249):(cr=Nt^En^Jt,er=1859775393):Ie<60?(cr=Nt&En|Jt&(Nt|En),er=2400959708):(cr=Nt^En^Jt,er=3395469782);var at=(ft<<5|ft>>>27)+cr+ur+er+xe[Ie]&4294967295;ur=Jt,Jt=En,En=4294967295&(Nt<<30|Nt>>>2),Nt=ft,ft=at}this.chain_[0]=this.chain_[0]+ft&4294967295,this.chain_[1]=this.chain_[1]+Nt&4294967295,this.chain_[2]=this.chain_[2]+En&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+ur&4294967295},ce.prototype.update=function(ie,Te){if(null!=ie){void 0===Te&&(Te=ie.length);for(var xe=Te-this.blockSize,Ie=0,at=this.buf_,ft=this.inbuf_;Ie<Te;){if(0===ft)for(;Ie<=xe;)this.compress_(ie,Ie),Ie+=this.blockSize;if("string"==typeof ie){for(;Ie<Te;)if(at[ft]=ie.charCodeAt(Ie),++Ie,++ft===this.blockSize){this.compress_(at),ft=0;break}}else for(;Ie<Te;)if(at[ft]=ie[Ie],++Ie,++ft===this.blockSize){this.compress_(at),ft=0;break}}this.inbuf_=ft,this.total_+=Te}},ce.prototype.digest=function(){var ie=[],Te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var xe=this.blockSize-1;xe>=56;xe--)this.buf_[xe]=255&Te,Te/=256;this.compress_(this.buf_);var Ie=0;for(xe=0;xe<5;xe++)for(var at=24;at>=0;at-=8)ie[Ie]=this.chain_[xe]>>at&255,++Ie;return ie},ce}();function Qr(ce,ie){var Te=new yt(ce,ie);return Te.subscribe.bind(Te)}var yt=function(){function ce(ie,Te){var xe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(function(){ie(xe)}).catch(function(Ie){xe.error(Ie)})}return ce.prototype.next=function(ie){this.forEachObserver(function(Te){Te.next(ie)})},ce.prototype.error=function(ie){this.forEachObserver(function(Te){Te.error(ie)}),this.close(ie)},ce.prototype.complete=function(){this.forEachObserver(function(ie){ie.complete()}),this.close()},ce.prototype.subscribe=function(ie,Te,xe){var at,Ie=this;if(void 0===ie&&void 0===Te&&void 0===xe)throw new Error("Missing Observer.");void 0===(at=function(ce,ie){if("object"!=typeof ce||null===ce)return!1;for(var Te=0,xe=["next","error","complete"];Te<xe.length;Te++){var Ie=xe[Te];if(Ie in ce&&"function"==typeof ce[Ie])return!0}return!1}(ie)?ie:{next:ie,error:Te,complete:xe}).next&&(at.next=Sr),void 0===at.error&&(at.error=Sr),void 0===at.complete&&(at.complete=Sr);var ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ie.finalError?at.error(Ie.finalError):at.complete()}catch(Nt){}}),this.observers.push(at),ft},ce.prototype.unsubscribeOne=function(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ce.prototype.forEachObserver=function(ie){if(!this.finalized)for(var Te=0;Te<this.observers.length;Te++)this.sendOne(Te,ie)},ce.prototype.sendOne=function(ie,Te){var xe=this;this.task.then(function(){if(void 0!==xe.observers&&void 0!==xe.observers[ie])try{Te(xe.observers[ie])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})},ce.prototype.close=function(ie){var Te=this;this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(function(){Te.observers=void 0,Te.onNoObservers=void 0}))},ce}();function Sr(){}function bt(ce,ie){return ce+" failed: "+ie+" argument "}var rn=function(ce){for(var ie=[],Te=0,xe=0;xe<ce.length;xe++){var Ie=ce.charCodeAt(xe);if(Ie>=55296&&Ie<=56319){var at=Ie-55296;xe++,fe(xe<ce.length,"Surrogate pair missing trail surrogate."),Ie=65536+(at<<10)+(ce.charCodeAt(xe)-56320)}Ie<128?ie[Te++]=Ie:Ie<2048?(ie[Te++]=Ie>>6|192,ie[Te++]=63&Ie|128):Ie<65536?(ie[Te++]=Ie>>12|224,ie[Te++]=Ie>>6&63|128,ie[Te++]=63&Ie|128):(ie[Te++]=Ie>>18|240,ie[Te++]=Ie>>12&63|128,ie[Te++]=Ie>>6&63|128,ie[Te++]=63&Ie|128)}return ie},lt=function(ce){for(var ie=0,Te=0;Te<ce.length;Te++){var xe=ce.charCodeAt(Te);xe<128?ie++:xe<2048?ie+=2:xe>=55296&&xe<=56319?(ie+=4,Te++):ie+=3}return ie};function kn(ce){return ce&&ce._delegate?ce._delegate:ce}},3572:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4220),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8891),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(_e){const ne={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof _e?_e():_e,fe=Object.assign({},ne,{features:M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||ne.features},M);if(fe.maxAge&&fe.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${fe.maxAge}`);return fe}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ne,M){if(this.action=ne,this.timestamp=M,this.type=PERFORM_ACTION,void 0===ne.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ne){this.timestamp=ne,this.type=RESET}}class Rollback{constructor(ne){this.timestamp=ne,this.type=ROLLBACK}}class Commit{constructor(ne){this.timestamp=ne,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ne){this.id=ne,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ne,M,b=!0){this.start=ne,this.end=M,this.active=b,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ne){this.index=ne,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ne){this.actionId=ne,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ne){this.nextLiftedState=ne,this.type=IMPORT_STATE}}class LockChanges{constructor(ne){this.status=ne,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ne){this.status=ne,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class _e extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return _e.\u0275fac=function(){let ne;return function(b){return(ne||(ne=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(_e)))(b||_e)}}(),_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function difference(_e,ne){return _e.filter(M=>ne.indexOf(M)<0)}function unliftState(_e){const{computedStates:ne,currentStateIndex:M}=_e;if(M>=ne.length){const{state:I}=ne[ne.length-1];return I}const{state:b}=ne[M];return b}function unliftAction(_e){return _e.actionsById[_e.nextActionId-1]}function liftAction(_e){return new PerformAction(_e,+Date.now())}function sanitizeActions(_e,ne){return Object.keys(ne).reduce((M,b)=>{const I=Number(b);return M[I]=sanitizeAction(_e,ne[I],I),M},{})}function sanitizeAction(_e,ne,M){return Object.assign(Object.assign({},ne),{action:_e(ne.action,M)})}function sanitizeStates(_e,ne){return ne.map((M,b)=>({state:sanitizeState(_e,M.state,b),error:M.error}))}function sanitizeState(_e,ne,M){return _e(ne,M)}function shouldFilterActions(_e){return _e.predicate||_e.actionsSafelist||_e.actionsBlocklist}function filterLiftedState(_e,ne,M,b){const I=[],fe={},F=[];return _e.stagedActionIds.forEach((re,Z)=>{const ee=_e.actionsById[re];!ee||Z&&isActionFiltered(_e.computedStates[Z],ee,ne,M,b)||(fe[re]=ee,I.push(re),F.push(_e.computedStates[Z]))}),Object.assign(Object.assign({},_e),{stagedActionIds:I,actionsById:fe,computedStates:F})}function isActionFiltered(_e,ne,M,b,I){const fe=M&&!M(_e,ne.action),F=b&&!ne.action.type.match(b.map(Z=>escapeRegExp(Z)).join("|")),re=I&&ne.action.type.match(I.map(Z=>escapeRegExp(Z)).join("|"));return fe||F||re}function escapeRegExp(_e){return _e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(_e,ne,M){this.config=ne,this.dispatcher=M,this.devtoolsExtension=_e,this.createActionStreams()}notify(_e,ne){if(this.devtoolsExtension)if(_e.type===PERFORM_ACTION){if(ne.isLocked||ne.isPaused)return;const M=unliftState(ne);if(shouldFilterActions(this.config)&&isActionFiltered(M,_e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const b=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,ne.currentStateIndex):M,I=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,_e,ne.nextActionId):_e;this.sendToReduxDevtools(()=>this.extensionConnection.send(I,b))}else{const M=Object.assign(Object.assign({},ne),{stagedActionIds:ne.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ne.actionsById):ne.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ne.computedStates):ne.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(_e=>{const ne=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ne,ne.init(),ne.subscribe(M=>_e.next(M)),ne.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const _e=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ne=_e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.START)),M=_e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.STOP)),b=_e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(re=>re.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Z=>Z.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>re),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re))),fe=_e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),F=b.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>fe)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>F))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(_e){var ne;const M={name:_e.name,features:_e.features,serialize:_e.serialize,autoPause:null!==(ne=_e.autoPause)&&void 0!==ne&&ne};return!1!==_e.maxAge&&(M.maxAge=_e.maxAge),M}sendToReduxDevtools(_e){try{_e()}catch(ne){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ne)}}}return DevtoolsExtension.\u0275fac=function(ne){return new(ne||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(_e,ne,M,b,I){if(b)return{state:M,error:"Interrupted by an error up the chain"};let F,fe=M;try{fe=_e(M,ne)}catch(re){F=re.toString(),I.handleError(re)}return{state:fe,error:F}}function recomputeStates(_e,ne,M,b,I,fe,F,re,Z){if(ne>=_e.length&&_e.length===fe.length)return _e;const ee=_e.slice(0,ne),G=fe.length-(Z?1:0);for(let Y=ne;Y<G;Y++){const U=fe[Y],J=I[U].action,B=ee[Y-1],se=B?B.state:b,Ce=B?B.error:void 0,Me=F.indexOf(U)>-1?B:computeNextEntry(M,J,se,Ce,re);ee.push(Me)}return Z&&ee.push(_e[_e.length-1]),ee}function liftInitialState(_e,ne){return{monitorState:ne(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:_e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(_e,ne,M,b,I={}){return fe=>(F,re)=>{let{monitorState:Z,actionsById:ee,nextActionId:G,stagedActionIds:Y,skippedActionIds:U,committedState:J,currentStateIndex:B,computedStates:se,isLocked:Ce,isPaused:We}=F||ne;function Me(Ke){let Ve=Ke,rt=Y.slice(1,Ve+1);for(let st=0;st<rt.length;st++){if(se[st+1].error){Ve=st,rt=Y.slice(1,Ve+1);break}delete ee[rt[st]]}U=U.filter(st=>-1===rt.indexOf(st)),Y=[0,...Y.slice(Ve+1)],J=se[Ve].state,se=se.slice(Ve),B=B>Ve?B-Ve:0}function ze(){ee={0:liftAction(INIT_ACTION)},G=1,Y=[0],U=[],J=se[B].state,B=0,se=[]}F||(ee=Object.create(ee));let Re=0;switch(re.type){case LOCK_CHANGES:Ce=re.status,Re=1/0;break;case PAUSE_RECORDING:We=re.status,We?(Y=[...Y,G],ee[G]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),G++,Re=Y.length-1,se=se.concat(se[se.length-1]),B===Y.length-2&&B++,Re=1/0):ze();break;case RESET:ee={0:liftAction(INIT_ACTION)},G=1,Y=[0],U=[],J=_e,B=0,se=[];break;case COMMIT:ze();break;case ROLLBACK:ee={0:liftAction(INIT_ACTION)},G=1,Y=[0],U=[],B=0,se=[];break;case TOGGLE_ACTION:{const{id:Ke}=re;U=-1===U.indexOf(Ke)?[Ke,...U]:U.filter(rt=>rt!==Ke),Re=Y.indexOf(Ke);break}case SET_ACTIONS_ACTIVE:{const{start:Ke,end:Ve,active:rt}=re,st=[];for(let Fe=Ke;Fe<Ve;Fe++)st.push(Fe);U=rt?difference(U,st):[...U,...st],Re=Y.indexOf(Ke);break}case JUMP_TO_STATE:B=re.index,Re=1/0;break;case JUMP_TO_ACTION:{const Ke=Y.indexOf(re.actionId);-1!==Ke&&(B=Ke),Re=1/0;break}case SWEEP:Y=difference(Y,U),U=[],B=Math.min(B,Y.length-1);break;case PERFORM_ACTION:{if(Ce)return F||ne;if(We||F&&isActionFiltered(F.computedStates[B],re,I.predicate,I.actionsSafelist,I.actionsBlocklist)){const Ve=se[se.length-1];se=[...se.slice(0,-1),computeNextEntry(fe,re.action,Ve.state,Ve.error,M)],Re=1/0;break}I.maxAge&&Y.length===I.maxAge&&Me(1),B===Y.length-1&&B++;const Ke=G++;ee[Ke]=re,Y=[...Y,Ke],Re=Y.length-1;break}case IMPORT_STATE:({monitorState:Z,actionsById:ee,nextActionId:G,stagedActionIds:Y,skippedActionIds:U,committedState:J,currentStateIndex:B,computedStates:se,isLocked:Ce,isPaused:We}=re.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Re=0,I.maxAge&&Y.length>I.maxAge&&(se=recomputeStates(se,Re,fe,J,ee,Y,U,M,We),Me(Y.length-I.maxAge),Re=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(se.filter(Ve=>Ve.error).length>0)Re=0,I.maxAge&&Y.length>I.maxAge&&(se=recomputeStates(se,Re,fe,J,ee,Y,U,M,We),Me(Y.length-I.maxAge),Re=1/0);else{if(!We&&!Ce){B===Y.length-1&&B++;const Ve=G++;ee[Ve]=new PerformAction(re,+Date.now()),Y=[...Y,Ve],Re=Y.length-1,se=recomputeStates(se,Re,fe,J,ee,Y,U,M,We)}se=se.map(Ve=>Object.assign(Object.assign({},Ve),{state:fe(Ve.state,RECOMPUTE_ACTION)})),B=Y.length-1,I.maxAge&&Y.length>I.maxAge&&Me(Y.length-I.maxAge),Re=1/0}break;default:Re=1/0}return se=recomputeStates(se,Re,fe,J,ee,Y,U,M,We),Z=b(Z,re),{monitorState:Z,actionsById:ee,nextActionId:G,stagedActionIds:Y,skippedActionIds:U,committedState:J,currentStateIndex:B,computedStates:se,isLocked:Ce,isPaused:We}}}let StoreDevtools=(()=>{class _e{constructor(M,b,I,fe,F,re,Z,ee){const G=liftInitialState(Z,ee.monitor),Y=liftReducerWith(Z,G,re,ee.monitor,ee),U=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(b.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),fe.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,fe.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),J=I.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y)),B=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),se=U.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(J),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ze},[Re,Ke])=>{let Ve=Ke(ze,Re);return Re.type!==PERFORM_ACTION&&shouldFilterActions(ee)&&(Ve=filterLiftedState(Ve,ee.predicate,ee.actionsSafelist,ee.actionsBlocklist)),fe.notify(Re,Ve),{state:Ve,action:Re}},{state:G,action:null})).subscribe(({state:ze,action:Re})=>{B.next(ze),Re.type===PERFORM_ACTION&&F.next(Re.action)}),Ce=fe.start$.subscribe(()=>{this.refresh()}),We=B.asObservable(),Me=We.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ce,this.stateSubscription=se,this.dispatcher=M,this.liftedState=We,this.state=Me}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return _e.\u0275fac=function(M){return new(M||_e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(_e,ne){return Boolean(_e)||ne.monitor!==noMonitor}function createReduxDevtoolsExtension(){const _e="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[_e]?window[_e]:null}function createStateObservable(_e){return _e.state}let StoreDevtoolsModule=(()=>{class _e{static instrument(M={}){return{ngModule:_e,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:M},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return _e.\u0275fac=function(M){return new(M||_e)},_e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:_e}),_e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),_e})()},4220:(_e,ne,M)=>{"use strict";M.d(ne,{UO:()=>Fe,qg:()=>st,Y6:()=>ke,mK:()=>Wr,n$:()=>qn,Y$:()=>mr,FR:()=>wt,yh:()=>_r,CK:()=>Un,Aw:()=>Xr,cr:()=>kt,wb:()=>Qr,qC:()=>Ur,PH:()=>Re,Lq:()=>Ut,on:()=>vt,Ky:()=>Ke});var b=M(7716),I=M(6215),fe=M(8891),F=M(9765),re=M(7771),Z=M(8002),Y=M(7393);class J{constructor(Ae,Ee){this.compare=Ae,this.keySelector=Ee}call(Ae,Ee){return Ee.subscribe(new B(Ae,this.compare,this.keySelector))}}class B extends Y.L{constructor(Ae,Ee,Le){super(Ae),this.keySelector=Le,this.hasKey=!1,"function"==typeof Ee&&(this.compare=Ee)}compare(Ae,Ee){return Ae===Ee}_next(Ae){let Ee;try{const{keySelector:et}=this;Ee=et?et(Ae):Ae}catch(et){return this.destination.error(et)}let Le=!1;if(this.hasKey)try{const{compare:et}=this;Le=et(this.key,Ee)}catch(et){return this.destination.error(et)}else this.hasKey=!0;Le||(this.key=Ee,this.destination.next(Ae))}}var se=M(9746),Ce=M(7057),We=M(2145);const Me={};function Re(oe,Ae){if(Me[oe]=(Me[oe]||0)+1,"function"==typeof Ae)return rt(oe,(...Le)=>Object.assign(Object.assign({},Ae(...Le)),{type:oe}));switch(Ae?Ae._as:"empty"){case"empty":return rt(oe,()=>({type:oe}));case"props":return rt(oe,Le=>Object.assign(Object.assign({},Le),{type:oe}));default:throw new Error("Unexpected config.")}}function Ke(){return{_as:"props",_p:void 0}}function rt(oe,Ae){return Object.defineProperty(Ae,"type",{value:oe,writable:!1})}const st="@ngrx/store/init";let Fe=(()=>{class oe extends I.X{constructor(){super({type:st})}next(Ee){if("function"==typeof Ee)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Ee)throw new TypeError("Actions must be objects");if(void 0===Ee.type)throw new TypeError("Actions must have a type property");super.next(Ee)}complete(){}ngOnDestroy(){super.complete()}}return oe.\u0275fac=function(Ee){return new(Ee||oe)},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Zt=[Fe],xt=new b.OlP("@ngrx/store Internal Root Guard"),Rt=new b.OlP("@ngrx/store Internal Initial State"),ke=new b.OlP("@ngrx/store Initial State"),Ue=new b.OlP("@ngrx/store Reducer Factory"),we=new b.OlP("@ngrx/store Internal Reducer Factory Provider"),be=new b.OlP("@ngrx/store Initial Reducers"),je=new b.OlP("@ngrx/store Internal Initial Reducers"),Se=new b.OlP("@ngrx/store Store Features"),pt=new b.OlP("@ngrx/store Internal Store Reducers"),Et=new b.OlP("@ngrx/store Internal Feature Reducers"),Qt=new b.OlP("@ngrx/store Internal Feature Configs"),Tt=new b.OlP("@ngrx/store Internal Store Features"),Ct=new b.OlP("@ngrx/store Internal Feature Reducers Token"),Ft=new b.OlP("@ngrx/store Feature Reducers"),Gt=new b.OlP("@ngrx/store User Provided Meta Reducers"),Sn=new b.OlP("@ngrx/store Meta Reducers"),dn=new b.OlP("@ngrx/store Internal Resolved Meta Reducers"),In=new b.OlP("@ngrx/store User Runtime Checks Config"),Yn=new b.OlP("@ngrx/store Internal User Runtime Checks Config"),fn=new b.OlP("@ngrx/store Internal Runtime Checks"),en=new b.OlP("@ngrx/store Check if Action types are unique");function mn(oe,Ae={}){const Ee=Object.keys(oe),Le={};for(let nt=0;nt<Ee.length;nt++){const ct=Ee[nt];"function"==typeof oe[ct]&&(Le[ct]=oe[ct])}const et=Object.keys(Le);return function(ct,gt){ct=void 0===ct?Ae:ct;let Vt=!1;const Dn={};for(let hn=0;hn<et.length;hn++){const un=et[hn],Kr=ct[un],$n=(0,Le[un])(Kr,gt);Dn[un]=$n,Vt=Vt||$n!==Kr}return Vt?Dn:ct}}function Ur(...oe){return function(Ae){if(0===oe.length)return Ae;const Ee=oe[oe.length-1];return oe.slice(0,-1).reduceRight((et,nt)=>nt(et),Ee(Ae))}}function ar(oe,Ae){return Array.isArray(Ae)&&Ae.length>0&&(oe=Ur.apply(null,[...Ae,oe])),(Ee,Le)=>{const et=oe(Ee);return(nt,ct)=>et(nt=void 0===nt?Le:nt,ct)}}class qn extends fe.y{}class Wr extends Fe{}const Qr="@ngrx/store/update-reducers";let yt=(()=>{class oe extends I.X{constructor(Ee,Le,et,nt){super(nt(et,Le)),this.dispatcher=Ee,this.initialState=Le,this.reducers=et,this.reducerFactory=nt}get currentReducers(){return this.reducers}addFeature(Ee){this.addFeatures([Ee])}addFeatures(Ee){const Le=Ee.reduce((et,{reducers:nt,reducerFactory:ct,metaReducers:gt,initialState:Vt,key:Dn})=>{const hn="function"==typeof nt?function(oe){const Ae=Array.isArray(oe)&&oe.length>0?Ur(...oe):Ee=>Ee;return(Ee,Le)=>(Ee=Ae(Ee),(et,nt)=>Ee(et=void 0===et?Le:et,nt))}(gt)(nt,Vt):ar(ct,gt)(nt,Vt);return et[Dn]=hn,et},{});this.addReducers(Le)}removeFeature(Ee){this.removeFeatures([Ee])}removeFeatures(Ee){this.removeReducers(Ee.map(Le=>Le.key))}addReducer(Ee,Le){this.addReducers({[Ee]:Le})}addReducers(Ee){this.reducers=Object.assign(Object.assign({},this.reducers),Ee),this.updateReducers(Object.keys(Ee))}removeReducer(Ee){this.removeReducers([Ee])}removeReducers(Ee){Ee.forEach(Le=>{this.reducers=function(oe,Ae){return Object.keys(oe).filter(Ee=>Ee!==Ae).reduce((Ee,Le)=>Object.assign(Ee,{[Le]:oe[Le]}),{})}(this.reducers,Le)}),this.updateReducers(Ee)}updateReducers(Ee){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Qr,features:Ee})}ngOnDestroy(){this.complete()}}return oe.\u0275fac=function(Ee){return new(Ee||oe)(b.LFG(Wr),b.LFG(ke),b.LFG(be),b.LFG(Ue))},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Kn=[yt,{provide:qn,useExisting:yt},{provide:Wr,useExisting:Fe}];let mr=(()=>{class oe extends F.xQ{ngOnDestroy(){this.complete()}}return oe.\u0275fac=function(){let Ae;return function(Le){return(Ae||(Ae=b.n5z(oe)))(Le||oe)}}(),oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Sr=[mr];class wt extends fe.y{}let bt=(()=>{class oe extends I.X{constructor(Ee,Le,et,nt){super(nt);const Dn=Ee.pipe((0,se.QV)(re.N)).pipe((0,Ce.M)(Le)).pipe((0,We.R)(nn,{state:nt}));this.stateSubscription=Dn.subscribe(({state:hn,action:un})=>{this.next(hn),et.next(un)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return oe.\u0275fac=function(Ee){return new(Ee||oe)(b.LFG(Fe),b.LFG(qn),b.LFG(mr),b.LFG(ke))},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac}),oe.INIT=st,oe})();function nn(oe={state:void 0},[Ae,Ee]){const{state:Le}=oe;return{state:Ee(Le,Ae),action:Ae}}const tn=[bt,{provide:wt,useExisting:bt}];let _r=(()=>{class oe extends fe.y{constructor(Ee,Le,et){super(),this.actionsObserver=Le,this.reducerManager=et,this.source=Ee}select(Ee,...Le){return lt.call(null,Ee,...Le)(this)}lift(Ee){const Le=new oe(this,this.actionsObserver,this.reducerManager);return Le.operator=Ee,Le}dispatch(Ee){this.actionsObserver.next(Ee)}next(Ee){this.actionsObserver.next(Ee)}error(Ee){this.actionsObserver.error(Ee)}complete(){this.actionsObserver.complete()}addReducer(Ee,Le){this.reducerManager.addReducer(Ee,Le)}removeReducer(Ee){this.reducerManager.removeReducer(Ee)}}return oe.\u0275fac=function(Ee){return new(Ee||oe)(b.LFG(wt),b.LFG(Fe),b.LFG(yt))},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const rn=[_r];function lt(oe,Ae,...Ee){return function(et){let nt;if("string"==typeof oe){const ct=[Ae,...Ee].filter(Boolean);nt=et.pipe(function(...oe){const Ae=oe.length;if(0===Ae)throw new Error("list of properties cannot be empty.");return Ee=>(0,Z.U)(function(oe,Ae){return Le=>{let et=Le;for(let nt=0;nt<Ae;nt++){const ct=null!=et?et[oe[nt]]:void 0;if(void 0===ct)return;et=ct}return et}}(oe,Ae))(Ee)}(oe,...ct))}else{if("function"!=typeof oe)throw new TypeError(`Unexpected type '${typeof oe}' in select operator, expected 'string' or 'function'`);nt=et.pipe((0,Z.U)(ct=>oe(ct,Ae)))}return nt.pipe(Ee=>Ee.lift(new J(void 0,void 0)))}}const Kt="https://ngrx.io/guide/store/configuration/runtime-checks";function ci(oe){return void 0===oe}function Mn(oe){return null===oe}function vn(oe){return Array.isArray(oe)}function ce(oe){return"object"==typeof oe&&null!==oe}function xe(oe){return"function"==typeof oe}function lr(oe){Object.freeze(oe);const Ae=xe(oe);return Object.getOwnPropertyNames(oe).forEach(Ee=>{if(!Ee.startsWith("\u0275")&&function(oe,Ae){return Object.prototype.hasOwnProperty.call(oe,Ae)}(oe,Ee)&&(!Ae||"caller"!==Ee&&"callee"!==Ee&&"arguments"!==Ee)){const Le=oe[Ee];(ce(Le)||xe(Le))&&!Object.isFrozen(Le)&&lr(Le)}}),oe}function ji(oe,Ae=[]){return(ci(oe)||Mn(oe))&&0===Ae.length?{path:["root"],value:oe}:Object.keys(oe).reduce((Le,et)=>{if(Le)return Le;const nt=oe[et];return function(oe){return xe(oe)&&oe.hasOwnProperty("\u0275cmp")}(nt)?Le:!(ci(nt)||Mn(nt)||function(oe){return"number"==typeof oe}(nt)||function(oe){return"boolean"==typeof oe}(nt)||function(oe){return"string"==typeof oe}(nt)||vn(nt))&&(function(oe){if(!function(oe){return ce(oe)&&!vn(oe)}(oe))return!1;const Ae=Object.getPrototypeOf(oe);return Ae===Object.prototype||null===Ae}(nt)?ji(nt,[...Ae,et]):{path:[...Ae,et],value:nt})},!1)}function tr(oe,Ae){if(!1===oe)return;const Ee=oe.path.join("."),Le=new Error(`Detected unserializable ${Ae} at "${Ee}". ${Kt}#strict${Ae}serializability`);throw Le.value=oe.value,Le.unserializablePath=Ee,Le}function Ot(oe){return(0,b.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},oe):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wn({strictActionSerializability:oe,strictStateSerializability:Ae}){return Ee=>oe||Ae?function(oe,Ae){return function(Ee,Le){Ae.action(Le)&&tr(ji(Le),"action");const et=oe(Ee,Le);return Ae.state()&&tr(ji(et),"state"),et}}(Ee,{action:Le=>oe&&!jr(Le),state:()=>Ae}):Ee}function nr({strictActionImmutability:oe,strictStateImmutability:Ae}){return Ee=>oe||Ae?function(oe,Ae){return function(Ee,Le){const et=Ae.action(Le)?lr(Le):Le,nt=oe(Ee,et);return Ae.state()?lr(nt):nt}}(Ee,{action:Le=>oe&&!jr(Le),state:()=>Ae}):Ee}function jr(oe){return oe.type.startsWith("@ngrx")}function Bn({strictActionWithinNgZone:oe}){return Ae=>oe?function(oe,Ae){return function(Ee,Le){if(Ae.action(Le)&&!b.R0b.isInAngularZone())throw new Error(`Action '${Le.type}' running outside NgZone. ${Kt}#strictactionwithinngzone`);return oe(Ee,Le)}}(Ae,{action:Ee=>oe&&!jr(Ee)}):Ae}function di(oe){return[{provide:Yn,useValue:oe},{provide:In,useFactory:xr,deps:[Yn]},{provide:fn,deps:[In],useFactory:Ot},{provide:Sn,multi:!0,deps:[fn],useFactory:nr},{provide:Sn,multi:!0,deps:[fn],useFactory:wn},{provide:Sn,multi:!0,deps:[fn],useFactory:Bn}]}function Hn(){return[{provide:en,multi:!0,deps:[fn],useFactory:fi}]}function xr(oe){return oe}function fi(oe){if(!oe.strictActionTypeUniqueness)return;const Ae=Object.entries(Me).filter(([,Ee])=>Ee>1).map(([Ee])=>Ee);if(Ae.length)throw new Error(`Action types are registered more than once, ${Ae.map(Ee=>`"${Ee}"`).join(", ")}. ${Kt}#strictactiontypeuniqueness`)}let kt=(()=>{class oe{constructor(Ee,Le,et,nt,ct,gt){}}return oe.\u0275fac=function(Ee){return new(Ee||oe)(b.LFG(Fe),b.LFG(qn),b.LFG(mr),b.LFG(_r),b.LFG(xt,8),b.LFG(en,8))},oe.\u0275mod=b.oAB({type:oe}),oe.\u0275inj=b.cJS({}),oe})(),Un=(()=>{class oe{constructor(Ee,Le,et,nt,ct){this.features=Ee,this.featureReducers=Le,this.reducerManager=et;const gt=Ee.map((Vt,Dn)=>{const un=Le.shift()[Dn];return Object.assign(Object.assign({},Vt),{reducers:un,initialState:ir(Vt.initialState)})});et.addFeatures(gt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return oe.\u0275fac=function(Ee){return new(Ee||oe)(b.LFG(Tt),b.LFG(Ft),b.LFG(yt),b.LFG(kt),b.LFG(en,8))},oe.\u0275mod=b.oAB({type:oe}),oe.\u0275inj=b.cJS({}),oe})(),Xr=(()=>{class oe{static forRoot(Ee,Le={}){return{ngModule:kt,providers:[{provide:xt,useFactory:Wt,deps:[[_r,new b.FiY,new b.tp0]]},{provide:Rt,useValue:Le.initialState},{provide:ke,useFactory:ir,deps:[Rt]},{provide:je,useValue:Ee},{provide:pt,useExisting:Ee instanceof b.OlP?Ee:je},{provide:be,deps:[b.zs3,je,[new b.tBr(pt)]],useFactory:Br},{provide:Gt,useValue:Le.metaReducers?Le.metaReducers:[]},{provide:dn,deps:[Sn,Gt],useFactory:Nr},{provide:we,useValue:Le.reducerFactory?Le.reducerFactory:mn},{provide:Ue,deps:[we,dn],useFactory:ar},Zt,Kn,Sr,tn,rn,di(Le.runtimeChecks),Hn()]}}static forFeature(Ee,Le,et={}){return{ngModule:Un,providers:[{provide:Qt,multi:!0,useValue:Ee instanceof Object?{}:et},{provide:Se,multi:!0,useValue:{key:Ee instanceof Object?Ee.name:Ee,reducerFactory:et instanceof b.OlP||!et.reducerFactory?mn:et.reducerFactory,metaReducers:et instanceof b.OlP||!et.metaReducers?[]:et.metaReducers,initialState:et instanceof b.OlP||!et.initialState?void 0:et.initialState}},{provide:Tt,deps:[b.zs3,Qt,Se],useFactory:dr},{provide:Et,multi:!0,useValue:Ee instanceof Object?Ee.reducer:Le},{provide:Ct,multi:!0,useExisting:Le instanceof b.OlP?Le:Et},{provide:Ft,multi:!0,deps:[b.zs3,Et,[new b.tBr(Ct)]],useFactory:rr},Hn()]}}}return oe.\u0275fac=function(Ee){return new(Ee||oe)},oe.\u0275mod=b.oAB({type:oe}),oe.\u0275inj=b.cJS({}),oe})();function Br(oe,Ae){return Ae instanceof b.OlP?oe.get(Ae):Ae}function dr(oe,Ae,Ee){return Ee.map((Le,et)=>{if(Ae[et]instanceof b.OlP){const nt=oe.get(Ae[et]);return{key:Le.key,reducerFactory:nt.reducerFactory?nt.reducerFactory:mn,metaReducers:nt.metaReducers?nt.metaReducers:[],initialState:nt.initialState}}return Le})}function rr(oe,Ae){return Ae.map(Le=>Le instanceof b.OlP?oe.get(Le):Le)}function ir(oe){return"function"==typeof oe?oe():oe}function Nr(oe,Ae){return oe.concat(Ae)}function Wt(oe){if(oe)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function vt(...oe){return{reducer:oe.pop(),types:oe.map(Le=>Le.type)}}function Ut(oe,...Ae){const Ee=new Map;for(const Le of Ae)for(const et of Le.types){const nt=Ee.get(et);Ee.set(et,nt?(gt,Vt)=>Le.reducer(nt(gt,Vt),Vt):Le.reducer)}return function(Le=oe,et){const nt=Ee.get(et.type);return nt?nt(Le,et):Le}}},2329:(_e,ne,M)=>{"use strict";M.d(ne,{ZF:()=>b.initializeApp});var b=M(5452);(0,b.registerVersion)("firebase","9.0.1","app")},7985:(_e,ne,M)=>{"use strict";M.d(ne,{Xb:()=>b.a4,v0:()=>b.n,wU:()=>b.ah,Aj:()=>b.t,e5:()=>b.a5,w7:()=>b.x});var b=M(5676);M(4685),M(5452),M(300),M(6034)},7841:(_e,ne,M)=>{"use strict";M.d(ne,{Z:()=>b.Z});var b=M(4486);b.Z.registerVersion("firebase","9.0.1","app-compat")},7178:(_e,ne,M)=>{"use strict";M.d(ne,{N8:()=>b.N8,jM:()=>b.jM,iH:()=>b.iH,t8:()=>b.t8});var b=M(407)},8725:(_e,ne,M)=>{"use strict";M.d(ne,{Jt:()=>$i,cF:()=>ma,iH:()=>bi,KV:()=>Cs});var b=M(8239),I=M(5452),fe=M(4685),F=M(6034),re=(()=>{return(H=re||(re={}))[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT",re;var H})();const Z="firebasestorage.googleapis.com",ee="storageBucket";class U extends fe.ZR{constructor(L,te){super(J(L),`Firebase Storage: ${te} (${J(L)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,U.prototype)}_codeEquals(L){return J(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function J(H){return"storage/"+H}function B(){return new U("unknown","An unknown error occurred, please check the error payload for server response.")}function xt(){return new U("no-download-url","The given file does not have any download URLs.")}function Rt(H){return new U("invalid-argument",H)}function ke(){return new U("app-deleted","The Firebase app was deleted.")}function we(H,L){return new U("invalid-format","String does not match format '"+H+"': "+L)}function be(H){throw new U("internal-error","Internal error: "+H)}class je{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=re.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=re.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=re.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,te,ge,De){if(this.sent_)throw be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(te,L,!0),void 0!==De)for(const Ye in De)De.hasOwnProperty(Ye)&&this.xhr_.setRequestHeader(Ye,De[Ye].toString());return void 0!==ge?this.xhr_.send(ge):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw be("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw be("cannot .getStatus() before sending");try{return this.xhr_.status}catch(L){return-1}}getResponseText(){if(!this.sent_)throw be("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}class pt{createConnection(){return new je}}class Et{constructor(L,te){this.bucket=L,this.path_=te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,te){let ge;try{ge=Et.makeFromUrl(L,te)}catch(De){return new Et(L,"")}if(""===ge.path)return ge;throw new U("invalid-default-bucket","Invalid default bucket '"+L+"'.")}static makeFromUrl(L,te){let ge=null;const De="([A-Za-z0-9.\\-_]+)",jt=new RegExp("^gs://"+De+"(/(.*))?$","i");function zt($){$.path_=decodeURIComponent($.path)}const Ht=te.replace(/[.]/g,"\\."),S=[{regex:jt,indices:{bucket:1,path:3},postModify:function($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ht}/v[A-Za-z0-9_]+/b/${De}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:zt},{regex:new RegExp(`^https?://${te===Z?"(?:storage.googleapis.com|storage.cloud.google.com)":te}/${De}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:zt}];for(let $=0;$<S.length;$++){const ue=S[$],Be=ue.regex.exec(L);if(Be){let _t=Be[ue.indices.path];_t||(_t=""),ge=new Et(Be[ue.indices.bucket],_t),ue.postModify(ge);break}}if(null==ge)throw new U("invalid-url","Invalid URL '"+L+"'.");return ge}}class Qt{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function dn(H){return"string"==typeof H||H instanceof String}function In(H){return Yn()&&H instanceof Blob}function Yn(){return"undefined"!=typeof Blob}function fn(H,L,te,ge){if(ge<L)throw Rt(`Invalid value for '${H}'. Expected ${L} or greater.`);if(ge>te)throw Rt(`Invalid value for '${H}'. Expected ${te} or less.`)}function en(H,L){const te=L.match(/^(\w+):\/\/.+/);let De=L;return null==(null==te?void 0:te[1])&&(De=`https://${L}`),`${De}/v0${H}`}function mn(H){const L=encodeURIComponent;let te="?";for(const ge in H)H.hasOwnProperty(ge)&&(te=te+(L(ge)+"=")+L(H[ge])+"&");return te=te.slice(0,-1),te}class Xn{constructor(L,te,ge,De,Ye,ot,jt,ht,zt,Yt,Ht){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=L,this.method_=te,this.headers_=ge,this.body_=De,this.successCodes_=Ye.slice(),this.additionalRetryCodes_=ot.slice(),this.callback_=jt,this.errorCallback_=ht,this.progressCallback_=Yt,this.timeout_=zt,this.pool_=Ht,this.promise_=new Promise((yr,Wn)=>{this.resolve_=yr,this.reject_=Wn,this.start_()})}start_(){const L=this;function ge(De,Ye){const ot=L.resolve_,jt=L.reject_,ht=Ye.connection;if(Ye.wasSuccessCode)try{const zt=L.callback_(ht,ht.getResponseText());void 0!==zt?ot(zt):ot()}catch(zt){jt(zt)}else if(null!==ht){const zt=B();zt.serverResponse=ht.getResponseText(),jt(L.errorCallback_?L.errorCallback_(ht,zt):zt)}else jt(Ye.canceled?L.appDelete_?ke():new U("canceled","User canceled the upload/download."):new U("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?ge(0,new Ur(!1,null,!0)):this.backoffId_=function(H,L,te){let ge=1,De=null,Ye=!1,ot=0;function jt(){return 2===ot}let ht=!1;function zt(...xn){ht||(ht=!0,L.apply(null,xn))}function Yt(xn){De=setTimeout(()=>{De=null,H(Ht,jt())},xn)}function Ht(xn,...vr){if(ht)return;if(xn)return void zt.call(null,xn,...vr);if(jt()||Ye)return void zt.call(null,xn,...vr);let R;ge<64&&(ge*=2),1===ot?(ot=2,R=0):R=1e3*(ge+Math.random()),Yt(R)}let yr=!1;function Wn(xn){yr||(yr=!0,!ht&&(null!==De?(xn||(ot=2),clearTimeout(De),Yt(0)):xn||(ot=1)))}return Yt(0),setTimeout(()=>{Ye=!0,Wn(!0)},te),Wn}(function(De,Ye){if(Ye)return void De(!1,new Ur(!1,null,!0));const ot=L.pool_.createConnection();function jt(ht){null!==L.progressCallback_&&L.progressCallback_(ht.loaded,ht.lengthComputable?ht.total:-1)}L.pendingConnection_=ot,null!==L.progressCallback_&&ot.addUploadProgressListener(jt),ot.send(L.url_,L.method_,L.body_,L.headers_).then(()=>{null!==L.progressCallback_&&ot.removeUploadProgressListener(jt),L.pendingConnection_=null;const ht=ot.getErrorCode()===re.NO_ERROR,zt=ot.getStatus();if(!ht||L.isRetryStatusCode_(zt)){const Ht=ot.getErrorCode()===re.ABORT;return void De(!1,new Ur(!1,null,Ht))}const Yt=-1!==L.successCodes_.indexOf(zt);De(!0,new Ur(Yt,ot))})},ge,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(L){const te=L>=500&&L<600,De=-1!==[408,429].indexOf(L),Ye=-1!==this.additionalRetryCodes_.indexOf(L);return te||De||Ye}}class Ur{constructor(L,te,ge){this.wasSuccessCode=L,this.connection=te,this.canceled=!!ge}}function Kn(...H){const L="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==L){const te=new L;for(let ge=0;ge<H.length;ge++)te.append(H[ge]);return te.getBlob()}if(Yn())return new Blob(H);throw new U("unsupported-environment","This browser doesn't seem to support creating Blobs")}class bt{constructor(L,te){this.data=L,this.contentType=te||null}}function tn(H){const L=[];for(let te=0;te<H.length;te++){let ge=H.charCodeAt(te);ge<=127?L.push(ge):ge<=2047?L.push(192|ge>>6,128|63&ge):55296==(64512&ge)?te<H.length-1&&56320==(64512&H.charCodeAt(te+1))?(ge=65536|(1023&ge)<<10|1023&H.charCodeAt(++te),L.push(240|ge>>18,128|ge>>12&63,128|ge>>6&63,128|63&ge)):L.push(239,191,189):56320==(64512&ge)?L.push(239,191,189):L.push(224|ge>>12,128|ge>>6&63,128|63&ge)}return new Uint8Array(L)}function rn(H,L){switch(H){case"base64":{const De=-1!==L.indexOf("-"),Ye=-1!==L.indexOf("_");if(De||Ye)throw we(H,"Invalid character '"+(De?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const De=-1!==L.indexOf("+"),Ye=-1!==L.indexOf("/");if(De||Ye)throw we(H,"Invalid character '"+(De?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let te;try{te=function(H){return atob(H)}(L)}catch(De){throw we(H,"Invalid character found")}const ge=new Uint8Array(te.length);for(let De=0;De<te.length;De++)ge[De]=te.charCodeAt(De);return ge}class lt{constructor(L){this.base64=!1,this.contentType=null;const te=L.match(/^data:([^,]+)?,/);if(null===te)throw we("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const ge=te[1]||null;null!=ge&&(this.base64=function(H,L){return H.length>=L.length&&H.substring(H.length-L.length)===L}(ge,";base64"),this.contentType=this.base64?ge.substring(0,ge.length-";base64".length):ge),this.rest=L.substring(L.indexOf(",")+1)}}class Mn{constructor(L,te){let ge=0,De="";In(L)?(this.data_=L,ge=L.size,De=L.type):L instanceof ArrayBuffer?(te?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),ge=this.data_.length):L instanceof Uint8Array&&(te?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),ge=L.length),this.size_=ge,this.type_=De}size(){return this.size_}type(){return this.type_}slice(L,te){if(In(this.data_)){const De=function(H,L,te){return H.webkitSlice?H.webkitSlice(L,te):H.mozSlice?H.mozSlice(L,te):H.slice?H.slice(L,te):null}(this.data_,L,te);return null===De?null:new Mn(De)}{const ge=new Uint8Array(this.data_.buffer,L,te-L);return new Mn(ge,!0)}}static getBlob(...L){if(Yn()){const te=L.map(ge=>ge instanceof Mn?ge.data_:ge);return new Mn(Kn.apply(null,te))}{const te=L.map(ot=>dn(ot)?function(H,L){switch(H){case"raw":return new bt(tn(L));case"base64":case"base64url":return new bt(rn(H,L));case"data_url":return new bt(function(H){const L=new lt(H);return L.base64?rn("base64",L.rest):function(H){let L;try{L=decodeURIComponent(H)}catch(te){throw we("data_url","Malformed data URL.")}return tn(L)}(L.rest)}(L),function(H){return new lt(H).contentType}(L))}throw B()}("raw",ot).data:ot.data_);let ge=0;te.forEach(ot=>{ge+=ot.byteLength});const De=new Uint8Array(ge);let Ye=0;return te.forEach(ot=>{for(let jt=0;jt<ot.length;jt++)De[Ye++]=ot[jt]}),new Mn(De,!0)}}uploadData(){return this.data_}}function vn(H){let L;try{L=JSON.parse(H)}catch(te){return null}return function(H){return"object"==typeof H&&!Array.isArray(H)}(L)?L:null}function kn(H){const L=H.lastIndexOf("/",H.length-2);return-1===L?H:H.slice(L+1)}function ce(H,L){return L}class ie{constructor(L,te,ge,De){this.server=L,this.local=te||L,this.writable=!!ge,this.xform=De||ce}}let Te=null;function Ie(){if(Te)return Te;const H=[];H.push(new ie("bucket")),H.push(new ie("generation")),H.push(new ie("metageneration")),H.push(new ie("name","fullPath",!0));const te=new ie("name");te.xform=function(Ye,ot){return function(H){return!dn(H)||H.length<2?H:kn(H)}(ot)},H.push(te);const De=new ie("size");return De.xform=function(Ye,ot){return void 0!==ot?Number(ot):ot},H.push(De),H.push(new ie("timeCreated")),H.push(new ie("updated")),H.push(new ie("md5Hash",null,!0)),H.push(new ie("cacheControl",null,!0)),H.push(new ie("contentDisposition",null,!0)),H.push(new ie("contentEncoding",null,!0)),H.push(new ie("contentLanguage",null,!0)),H.push(new ie("contentType",null,!0)),H.push(new ie("metadata","customMetadata",!0)),Te=H,Te}function Nt(H,L,te){const ge=vn(L);return null===ge?null:function(H,L,te){const ge={type:"file"},De=te.length;for(let Ye=0;Ye<De;Ye++){const ot=te[Ye];ge[ot.local]=ot.xform(ge,L[ot.server])}return function(H,L){Object.defineProperty(H,"ref",{get:function(){const Ye=new Et(H.bucket,H.fullPath);return L._makeStorageReference(Ye)}})}(ge,H),ge}(H,ge,te)}class Mr{constructor(L,te,ge,De){this.url=L,this.method=te,this.handler=ge,this.timeout=De,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vr(H){if(!H)throw B()}function It(H){return function(te,ge){let De;return De=401===te.getStatus()?te.getResponseText().includes("Firebase App Check token is invalid")?new U("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new U("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===te.getStatus()?function(H){return new U("quota-exceeded","Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===te.getStatus()?function(H){return new U("unauthorized","User does not have permission to access '"+H+"'.")}(H.path):ge,De.serverResponse=ge.serverResponse,De}}function ji(H,L,te){const De=en(L.fullServerUrl(),H.host),ot=H.maxOperationRetryTime,jt=new Mr(De,"GET",function(H,L){return function(ge,De){const Ye=Nt(H,De,L);return Vr(null!==Ye),function(H,L,te){const ge=vn(L);if(null===ge||!dn(ge.downloadTokens))return null;const De=ge.downloadTokens;if(0===De.length)return null;const Ye=encodeURIComponent;return De.split(",").map(ht=>{const Yt=H.fullPath;return en("/b/"+Ye(H.bucket)+"/o/"+Ye(Yt),te)+mn({alt:"media",token:ht})})[0]}(Ye,De,H.host)}}(H,te),ot);return jt.errorHandler=function(H){const L=It(H);return function(ge,De){let Ye=L(ge,De);return 404===ge.getStatus()&&(Ye=function(H){return new U("object-not-found","Object '"+H+"' does not exist.")}(H.path)),Ye.serverResponse=De.serverResponse,Ye}}(L),jt}function nr(H,L,te,ge,De){const Ye=L.bucketOnlyServerUrl(),ot={"X-Goog-Upload-Protocol":"multipart"},ht=function(){let S="";for(let $=0;$<2;$++)S+=Math.random().toString().slice(2);return S}();ot["Content-Type"]="multipart/related; boundary="+ht;const zt=function(H,L,te){const ge=Object.assign({},te);return ge.fullPath=H.path,ge.size=L.size(),ge.contentType||(ge.contentType=function(H,L){return L&&L.type()||"application/octet-stream"}(0,L)),ge}(L,ge,De),Yt=function(H,L){const te={},ge=L.length;for(let De=0;De<ge;De++){const Ye=L[De];Ye.writable&&(te[Ye.server]=H[Ye.local])}return JSON.stringify(te)}(zt,te),Wn=Mn.getBlob("--"+ht+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Yt+"\r\n--"+ht+"\r\nContent-Type: "+zt.contentType+"\r\n\r\n",ge,"\r\n--"+ht+"--");if(null===Wn)throw new U("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.");const xn={name:zt.fullPath},vr=en(Ye,H.host),R=H.maxUploadRetryTime,j=new Mr(vr,"POST",function(H,L){return function(ge,De){const Ye=Nt(H,De,L);return Vr(null!==Ye),Ye}}(H,te),R);return j.urlParams=xn,j.headers=ot,j.body=Wn.uploadData(),j.errorHandler=It(L),j}class ir{constructor(L,te){this._service=L,this._location=te instanceof Et?te:Et.makeFromUrl(te,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,te){return new ir(L,te)}get root(){const L=new Et(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kn(this._location.path)}get storage(){return this._service}get parent(){const L=function(H){if(0===H.length)return null;const L=H.lastIndexOf("/");return-1===L?"":H.slice(0,L)}(this._location.path);if(null===L)return null;const te=new Et(this._location.bucket,L);return new ir(this._service,te)}_throwIfRoot(L){if(""===this._location.path)throw new U("invalid-root-operation","The operation '"+L+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function Dn(){return(Dn=(0,b.Z)(function*(H){H._throwIfRoot("getDownloadURL");const L=ji(H.storage,H._location,Ie());return(yield H.storage.makeRequestWithTokens(L)).getPromise().then(te=>{if(null===te)throw xt();return te})})).apply(this,arguments)}function ks(H,L){if(H instanceof no){const te=H;if(null==te._bucket)throw new U("no-default-bucket","No default bucket found. Did you set the '"+ee+"' property when initializing the app?");const ge=new ir(te,te._bucket);return null!=L?ks(ge,L):ge}return void 0!==L?function(H,L){const te=function(H,L){const te=L.split("/").filter(ge=>ge.length>0).join("/");return 0===H.length?te:H+"/"+te}(H._location.path,L),ge=new Et(H._location.bucket,te);return new ir(H.storage,ge)}(H,L):H}function Bi(H,L){const te=null==L?void 0:L[ee];return null==te?null:Et.makeFromBucketSpec(te,H)}class no{constructor(L,te,ge,De,Ye,ot){this.app=L,this._authProvider=te,this._appCheckProvider=ge,this._pool=De,this._url=Ye,this._firebaseVersion=ot,this._bucket=null,this._host=Z,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?Et.makeFromBucketSpec(Ye,this._host):Bi(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?Et.makeFromBucketSpec(this._url,L):Bi(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){fn("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){fn("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,b.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const te=L._authProvider.getImmediate({optional:!0});if(te){const ge=yield te.getToken();if(null!==ge)return ge.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,b.Z)(function*(){const te=L._appCheckProvider.getImmediate({optional:!0});return te?(yield te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new ir(this,L)}_makeRequest(L,te,ge){if(this._deleted)return new Qt(ke());{const De=function(H,L,te,ge,De,Ye){const ot=mn(H.urlParams),jt=H.url+ot,ht=Object.assign({},H.headers);return function(H,L){L&&(H["X-Firebase-GMPID"]=L)}(ht,L),function(H,L){null!==L&&L.length>0&&(H.Authorization="Firebase "+L)}(ht,te),function(H,L){H["X-Firebase-Storage-Version"]="webjs/"+(null!=L?L:"AppManager")}(ht,Ye),function(H,L){null!==L&&(H["X-Firebase-AppCheck"]=L)}(ht,ge),new Xn(jt,H.method,ht,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,De)}(L,this._appId,te,ge,this._pool,this._firebaseVersion);return this._requests.add(De),De.getPromise().then(()=>this._requests.delete(De),()=>this._requests.delete(De)),De}}makeRequestWithTokens(L){var te=this;return(0,b.Z)(function*(){const[ge,De]=yield Promise.all([te._getAuthToken(),te._getAppCheckToken()]);return te._makeRequest(L,ge,De)})()}}const Es="storage";function Cs(H,L,te){return function(H,L,te){H._throwIfRoot("uploadBytes");const ge=nr(H.storage,H._location,Ie(),new Mn(L,!0),te);return H.storage.makeRequestWithTokens(ge).then(De=>De.getPromise()).then(De=>({metadata:De,ref:H}))}(H=(0,fe.m9)(H),L,te)}function $i(H){return function(H){return Dn.apply(this,arguments)}(H=(0,fe.m9)(H))}function bi(H,L){return function(H,L){if(L&&function(H){return/^[A-Za-z]+:\/\//.test(H)}(L)){if(H instanceof no)return function(H,L){return new ir(H,L)}(H,L);throw Rt("To use ref(service, url), the first argument must be a Storage instance.")}return ks(H,L)}(H=(0,fe.m9)(H),L)}function ma(H=(0,I.getApp)(),L){return H=(0,fe.m9)(H),(0,I._getProvider)(H,Es).getImmediate({identifier:L})}(0,I._registerComponent)(new F.wA(Es,function(H,{instanceIdentifier:L}){const te=H.getProvider("app").getImmediate(),ge=H.getProvider("auth-internal"),De=H.getProvider("app-check-internal");return new no(te,ge,De,new pt,L,I.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)("@firebase/storage","0.8.1")},6215:(_e,ne,M)=>{"use strict";M.d(ne,{X:()=>fe});var b=M(9765),I=M(7971);class fe extends b.xQ{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const Z=super._subscribe(re);return Z&&!Z.closed&&re.next(this._value),Z}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I.N;return this._value}next(re){super.next(this._value=re)}}},3098:(_e,ne,M)=>{"use strict";M.d(ne,{P:()=>re});var b=M(9193),I=M(5917),fe=M(205);class re{constructor(ee,G,Y){this.kind=ee,this.value=G,this.error=Y,this.hasValue="N"===ee}observe(ee){switch(this.kind){case"N":return ee.next&&ee.next(this.value);case"E":return ee.error&&ee.error(this.error);case"C":return ee.complete&&ee.complete()}}do(ee,G,Y){switch(this.kind){case"N":return ee&&ee(this.value);case"E":return G&&G(this.error);case"C":return Y&&Y()}}accept(ee,G,Y){return ee&&"function"==typeof ee.next?this.observe(ee):this.do(ee,G,Y)}toObservable(){switch(this.kind){case"N":return(0,I.of)(this.value);case"E":return(0,fe._)(this.error);case"C":return(0,b.c)()}throw new Error("unexpected notification kind value")}static createNext(ee){return void 0!==ee?new re("N",ee):re.undefinedValueNotification}static createError(ee){return new re("E",void 0,ee)}static createComplete(){return re.completeNotification}}re.completeNotification=new re("C"),re.undefinedValueNotification=new re("N",void 0)},8891:(_e,ne,M)=>{"use strict";M.d(ne,{y:()=>Y});var b=M(7393),fe=M(9181),F=M(6490),Z=M(6554),ee=M(4022),G=M(2494);let Y=(()=>{class J{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const Ce=new J;return Ce.source=this,Ce.operator=se,Ce}subscribe(se,Ce,We){const{operator:Me}=this,ze=function(J,B,se){if(J){if(J instanceof b.L)return J;if(J[fe.b])return J[fe.b]()}return J||B||se?new b.L(J,B,se):new b.L(F.c)}(se,Ce,We);if(ze.add(Me?Me.call(ze,this.source):this.source||G.v.useDeprecatedSynchronousErrorHandling&&!ze.syncErrorThrowable?this._subscribe(ze):this._trySubscribe(ze)),G.v.useDeprecatedSynchronousErrorHandling&&ze.syncErrorThrowable&&(ze.syncErrorThrowable=!1,ze.syncErrorThrown))throw ze.syncErrorValue;return ze}_trySubscribe(se){try{return this._subscribe(se)}catch(Ce){G.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=Ce),function(J){for(;J;){const{closed:B,destination:se,isStopped:Ce}=J;if(B||Ce)return!1;J=se&&se instanceof b.L?se:null}return!0}(se)?se.error(Ce):console.warn(Ce)}}forEach(se,Ce){return new(Ce=U(Ce))((We,Me)=>{let ze;ze=this.subscribe(Re=>{try{se(Re)}catch(Ke){Me(Ke),ze&&ze.unsubscribe()}},Me,We)})}_subscribe(se){const{source:Ce}=this;return Ce&&Ce.subscribe(se)}[Z.L](){return this}pipe(...se){return 0===se.length?this:(0,ee.U)(se)(this)}toPromise(se){return new(se=U(se))((Ce,We)=>{let Me;this.subscribe(ze=>Me=ze,ze=>We(ze),()=>Ce(Me))})}}return J.create=B=>new J(B),J})();function U(J){if(J||(J=G.v.Promise||Promise),!J)throw new Error("no Promise impl found");return J}},6490:(_e,ne,M)=>{"use strict";M.d(ne,{c:()=>fe});var b=M(2494),I=M(4449);const fe={closed:!0,next(F){},error(F){if(b.v.useDeprecatedSynchronousErrorHandling)throw F;(0,I.z)(F)},complete(){}}},5197:(_e,ne,M)=>{"use strict";M.d(ne,{L:()=>I});var b=M(7393);class I extends b.L{notifyNext(F,re,Z,ee,G){this.destination.next(re)}notifyError(F,re){this.destination.error(F)}notifyComplete(F){this.destination.complete()}}},8229:(_e,ne,M)=>{"use strict";M.d(ne,{t:()=>ee});var b=M(9765),I=M(7771),fe=M(5319),F=M(9746),re=M(7971),Z=M(8858);class ee extends b.xQ{constructor(U=Number.POSITIVE_INFINITY,J=Number.POSITIVE_INFINITY,B){super(),this.scheduler=B,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=U<1?1:U,this._windowTime=J<1?1:J,J===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(U){if(!this.isStopped){const J=this._events;J.push(U),J.length>this._bufferSize&&J.shift()}super.next(U)}nextTimeWindow(U){this.isStopped||(this._events.push(new G(this._getNow(),U)),this._trimBufferThenGetEvents()),super.next(U)}_subscribe(U){const J=this._infiniteTimeWindow,B=J?this._events:this._trimBufferThenGetEvents(),se=this.scheduler,Ce=B.length;let We;if(this.closed)throw new re.N;if(this.isStopped||this.hasError?We=fe.w.EMPTY:(this.observers.push(U),We=new Z.W(this,U)),se&&U.add(U=new F.ht(U,se)),J)for(let Me=0;Me<Ce&&!U.closed;Me++)U.next(B[Me]);else for(let Me=0;Me<Ce&&!U.closed;Me++)U.next(B[Me].value);return this.hasError?U.error(this.thrownError):this.isStopped&&U.complete(),We}_getNow(){return(this.scheduler||I.c).now()}_trimBufferThenGetEvents(){const U=this._getNow(),J=this._bufferSize,B=this._windowTime,se=this._events,Ce=se.length;let We=0;for(;We<Ce&&!(U-se[We].time<B);)We++;return Ce>J&&(We=Math.max(We,Ce-J)),We>0&&se.splice(0,We),se}}class G{constructor(U,J){this.time=U,this.value=J}}},9765:(_e,ne,M)=>{"use strict";M.d(ne,{Yc:()=>ee,xQ:()=>G});var b=M(8891),I=M(7393),fe=M(5319),F=M(7971),re=M(8858),Z=M(9181);class ee extends I.L{constructor(J){super(J),this.destination=J}}let G=(()=>{class U extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z.b](){return new ee(this)}lift(B){const se=new Y(this,this);return se.operator=B,se}next(B){if(this.closed)throw new F.N;if(!this.isStopped){const{observers:se}=this,Ce=se.length,We=se.slice();for(let Me=0;Me<Ce;Me++)We[Me].next(B)}}error(B){if(this.closed)throw new F.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:se}=this,Ce=se.length,We=se.slice();for(let Me=0;Me<Ce;Me++)We[Me].error(B);this.observers.length=0}complete(){if(this.closed)throw new F.N;this.isStopped=!0;const{observers:B}=this,se=B.length,Ce=B.slice();for(let We=0;We<se;We++)Ce[We].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new F.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new F.N;return this.hasError?(B.error(this.thrownError),fe.w.EMPTY):this.isStopped?(B.complete(),fe.w.EMPTY):(this.observers.push(B),new re.W(this,B))}asObservable(){const B=new b.y;return B.source=this,B}}return U.create=(J,B)=>new Y(J,B),U})();class Y extends G{constructor(J,B){super(),this.destination=J,this.source=B}next(J){const{destination:B}=this;B&&B.next&&B.next(J)}error(J){const{destination:B}=this;B&&B.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:B}=this;return B?this.source.subscribe(J):fe.w.EMPTY}}},8858:(_e,ne,M)=>{"use strict";M.d(ne,{W:()=>I});var b=M(5319);class I extends b.w{constructor(F,re){super(),this.subject=F,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const F=this.subject,re=F.observers;if(this.subject=null,!re||0===re.length||F.isStopped||F.closed)return;const Z=re.indexOf(this.subscriber);-1!==Z&&re.splice(Z,1)}}},7393:(_e,ne,M)=>{"use strict";M.d(ne,{L:()=>ee});var b=M(9105),I=M(6490),fe=M(5319),F=M(9181),re=M(2494),Z=M(4449);class ee extends fe.w{constructor(U,J,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=I.c;break;case 1:if(!U){this.destination=I.c;break}if("object"==typeof U){U instanceof ee?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new G(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new G(this,U,J,B)}}[F.b](){return this}static create(U,J,B){const se=new ee(U,J,B);return se.syncErrorThrowable=!1,se}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class G extends ee{constructor(U,J,B,se){super(),this._parentSubscriber=U;let Ce,We=this;(0,b.m)(J)?Ce=J:J&&(Ce=J.next,B=J.error,se=J.complete,J!==I.c&&(We=Object.create(J),(0,b.m)(We.unsubscribe)&&this.add(We.unsubscribe.bind(We)),We.unsubscribe=this.unsubscribe.bind(this))),this._context=We,this._next=Ce,this._error=B,this._complete=se}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;re.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:B}=re.v;if(this._error)B&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(J.syncErrorThrowable)B?(J.syncErrorValue=U,J.syncErrorThrown=!0):(0,Z.z)(U),this.unsubscribe();else{if(this.unsubscribe(),B)throw U;(0,Z.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const J=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,J){try{U.call(this._context,J)}catch(B){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw B;(0,Z.z)(B)}}__tryOrSetError(U,J,B){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,B)}catch(se){return re.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=se,U.syncErrorThrown=!0,!0):((0,Z.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(_e,ne,M)=>{"use strict";M.d(ne,{w:()=>Z});var b=M(9796),I=M(1555),fe=M(9105);const re=(()=>{function G(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((U,J)=>`${J+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return G.prototype=Object.create(Error.prototype),G})();class Z{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:J,_unsubscribe:B,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof Z)U.remove(this);else if(null!==U)for(let Ce=0;Ce<U.length;++Ce)U[Ce].remove(this);if((0,fe.m)(B)){J&&(this._unsubscribe=void 0);try{B.call(this)}catch(Ce){Y=Ce instanceof re?ee(Ce.errors):[Ce]}}if((0,b.k)(se)){let Ce=-1,We=se.length;for(;++Ce<We;){const Me=se[Ce];if((0,I.K)(Me))try{Me.unsubscribe()}catch(ze){Y=Y||[],ze instanceof re?Y=Y.concat(ee(ze.errors)):Y.push(ze)}}}if(Y)throw new re(Y)}add(Y){let U=Y;if(!Y)return Z.EMPTY;switch(typeof Y){case"function":U=new Z(Y);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof Z)){const se=U;U=new Z,U._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:J}=U;if(null===J)U._parentOrParents=this;else if(J instanceof Z){if(J===this)return U;U._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return U;J.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[U]:B.push(U),U}remove(Y){const U=this._subscriptions;if(U){const J=U.indexOf(Y);-1!==J&&U.splice(J,1)}}}var G;function ee(G){return G.reduce((Y,U)=>Y.concat(U instanceof re?U.errors:U),[])}Z.EMPTY=((G=new Z).closed=!0,G)},2494:(_e,ne,M)=>{"use strict";M.d(ne,{v:()=>I});let b=!1;const I={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const F=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+F.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=fe},get useDeprecatedSynchronousErrorHandling(){return b}}},5345:(_e,ne,M)=>{"use strict";M.d(ne,{IY:()=>F,Ds:()=>Z,ft:()=>G});var b=M(7393),I=M(8891),fe=M(7444);class F extends b.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Z extends b.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function G(Y,U){if(U.closed)return;if(Y instanceof I.y)return Y.subscribe(U);let J;try{J=(0,fe.s)(Y)(U)}catch(B){U.error(B)}return J}},2441:(_e,ne,M)=>{"use strict";M.d(ne,{c:()=>re,N:()=>Z});var b=M(9765),I=M(8891),fe=M(5319),F=M(1307);class re extends I.y{constructor(J,B){super(),this.source=J,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new fe.w,J.add(this.source.subscribe(new ee(this.getSubject(),this))),J.closed&&(this._connection=null,J=fe.w.EMPTY)),J}refCount(){return(0,F.x)()(this)}}const Z=(()=>{const U=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class ee extends b.Yc{constructor(J,B){super(J),this.connectable=B}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const B=J._connection;J._refCount=0,J._subject=null,J._connection=null,B&&B.unsubscribe()}}}},9193:(_e,ne,M)=>{"use strict";M.d(ne,{E:()=>I,c:()=>fe});var b=M(8891);const I=new b.y(re=>re.complete());function fe(re){return re?function(re){return new b.y(Z=>re.schedule(()=>Z.complete()))}(re):I}},4402:(_e,ne,M)=>{"use strict";M.d(ne,{D:()=>We});var b=M(8891),I=M(7444),fe=M(5319),F=M(6554),ee=M(4087),G=M(377),J=M(4072),B=M(9489);function We(Me,ze){return ze?function(Me,ze){if(null!=Me){if(function(Me){return Me&&"function"==typeof Me[F.L]}(Me))return function(Me,ze){return new b.y(Re=>{const Ke=new fe.w;return Ke.add(ze.schedule(()=>{const Ve=Me[F.L]();Ke.add(Ve.subscribe({next(rt){Ke.add(ze.schedule(()=>Re.next(rt)))},error(rt){Ke.add(ze.schedule(()=>Re.error(rt)))},complete(){Ke.add(ze.schedule(()=>Re.complete()))}}))})),Ke})}(Me,ze);if((0,J.t)(Me))return function(Me,ze){return new b.y(Re=>{const Ke=new fe.w;return Ke.add(ze.schedule(()=>Me.then(Ve=>{Ke.add(ze.schedule(()=>{Re.next(Ve),Ke.add(ze.schedule(()=>Re.complete()))}))},Ve=>{Ke.add(ze.schedule(()=>Re.error(Ve)))}))),Ke})}(Me,ze);if((0,B.z)(Me))return(0,ee.r)(Me,ze);if(function(Me){return Me&&"function"==typeof Me[G.hZ]}(Me)||"string"==typeof Me)return function(Me,ze){if(!Me)throw new Error("Iterable cannot be null");return new b.y(Re=>{const Ke=new fe.w;let Ve;return Ke.add(()=>{Ve&&"function"==typeof Ve.return&&Ve.return()}),Ke.add(ze.schedule(()=>{Ve=Me[G.hZ](),Ke.add(ze.schedule(function(){if(Re.closed)return;let rt,st;try{const Fe=Ve.next();rt=Fe.value,st=Fe.done}catch(Fe){return void Re.error(Fe)}st?Re.complete():(Re.next(rt),this.schedule())}))})),Ke})}(Me,ze)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,ze):Me instanceof b.y?Me:new b.y((0,I.s)(Me))}},6693:(_e,ne,M)=>{"use strict";M.d(ne,{n:()=>F});var b=M(8891),I=M(5015),fe=M(4087);function F(re,Z){return Z?(0,fe.r)(re,Z):new b.y((0,I.V)(re))}},6682:(_e,ne,M)=>{"use strict";M.d(ne,{T:()=>re});var b=M(8891),I=M(4869),fe=M(3282),F=M(6693);function re(...Z){let ee=Number.POSITIVE_INFINITY,G=null,Y=Z[Z.length-1];return(0,I.K)(Y)?(G=Z.pop(),Z.length>1&&"number"==typeof Z[Z.length-1]&&(ee=Z.pop())):"number"==typeof Y&&(ee=Z.pop()),null===G&&1===Z.length&&Z[0]instanceof b.y?Z[0]:(0,fe.J)(ee)((0,F.n)(Z,G))}},5917:(_e,ne,M)=>{"use strict";M.d(ne,{of:()=>F});var b=M(4869),I=M(6693),fe=M(4087);function F(...re){let Z=re[re.length-1];return(0,b.K)(Z)?(re.pop(),(0,fe.r)(re,Z)):(0,I.n)(re)}},205:(_e,ne,M)=>{"use strict";M.d(ne,{_:()=>I});var b=M(8891);function I(F,re){return new b.y(re?Z=>re.schedule(fe,0,{error:F,subscriber:Z}):Z=>Z.error(F))}function fe({error:F,subscriber:re}){re.error(F)}},5304:(_e,ne,M)=>{"use strict";M.d(ne,{K:()=>I});var b=M(5345);function I(re){return function(ee){const G=new fe(re),Y=ee.lift(G);return G.caught=Y}}class fe{constructor(Z){this.selector=Z}call(Z,ee){return ee.subscribe(new F(Z,this.selector,this.caught))}}class F extends b.Ds{constructor(Z,ee,G){super(Z),this.selector=ee,this.caught=G}error(Z){if(!this.isStopped){let ee;try{ee=this.selector(Z,this.caught)}catch(U){return void super.error(U)}this._unsubscribeAndRecycle();const G=new b.IY(this);this.add(G);const Y=(0,b.ft)(ee,G);Y!==G&&this.add(Y)}}}},4612:(_e,ne,M)=>{"use strict";M.d(ne,{b:()=>I});var b=M(9773);function I(fe,F){return(0,b.zg)(fe,F,1)}},4395:(_e,ne,M)=>{"use strict";M.d(ne,{b:()=>fe});var b=M(7393),I=M(3637);function fe(ee,G=I.P){return Y=>Y.lift(new F(ee,G))}class F{constructor(G,Y){this.dueTime=G,this.scheduler=Y}call(G,Y){return Y.subscribe(new re(G,this.dueTime,this.scheduler))}}class re extends b.L{constructor(G,Y,U){super(G),this.dueTime=Y,this.scheduler=U,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(G){this.clearDebounce(),this.lastValue=G,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Z,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:G}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(G)}}clearDebounce(){const G=this.debouncedSubscription;null!==G&&(this.remove(G),G.unsubscribe(),this.debouncedSubscription=null)}}function Z(ee){ee.debouncedNext()}},5242:(_e,ne,M)=>{"use strict";M.d(ne,{d:()=>I});var b=M(7393);function I(re=null){return Z=>Z.lift(new fe(re))}class fe{constructor(Z){this.defaultValue=Z}call(Z,ee){return ee.subscribe(new F(Z,this.defaultValue))}}class F extends b.L{constructor(Z,ee){super(Z),this.defaultValue=ee,this.isEmpty=!0}_next(Z){this.isEmpty=!1,this.destination.next(Z)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(_e,ne,M)=>{"use strict";M.d(ne,{h:()=>I});var b=M(7393);function I(re,Z){return function(G){return G.lift(new fe(re,Z))}}class fe{constructor(Z,ee){this.predicate=Z,this.thisArg=ee}call(Z,ee){return ee.subscribe(new F(Z,this.predicate,this.thisArg))}}class F extends b.L{constructor(Z,ee,G){super(Z),this.predicate=ee,this.thisArg=G,this.count=0}_next(Z){let ee;try{ee=this.predicate.call(this.thisArg,Z,this.count++)}catch(G){return void this.destination.error(G)}ee&&this.destination.next(Z)}}},8049:(_e,ne,M)=>{"use strict";M.d(ne,{P:()=>ee});var b=M(3410),I=M(5435),fe=M(5257),F=M(5242),re=M(4635),Z=M(4487);function ee(G,Y){const U=arguments.length>=2;return J=>J.pipe(G?(0,I.h)((B,se)=>G(B,se,J)):Z.y,(0,fe.q)(1),U?(0,F.d)(Y):(0,re.T)(()=>new b.K))}},8002:(_e,ne,M)=>{"use strict";M.d(ne,{U:()=>I});var b=M(7393);function I(re,Z){return function(G){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return G.lift(new fe(re,Z))}}class fe{constructor(Z,ee){this.project=Z,this.thisArg=ee}call(Z,ee){return ee.subscribe(new F(Z,this.project,this.thisArg))}}class F extends b.L{constructor(Z,ee,G){super(Z),this.project=ee,this.count=0,this.thisArg=G||this}_next(Z){let ee;try{ee=this.project.call(this.thisArg,Z,this.count++)}catch(G){return void this.destination.error(G)}this.destination.next(ee)}}},3282:(_e,ne,M)=>{"use strict";M.d(ne,{J:()=>fe});var b=M(9773),I=M(4487);function fe(F=Number.POSITIVE_INFINITY){return(0,b.zg)(I.y,F)}},9773:(_e,ne,M)=>{"use strict";M.d(ne,{zg:()=>F});var b=M(8002),I=M(4402),fe=M(5345);function F(G,Y,U=Number.POSITIVE_INFINITY){return"function"==typeof Y?J=>J.pipe(F((B,se)=>(0,I.D)(G(B,se)).pipe((0,b.U)((Ce,We)=>Y(B,Ce,se,We))),U)):("number"==typeof Y&&(U=Y),J=>J.lift(new re(G,U)))}class re{constructor(Y,U=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=U}call(Y,U){return U.subscribe(new Z(Y,this.project,this.concurrent))}}class Z extends fe.Ds{constructor(Y,U,J=Number.POSITIVE_INFINITY){super(Y),this.project=U,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let U;const J=this.index++;try{U=this.project(Y,J)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(U)}_innerSub(Y){const U=new fe.IY(this),J=this.destination;J.add(U);const B=(0,fe.ft)(Y,U);B!==U&&J.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(_e,ne,M)=>{"use strict";M.d(ne,{QV:()=>fe,ht:()=>re});var b=M(7393),I=M(3098);function fe(ee,G=0){return function(U){return U.lift(new F(ee,G))}}class F{constructor(G,Y=0){this.scheduler=G,this.delay=Y}call(G,Y){return Y.subscribe(new re(G,this.scheduler,this.delay))}}class re extends b.L{constructor(G,Y,U=0){super(G),this.scheduler=Y,this.delay=U}static dispatch(G){const{notification:Y,destination:U}=G;Y.observe(U),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new Z(G,this.destination)))}_next(G){this.scheduleMessage(I.P.createNext(G))}_error(G){this.scheduleMessage(I.P.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(I.P.createComplete()),this.unsubscribe()}}class Z{constructor(G,Y){this.notification=G,this.destination=Y}}},1307:(_e,ne,M)=>{"use strict";M.d(ne,{x:()=>I});var b=M(7393);function I(){return function(Z){return Z.lift(new fe(Z))}}class fe{constructor(Z){this.connectable=Z}call(Z,ee){const{connectable:G}=this;G._refCount++;const Y=new F(Z,G),U=ee.subscribe(Y);return Y.closed||(Y.connection=G.connect()),U}}class F extends b.L{constructor(Z,ee){super(Z),this.connectable=ee}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const ee=Z._refCount;if(ee<=0)return void(this.connection=null);if(Z._refCount=ee-1,ee>1)return void(this.connection=null);const{connection:G}=this,Y=Z._connection;this.connection=null,Y&&(!G||Y===G)&&Y.unsubscribe()}}},2145:(_e,ne,M)=>{"use strict";M.d(ne,{R:()=>I});var b=M(7393);function I(re,Z){let ee=!1;return arguments.length>=2&&(ee=!0),function(Y){return Y.lift(new fe(re,Z,ee))}}class fe{constructor(Z,ee,G=!1){this.accumulator=Z,this.seed=ee,this.hasSeed=G}call(Z,ee){return ee.subscribe(new F(Z,this.accumulator,this.seed,this.hasSeed))}}class F extends b.L{constructor(Z,ee,G,Y){super(Z),this.accumulator=ee,this._seed=G,this.hasSeed=Y,this.index=0}get seed(){return this._seed}set seed(Z){this.hasSeed=!0,this._seed=Z}_next(Z){if(this.hasSeed)return this._tryNext(Z);this.seed=Z,this.destination.next(Z)}_tryNext(Z){const ee=this.index++;let G;try{G=this.accumulator(this.seed,Z,ee)}catch(Y){this.destination.error(Y)}this.seed=G,this.destination.next(G)}}},8819:(_e,ne,M)=>{"use strict";M.d(ne,{B:()=>ee});var b=M(2441);var F=M(1307),re=M(9765);function Z(){return new re.xQ}function ee(){return G=>(0,F.x)()(function(G,Y){return function(J){let B;B="function"==typeof G?G:function(){return G};const se=Object.create(J,b.N);return se.source=J,se.subjectFactory=B,se}}(Z)(G))}},3653:(_e,ne,M)=>{"use strict";M.d(ne,{T:()=>I});var b=M(7393);function I(re){return Z=>Z.lift(new fe(re))}class fe{constructor(Z){this.total=Z}call(Z,ee){return ee.subscribe(new F(Z,this.total))}}class F extends b.L{constructor(Z,ee){super(Z),this.total=ee,this.count=0}_next(Z){++this.count>this.total&&this.destination.next(Z)}}},3101:(_e,ne,M)=>{"use strict";M.d(ne,{R:()=>ze});var b=M(8891);let I=1;const fe=Promise.resolve(),F={};function re(Ke){return Ke in F&&(delete F[Ke],!0)}const Z={setImmediate(Ke){const Ve=I++;return F[Ve]=!0,fe.then(()=>re(Ve)&&Ke()),Ve},clearImmediate(Ke){re(Ke)}};var G=M(6465),U=M(6102);const se=new class extends U.v{flush(Ve){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let st,Fe=-1,Zt=rt.length;Ve=Ve||rt.shift();do{if(st=Ve.execute(Ve.state,Ve.delay))break}while(++Fe<Zt&&(Ve=rt.shift()));if(this.active=!1,st){for(;++Fe<Zt&&(Ve=rt.shift());)Ve.unsubscribe();throw st}}}(class extends G.o{constructor(Ve,rt){super(Ve,rt),this.scheduler=Ve,this.work=rt}requestAsyncId(Ve,rt,st=0){return null!==st&&st>0?super.requestAsyncId(Ve,rt,st):(Ve.actions.push(this),Ve.scheduled||(Ve.scheduled=Z.setImmediate(Ve.flush.bind(Ve,null))))}recycleAsyncId(Ve,rt,st=0){if(null!==st&&st>0||null===st&&this.delay>0)return super.recycleAsyncId(Ve,rt,st);0===Ve.actions.length&&(Z.clearImmediate(rt),Ve.scheduled=void 0)}});var Ce=M(9796);class Me extends b.y{constructor(Ve,rt=0,st=se){var Ke;super(),this.source=Ve,this.delayTime=rt,this.scheduler=st,(!(!(0,Ce.k)(Ke=rt)&&Ke-parseFloat(Ke)+1>=0)||rt<0)&&(this.delayTime=0),(!st||"function"!=typeof st.schedule)&&(this.scheduler=se)}static create(Ve,rt=0,st=se){return new Me(Ve,rt,st)}static dispatch(Ve){const{source:rt,subscriber:st}=Ve;return this.add(rt.subscribe(st))}_subscribe(Ve){return this.scheduler.schedule(Me.dispatch,this.delayTime,{source:this.source,subscriber:Ve})}}function ze(Ke,Ve=0){return function(st){return st.lift(new Re(Ke,Ve))}}class Re{constructor(Ve,rt){this.scheduler=Ve,this.delay=rt}call(Ve,rt){return new Me(rt,this.delay,this.scheduler).subscribe(Ve)}}},3190:(_e,ne,M)=>{"use strict";M.d(ne,{w:()=>F});var b=M(8002),I=M(4402),fe=M(5345);function F(ee,G){return"function"==typeof G?Y=>Y.pipe(F((U,J)=>(0,I.D)(ee(U,J)).pipe((0,b.U)((B,se)=>G(U,B,J,se))))):Y=>Y.lift(new re(ee))}class re{constructor(G){this.project=G}call(G,Y){return Y.subscribe(new Z(G,this.project))}}class Z extends fe.Ds{constructor(G,Y){super(G),this.project=Y,this.index=0}_next(G){let Y;const U=this.index++;try{Y=this.project(G,U)}catch(J){return void this.destination.error(J)}this._innerSub(Y)}_innerSub(G){const Y=this.innerSubscription;Y&&Y.unsubscribe();const U=new fe.IY(this),J=this.destination;J.add(U),this.innerSubscription=(0,fe.ft)(G,U),this.innerSubscription!==U&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:G}=this;(!G||G.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(G){this.destination.next(G)}}},5257:(_e,ne,M)=>{"use strict";M.d(ne,{q:()=>F});var b=M(7393),I=M(7108),fe=M(9193);function F(ee){return G=>0===ee?(0,fe.c)():G.lift(new re(ee))}class re{constructor(G){if(this.total=G,this.total<0)throw new I.W}call(G,Y){return Y.subscribe(new Z(G,this.total))}}class Z extends b.L{constructor(G,Y){super(G),this.total=Y,this.count=0}_next(G){const Y=this.total,U=++this.count;U<=Y&&(this.destination.next(G),U===Y&&(this.destination.complete(),this.unsubscribe()))}}},6782:(_e,ne,M)=>{"use strict";M.d(ne,{R:()=>I});var b=M(5345);function I(re){return Z=>Z.lift(new fe(re))}class fe{constructor(Z){this.notifier=Z}call(Z,ee){const G=new F(Z),Y=(0,b.ft)(this.notifier,new b.IY(G));return Y&&!G.seenValue?(G.add(Y),ee.subscribe(G)):G}}class F extends b.Ds{constructor(Z){super(Z),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(_e,ne,M)=>{"use strict";M.d(ne,{b:()=>F});var b=M(7393);function I(){}var fe=M(9105);function F(ee,G,Y){return function(J){return J.lift(new re(ee,G,Y))}}class re{constructor(G,Y,U){this.nextOrObserver=G,this.error=Y,this.complete=U}call(G,Y){return Y.subscribe(new Z(G,this.nextOrObserver,this.error,this.complete))}}class Z extends b.L{constructor(G,Y,U,J){super(G),this._tapNext=I,this._tapError=I,this._tapComplete=I,this._tapError=U||I,this._tapComplete=J||I,(0,fe.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||I,this._tapError=Y.error||I,this._tapComplete=Y.complete||I)}_next(G){try{this._tapNext.call(this._context,G)}catch(Y){return void this.destination.error(Y)}this.destination.next(G)}_error(G){try{this._tapError.call(this._context,G)}catch(Y){return void this.destination.error(Y)}this.destination.error(G)}_complete(){try{this._tapComplete.call(this._context)}catch(G){return void this.destination.error(G)}return this.destination.complete()}}},4635:(_e,ne,M)=>{"use strict";M.d(ne,{T:()=>fe});var b=M(3410),I=M(7393);function fe(ee=Z){return G=>G.lift(new F(ee))}class F{constructor(G){this.errorFactory=G}call(G,Y){return Y.subscribe(new re(G,this.errorFactory))}}class re extends I.L{constructor(G,Y){super(G),this.errorFactory=Y,this.hasValue=!1}_next(G){this.hasValue=!0,this.destination.next(G)}_complete(){if(this.hasValue)return this.destination.complete();{let G;try{G=this.errorFactory()}catch(Y){G=Y}this.destination.error(G)}}}function Z(){return new b.K}},2965:(_e,ne,M)=>{"use strict";M.d(ne,{V:()=>U});var b=M(3637);const fe=(()=>{function J(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return J.prototype=Object.create(Error.prototype),J})();var re=M(5345);class ee{constructor(B,se,Ce,We){this.waitFor=B,this.absoluteTimeout=se,this.withObservable=Ce,this.scheduler=We}call(B,se){return se.subscribe(new G(B,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class G extends re.Ds{constructor(B,se,Ce,We,Me){super(B),this.absoluteTimeout=se,this.waitFor=Ce,this.withObservable=We,this.scheduler=Me,this.scheduleTimeout()}static dispatchTimeout(B){const{withObservable:se}=B;B._unsubscribeAndRecycle(),B.add((0,re.ft)(se,new re.IY(B)))}scheduleTimeout(){const{action:B}=this;B?this.action=B.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(G.dispatchTimeout,this.waitFor,this))}_next(B){this.absoluteTimeout||this.scheduleTimeout(),super._next(B)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Y=M(205);function U(J,B=b.P){return function(J,B,se=b.P){return Ce=>{let We=function(J){return J instanceof Date&&!isNaN(+J)}(J),Me=We?+J-se.now():Math.abs(J);return Ce.lift(new ee(Me,We,B,se))}}(J,(0,Y._)(new fe),B)}},7057:(_e,ne,M)=>{"use strict";M.d(ne,{M:()=>fe});var b=M(5197),I=M(509);function fe(...Z){return ee=>{let G;return"function"==typeof Z[Z.length-1]&&(G=Z.pop()),ee.lift(new F(Z,G))}}class F{constructor(ee,G){this.observables=ee,this.project=G}call(ee,G){return G.subscribe(new re(ee,this.observables,this.project))}}class re extends b.L{constructor(ee,G,Y){super(ee),this.observables=G,this.project=Y,this.toRespond=[];const U=G.length;this.values=new Array(U);for(let J=0;J<U;J++)this.toRespond.push(J);for(let J=0;J<U;J++)this.add((0,I.D)(this,G[J],void 0,J))}notifyNext(ee,G,Y){this.values[Y]=G;const U=this.toRespond;if(U.length>0){const J=U.indexOf(Y);-1!==J&&U.splice(J,1)}}notifyComplete(){}_next(ee){if(0===this.toRespond.length){const G=[ee,...this.values];this.project?this._tryProject(G):this.destination.next(G)}}_tryProject(ee){let G;try{G=this.project.apply(this,ee)}catch(Y){return void this.destination.error(Y)}this.destination.next(G)}}},4087:(_e,ne,M)=>{"use strict";M.d(ne,{r:()=>fe});var b=M(8891),I=M(5319);function fe(F,re){return new b.y(Z=>{const ee=new I.w;let G=0;return ee.add(re.schedule(function(){G!==F.length?(Z.next(F[G++]),Z.closed||ee.add(this.schedule())):Z.complete()})),ee})}},6465:(_e,ne,M)=>{"use strict";M.d(ne,{o:()=>fe});var b=M(5319);class I extends b.w{constructor(re,Z){super()}schedule(re,Z=0){return this}}class fe extends I{constructor(re,Z){super(re,Z),this.scheduler=re,this.work=Z,this.pending=!1}schedule(re,Z=0){if(this.closed)return this;this.state=re;const ee=this.id,G=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(G,ee,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(G,this.id,Z),this}requestAsyncId(re,Z,ee=0){return setInterval(re.flush.bind(re,this),ee)}recycleAsyncId(re,Z,ee=0){if(null!==ee&&this.delay===ee&&!1===this.pending)return Z;clearInterval(Z)}execute(re,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(re,Z);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,Z){let G,ee=!1;try{this.work(re)}catch(Y){ee=!0,G=!!Y&&Y||new Error(Y)}if(ee)return this.unsubscribe(),G}_unsubscribe(){const re=this.id,Z=this.scheduler,ee=Z.actions,G=ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==G&&ee.splice(G,1),null!=re&&(this.id=this.recycleAsyncId(Z,re,null)),this.delay=null}}},6102:(_e,ne,M)=>{"use strict";M.d(ne,{v:()=>I});let b=(()=>{class fe{constructor(re,Z=fe.now){this.SchedulerAction=re,this.now=Z}schedule(re,Z=0,ee){return new this.SchedulerAction(this,re).schedule(ee,Z)}}return fe.now=()=>Date.now(),fe})();class I extends b{constructor(F,re=b.now){super(F,()=>I.delegate&&I.delegate!==this?I.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(F,re=0,Z){return I.delegate&&I.delegate!==this?I.delegate.schedule(F,re,Z):super.schedule(F,re,Z)}flush(F){const{actions:re}=this;if(this.active)return void re.push(F);let Z;this.active=!0;do{if(Z=F.execute(F.state,F.delay))break}while(F=re.shift());if(this.active=!1,Z){for(;F=re.shift();)F.unsubscribe();throw Z}}}},3637:(_e,ne,M)=>{"use strict";M.d(ne,{z:()=>fe,P:()=>F});var b=M(6465);const fe=new(M(6102).v)(b.o),F=fe},7771:(_e,ne,M)=>{"use strict";M.d(ne,{c:()=>Z,N:()=>re});var b=M(6465),fe=M(6102);const re=new class extends fe.v{}(class extends b.o{constructor(G,Y){super(G,Y),this.scheduler=G,this.work=Y}schedule(G,Y=0){return Y>0?super.schedule(G,Y):(this.delay=Y,this.state=G,this.scheduler.flush(this),this)}execute(G,Y){return Y>0||this.closed?super.execute(G,Y):this._execute(G,Y)}requestAsyncId(G,Y,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(G,Y,U):G.flush(this)}}),Z=re},377:(_e,ne,M)=>{"use strict";M.d(ne,{hZ:()=>I});const I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(_e,ne,M)=>{"use strict";M.d(ne,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(_e,ne,M)=>{"use strict";M.d(ne,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(_e,ne,M)=>{"use strict";M.d(ne,{W:()=>I});const I=(()=>{function fe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return fe.prototype=Object.create(Error.prototype),fe})()},3410:(_e,ne,M)=>{"use strict";M.d(ne,{K:()=>I});const I=(()=>{function fe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return fe.prototype=Object.create(Error.prototype),fe})()},7971:(_e,ne,M)=>{"use strict";M.d(ne,{N:()=>I});const I=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},4449:(_e,ne,M)=>{"use strict";function b(I){setTimeout(()=>{throw I},0)}M.d(ne,{z:()=>b})},4487:(_e,ne,M)=>{"use strict";function b(I){return I}M.d(ne,{y:()=>b})},9796:(_e,ne,M)=>{"use strict";M.d(ne,{k:()=>b});const b=Array.isArray||(I=>I&&"number"==typeof I.length)},9489:(_e,ne,M)=>{"use strict";M.d(ne,{z:()=>b});const b=I=>I&&"number"==typeof I.length&&"function"!=typeof I},9105:(_e,ne,M)=>{"use strict";function b(I){return"function"==typeof I}M.d(ne,{m:()=>b})},1555:(_e,ne,M)=>{"use strict";function b(I){return null!==I&&"object"==typeof I}M.d(ne,{K:()=>b})},4072:(_e,ne,M)=>{"use strict";function b(I){return!!I&&"function"!=typeof I.subscribe&&"function"==typeof I.then}M.d(ne,{t:()=>b})},4869:(_e,ne,M)=>{"use strict";function b(I){return I&&"function"==typeof I.schedule}M.d(ne,{K:()=>b})},4022:(_e,ne,M)=>{"use strict";M.d(ne,{z:()=>I,U:()=>fe});var b=M(4487);function I(...F){return fe(F)}function fe(F){return 0===F.length?b.y:1===F.length?F[0]:function(Z){return F.reduce((ee,G)=>G(ee),Z)}}},7444:(_e,ne,M)=>{"use strict";M.d(ne,{s:()=>J});var b=M(5015),I=M(4449),F=M(377),Z=M(6554),G=M(9489),Y=M(4072),U=M(1555);const J=B=>{if(B&&"function"==typeof B[Z.L])return(B=>se=>{const Ce=B[Z.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(se)})(B);if((0,G.z)(B))return(0,b.V)(B);if((0,Y.t)(B))return(B=>se=>(B.then(Ce=>{se.closed||(se.next(Ce),se.complete())},Ce=>se.error(Ce)).then(null,I.z),se))(B);if(B&&"function"==typeof B[F.hZ])return(B=>se=>{const Ce=B[F.hZ]();for(;;){let We;try{We=Ce.next()}catch(Me){return se.error(Me),se}if(We.done){se.complete();break}if(se.next(We.value),se.closed)break}return"function"==typeof Ce.return&&se.add(()=>{Ce.return&&Ce.return()}),se})(B);{const Ce=`You provided ${(0,U.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},5015:(_e,ne,M)=>{"use strict";M.d(ne,{V:()=>b});const b=I=>fe=>{for(let F=0,re=I.length;F<re&&!fe.closed;F++)fe.next(I[F]);fe.complete()}},509:(_e,ne,M)=>{"use strict";M.d(ne,{D:()=>re});var b=M(7393);class I extends b.L{constructor(ee,G,Y){super(),this.parent=ee,this.outerValue=G,this.outerIndex=Y,this.index=0}_next(ee){this.parent.notifyNext(this.outerValue,ee,this.outerIndex,this.index++,this)}_error(ee){this.parent.notifyError(ee,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fe=M(7444),F=M(8891);function re(Z,ee,G,Y,U=new I(Z,G,Y)){if(!U.closed)return ee instanceof F.y?ee.subscribe(U):(0,fe.s)(ee)(U)}},8379:(_e,ne,M)=>{"use strict";M.d(ne,{mm:()=>re,kc:()=>Z,m3:()=>ee});var b=M(4220);const re=(0,b.PH)("[AUTH] Sign Up Start",(0,b.Ky)()),Z=(0,b.PH)("[AUTH] Sign Up Success",(0,b.Ky)()),ee=(0,b.PH)("[AUTH] Log In",(0,b.Ky)())},1382:(_e,ne,M)=>{"use strict";M.d(ne,{_m:()=>Y,dy:()=>U,aF:()=>J,D5:()=>B,a3:()=>se});var b=M(4220);(0,b.PH)("[DATA] Get Users");const Y=(0,b.PH)("[DATA] Set Users",(0,b.Ky)()),U=(0,b.PH)("[DATA] Select User",(0,b.Ky)()),J=(0,b.PH)("[DATA] Store Messages",(0,b.Ky)()),B=(0,b.PH)("[DATA] Send Message",(0,b.Ky)()),se=(0,b.PH)("[DATA] Store All Messages",(0,b.Ky)())},8698:(_e,ne,M)=>{"use strict";var b=M(8583),I=M(7716);class fe extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F extends fe{static makeCurrent(){(0,b.HT)(new F)}onAndCancel(C,E,P){return C.addEventListener(E,P,!1),()=>{C.removeEventListener(E,P,!1)}}dispatchEvent(C,E){C.dispatchEvent(E)}remove(C){C.parentNode&&C.parentNode.removeChild(C)}createElement(C,E){return(E=E||this.getDefaultDocument()).createElement(C)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(C){return C.nodeType===Node.ELEMENT_NODE}isShadowRoot(C){return C instanceof DocumentFragment}getGlobalEventTarget(C,E){return"window"===E?window:"document"===E?C:"body"===E?C.body:null}getBaseHref(C){const E=(re=re||document.querySelector("base"),re?re.getAttribute("href"):null);return null==E?null:function(p){ee=ee||document.createElement("a"),ee.setAttribute("href",p);const C=ee.pathname;return"/"===C.charAt(0)?C:`/${C}`}(E)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(C){return(0,b.Mx)(document.cookie,C)}}let ee,re=null;const Y=new I.OlP("TRANSITION_ID"),J=[{provide:I.ip1,useFactory:function(p,C,E){return()=>{E.get(I.CZH).donePromise.then(()=>{const P=(0,b.q)(),z=C.querySelectorAll(`style[ng-transition="${p}"]`);for(let de=0;de<z.length;de++)P.remove(z[de])})}},deps:[Y,b.K0,I.zs3],multi:!0}];class B{static init(){(0,I.VLi)(new B)}addToWindow(C){I.dqk.getAngularTestability=(P,z=!0)=>{const de=C.findTestabilityInTree(P,z);if(null==de)throw new Error("Could not find testability for element.");return de},I.dqk.getAllAngularTestabilities=()=>C.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>C.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(P=>{const z=I.dqk.getAllAngularTestabilities();let de=z.length,ye=!1;const Oe=function(tt){ye=ye||tt,de--,0==de&&P(ye)};z.forEach(function(tt){tt.whenStable(Oe)})})}findTestabilityInTree(C,E,P){if(null==E)return null;const z=C.getTestability(E);return null!=z?z:P?(0,b.q)().isShadowRoot(E)?this.findTestabilityInTree(C,E.host,!0):this.findTestabilityInTree(C,E.parentElement,!0):null}}let se=(()=>{class p{build(){return new XMLHttpRequest}}return p.\u0275fac=function(E){return new(E||p)},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();const we=new I.OlP("EventManagerPlugins");let be=(()=>{class p{constructor(E,P){this._zone=P,this._eventNameToPlugin=new Map,E.forEach(z=>z.manager=this),this._plugins=E.slice().reverse()}addEventListener(E,P,z){return this._findPluginFor(P).addEventListener(E,P,z)}addGlobalEventListener(E,P,z){return this._findPluginFor(P).addGlobalEventListener(E,P,z)}getZone(){return this._zone}_findPluginFor(E){const P=this._eventNameToPlugin.get(E);if(P)return P;const z=this._plugins;for(let de=0;de<z.length;de++){const ye=z[de];if(ye.supports(E))return this._eventNameToPlugin.set(E,ye),ye}throw new Error(`No event manager plugin found for event ${E}`)}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(we),I.LFG(I.R0b))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();class je{constructor(C){this._doc=C}addGlobalEventListener(C,E,P){const z=(0,b.q)().getGlobalEventTarget(this._doc,C);if(!z)throw new Error(`Unsupported event target ${z} for event ${E}`);return this.addEventListener(z,E,P)}}let Se=(()=>{class p{constructor(){this._stylesSet=new Set}addStyles(E){const P=new Set;E.forEach(z=>{this._stylesSet.has(z)||(this._stylesSet.add(z),P.add(z))}),this.onStylesAdded(P)}onStylesAdded(E){}getAllStyles(){return Array.from(this._stylesSet)}}return p.\u0275fac=function(E){return new(E||p)},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})(),pt=(()=>{class p extends Se{constructor(E){super(),this._doc=E,this._hostNodes=new Map,this._hostNodes.set(E.head,[])}_addStylesToHost(E,P,z){E.forEach(de=>{const ye=this._doc.createElement("style");ye.textContent=de,z.push(P.appendChild(ye))})}addHost(E){const P=[];this._addStylesToHost(this._stylesSet,E,P),this._hostNodes.set(E,P)}removeHost(E){const P=this._hostNodes.get(E);P&&P.forEach(Et),this._hostNodes.delete(E)}onStylesAdded(E){this._hostNodes.forEach((P,z)=>{this._addStylesToHost(E,z,P)})}ngOnDestroy(){this._hostNodes.forEach(E=>E.forEach(Et))}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(b.K0))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();function Et(p){(0,b.q)().remove(p)}const Qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Yn(p,C,E){for(let P=0;P<C.length;P++){let z=C[P];Array.isArray(z)?Yn(p,z,E):(z=z.replace(Tt,p),E.push(z))}return E}function fn(p){return C=>{if("__ngUnwrap__"===C)return p;!1===p(C)&&(C.preventDefault(),C.returnValue=!1)}}let mn=(()=>{class p{constructor(E,P,z){this.eventManager=E,this.sharedStylesHost=P,this.appId=z,this.rendererByCompId=new Map,this.defaultRenderer=new Xn(E)}createRenderer(E,P){if(!E||!P)return this.defaultRenderer;switch(P.encapsulation){case I.ifc.Emulated:{let z=this.rendererByCompId.get(P.id);return z||(z=new qn(this.eventManager,this.sharedStylesHost,P,this.appId),this.rendererByCompId.set(P.id,z)),z.applyToHost(E),z}case 1:case I.ifc.ShadowDom:return new Wr(this.eventManager,this.sharedStylesHost,E,P);default:if(!this.rendererByCompId.has(P.id)){const z=Yn(P.id,P.styles,[]);this.sharedStylesHost.addStyles(z),this.rendererByCompId.set(P.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(be),I.LFG(pt),I.LFG(I.AFp))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();class Xn{constructor(C){this.eventManager=C,this.data=Object.create(null)}destroy(){}createElement(C,E){return E?document.createElementNS(Qt[E]||E,C):document.createElement(C)}createComment(C){return document.createComment(C)}createText(C){return document.createTextNode(C)}appendChild(C,E){C.appendChild(E)}insertBefore(C,E,P){C&&C.insertBefore(E,P)}removeChild(C,E){C&&C.removeChild(E)}selectRootElement(C,E){let P="string"==typeof C?document.querySelector(C):C;if(!P)throw new Error(`The selector "${C}" did not match any elements`);return E||(P.textContent=""),P}parentNode(C){return C.parentNode}nextSibling(C){return C.nextSibling}setAttribute(C,E,P,z){if(z){E=z+":"+E;const de=Qt[z];de?C.setAttributeNS(de,E,P):C.setAttribute(E,P)}else C.setAttribute(E,P)}removeAttribute(C,E,P){if(P){const z=Qt[P];z?C.removeAttributeNS(z,E):C.removeAttribute(`${P}:${E}`)}else C.removeAttribute(E)}addClass(C,E){C.classList.add(E)}removeClass(C,E){C.classList.remove(E)}setStyle(C,E,P,z){z&(I.JOm.DashCase|I.JOm.Important)?C.style.setProperty(E,P,z&I.JOm.Important?"important":""):C.style[E]=P}removeStyle(C,E,P){P&I.JOm.DashCase?C.style.removeProperty(E):C.style[E]=""}setProperty(C,E,P){C[E]=P}setValue(C,E){C.nodeValue=E}listen(C,E,P){return"string"==typeof C?this.eventManager.addGlobalEventListener(C,E,fn(P)):this.eventManager.addEventListener(C,E,fn(P))}}class qn extends Xn{constructor(C,E,P,z){super(C),this.component=P;const de=Yn(z+"-"+P.id,P.styles,[]);E.addStyles(de),this.contentAttr="_ngcontent-%COMP%".replace(Tt,z+"-"+P.id),this.hostAttr=function(p){return"_nghost-%COMP%".replace(Tt,p)}(z+"-"+P.id)}applyToHost(C){super.setAttribute(C,this.hostAttr,"")}createElement(C,E){const P=super.createElement(C,E);return super.setAttribute(P,this.contentAttr,""),P}}class Wr extends Xn{constructor(C,E,P,z){super(C),this.sharedStylesHost=E,this.hostEl=P,this.shadowRoot=P.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const de=Yn(z.id,z.styles,[]);for(let ye=0;ye<de.length;ye++){const Oe=document.createElement("style");Oe.textContent=de[ye],this.shadowRoot.appendChild(Oe)}}nodeOrShadowRoot(C){return C===this.hostEl?this.shadowRoot:C}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(C,E){return super.appendChild(this.nodeOrShadowRoot(C),E)}insertBefore(C,E,P){return super.insertBefore(this.nodeOrShadowRoot(C),E,P)}removeChild(C,E){return super.removeChild(this.nodeOrShadowRoot(C),E)}parentNode(C){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(C)))}}let Qr=(()=>{class p extends je{constructor(E){super(E)}supports(E){return!0}addEventListener(E,P,z){return E.addEventListener(P,z,!1),()=>this.removeEventListener(E,P,z)}removeEventListener(E,P,z){return E.removeEventListener(P,z)}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(b.K0))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();const rn=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},as={alt:p=>p.altKey,control:p=>p.ctrlKey,meta:p=>p.metaKey,shift:p=>p.shiftKey};let kn=(()=>{class p extends je{constructor(E){super(E)}supports(E){return null!=p.parseEventName(E)}addEventListener(E,P,z){const de=p.parseEventName(P),ye=p.eventCallback(de.fullKey,z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(E,de.domEventName,ye))}static parseEventName(E){const P=E.toLowerCase().split("."),z=P.shift();if(0===P.length||"keydown"!==z&&"keyup"!==z)return null;const de=p._normalizeKey(P.pop());let ye="";if(rn.forEach(tt=>{const Pt=P.indexOf(tt);Pt>-1&&(P.splice(Pt,1),ye+=tt+".")}),ye+=de,0!=P.length||0===de.length)return null;const Oe={};return Oe.domEventName=z,Oe.fullKey=ye,Oe}static getEventFullKey(E){let P="",z=function(p){let C=p.key;if(null==C){if(C=p.keyIdentifier,null==C)return"Unidentified";C.startsWith("U+")&&(C=String.fromCharCode(parseInt(C.substring(2),16)),3===p.location&&Kt.hasOwnProperty(C)&&(C=Kt[C]))}return St[C]||C}(E);return z=z.toLowerCase()," "===z?z="space":"."===z&&(z="dot"),rn.forEach(de=>{de!=z&&as[de](E)&&(P+=de+".")}),P+=z,P}static eventCallback(E,P,z){return de=>{p.getEventFullKey(de)===E&&z.runGuarded(()=>P(de))}}static _normalizeKey(E){switch(E){case"esc":return"escape";default:return E}}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(b.K0))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();const er=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:b.bD},{provide:I.g9A,useValue:function(){F.makeCurrent(),B.init()},multi:!0},{provide:b.K0,useFactory:function(){return(0,I.RDi)(document),document},deps:[]}]),oi=[[],{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function(){return new I.qLn},deps:[]},{provide:we,useClass:Qr,multi:!0,deps:[b.K0,I.R0b,I.Lbi]},{provide:we,useClass:kn,multi:!0,deps:[b.K0]},[],{provide:mn,useClass:mn,deps:[be,pt,I.AFp]},{provide:I.FYo,useExisting:mn},{provide:Se,useExisting:pt},{provide:pt,useClass:pt,deps:[b.K0]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b]},{provide:be,useClass:be,deps:[we,I.R0b]},{provide:b.JF,useClass:se,deps:[]},[]];let Mr=(()=>{class p{constructor(E){if(E)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(E){return{ngModule:p,providers:[{provide:I.AFp,useValue:E.appId},{provide:Y,useExisting:I.AFp},J]}}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(p,12))},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({providers:oi,imports:[b.ez,I.hGG]}),p})();"undefined"!=typeof window&&window;var Un=M(5406),Xr=M(4022),Br=M(8002),dr=M(5257),rr=M(9765),ir=M(5917),Nr=M(8891),Wt=M(4402),vt=M(6682),Ut=M(9746),oe=M(3190),Ae=M(8229);function Ee(p,C,E){let P;return P=p&&"object"==typeof p?p:{bufferSize:p,windowTime:C,refCount:!1,scheduler:E},z=>z.lift(function({bufferSize:p=Number.POSITIVE_INFINITY,windowTime:C=Number.POSITIVE_INFINITY,refCount:E,scheduler:P}){let z,ye,de=0,Oe=!1,tt=!1;return function(on){let pn;de++,!z||Oe?(Oe=!1,z=new Ae.t(p,C,P),pn=z.subscribe(this),ye=on.subscribe({next(jn){z.next(jn)},error(jn){Oe=!0,z.error(jn)},complete(){tt=!0,ye=void 0,z.complete()}}),tt&&(ye=void 0)):pn=z.subscribe(this),this.add(()=>{de--,pn.unsubscribe(),pn=void 0,ye&&!tt&&E&&0===de&&(ye.unsubscribe(),ye=void 0,z=void 0)})}}(P))}var et=M(8049);function nt(p,C){return C?(0,oe.w)(()=>p,C):(0,oe.w)(()=>p)}var ct=M(3101),gt=M(5435),Vt=M(7667),Dn=M(8939);M(7841);const hi=new I.OlP("angularfire2.auth.use-emulator"),Kr=new I.OlP("angularfire2.auth.settings"),$n=new I.OlP("angularfire2.auth.tenant-id"),ks=new I.OlP("angularfire2.auth.langugage-code"),Ci=new I.OlP("angularfire2.auth.use-device-language"),Bi=new I.OlP("angularfire.auth.persistence");let no=(()=>{class p{constructor(E,P,z,de,ye,Oe,tt,Pt,on,pn,jn){const li=new rr.xQ,wr=(0,ir.of)(void 0).pipe((0,Ut.QV)(ye.outsideAngular),(0,oe.w)(()=>de.runOutsideAngular(()=>M.e(828).then(M.bind(M,4828)))),(0,Br.U)(()=>(0,Dn.on)(E,de,P)),(0,Br.U)(Mi=>((p,C,E,P,z,de,ye,Oe)=>(0,Vt.cc)(`${p.name}.auth`,"AngularFireAuth",p.name,()=>{const tt=C.runOutsideAngular(()=>p.auth());if(E&&tt.useEmulator(...E),P&&(tt.tenantId=P),tt.languageCode=z,de&&tt.useDeviceLanguage(),ye)for(const[Pt,on]of Object.entries(ye))tt.settings[Pt]=on;return Oe&&tt.setPersistence(Oe),tt},[E,P,z,de,ye,Oe]))(Mi,de,Oe,Pt,on,pn,tt,jn)),Ee({bufferSize:1,refCount:!1}));if((0,b.PM)(z))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ir.of)(null);else{wr.pipe((0,et.P)()).subscribe();const si=wr.pipe((0,oe.w)(Or=>Or.getRedirectResult().then(Fr=>Fr,()=>null)),Vt.iC,Ee({bufferSize:1,refCount:!1})),pi=wr.pipe((0,oe.w)(Or=>new Nr.y(Fr=>({unsubscribe:de.runOutsideAngular(()=>Or.onAuthStateChanged(Ns=>Fr.next(Ns),Ns=>Fr.error(Ns),()=>Fr.complete()))})))),_s=wr.pipe((0,oe.w)(Or=>new Nr.y(Fr=>({unsubscribe:de.runOutsideAngular(()=>Or.onIdTokenChanged(Ns=>Fr.next(Ns),Ns=>Fr.error(Ns),()=>Fr.complete()))}))));this.authState=si.pipe(nt(pi),(0,ct.R)(ye.outsideAngular),(0,Ut.QV)(ye.insideAngular)),this.user=si.pipe(nt(_s),(0,ct.R)(ye.outsideAngular),(0,Ut.QV)(ye.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(Or=>Or?(0,Wt.D)(Or.getIdToken()):(0,ir.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(Or=>Or?(0,Wt.D)(Or.getIdTokenResult()):(0,ir.of)(null))),this.credential=(0,vt.T)(si,li,this.authState.pipe((0,gt.h)(Or=>!Or))).pipe((0,Br.U)(Or=>(null==Or?void 0:Or.user)?Or:null),(0,ct.R)(ye.outsideAngular),(0,Ut.QV)(ye.insideAngular))}return(0,Dn.pX)(this,wr,de,{spy:{apply:(Mi,si,pi)=>{(Mi.startsWith("signIn")||Mi.startsWith("createUser"))&&pi.then(_s=>li.next(_s))}}})}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Dn.Dh),I.LFG(Dn.xv,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(Vt.HU),I.LFG(hi,8),I.LFG(Kr,8),I.LFG($n,8),I.LFG(ks,8),I.LFG(Ci,8),I.LFG(Bi,8))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})();const ro=(0,Br.U)(p=>!!p);const Hr=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([M.e(665),M.e(842)]).then(M.bind(M,4842)).then(p=>p.AuthModule)},{path:"messenger",loadChildren:()=>Promise.all([M.e(665),M.e(632)]).then(M.bind(M,632)).then(p=>p.MessengerModule),canActivate:[(()=>{class p{constructor(E,P){this.router=E,this.auth=P,this.canActivate=(z,de)=>{const ye=z.data.authGuardPipe||(()=>ro);return this.auth.user.pipe((0,dr.q)(1),ye(z,de),(0,Br.U)(Oe=>"boolean"==typeof Oe?Oe:Array.isArray(Oe)?this.router.createUrlTree(Oe):this.router.parseUrl(Oe)))}}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Un.F0),I.LFG(no))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})()],data:{authGuardPipe:()=>{return p=["auth"],(0,Xr.z)(ro,(0,Br.U)(C=>C||p));var p}}}];let ma=(()=>{class p{}return p.\u0275fac=function(E){return new(E||p)},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({imports:[[Un.Bz.forRoot(Hr)],Un.Bz]}),p})();var Ar=M(5452);const Wi_firebase={apiKey:"AIzaSyDYv0H5RXmoYQduJjudu_-ckWqLLDUHKhk",authDomain:"test-96155.firebaseapp.com",databaseURL:"https://test-96155-default-rtdb.firebaseio.com",projectId:"test-96155",storageBucket:"test-96155.appspot.com",messagingSenderId:"6579512422",appId:"1:6579512422:web:83151b2eb41bbcc35d79a7",measurementId:"G-9402P23G8N"};var Qn=M(7178),H=M(7985),L=M(8379),te=M(4220);let ge=(()=>{class p{constructor(E,P){this.store=E,this.router=P,this.title="ngChat",this.app=(0,Ar.initializeApp)(Wi_firebase),this.db=(0,Qn.N8)(),this.starCountRef=(0,Qn.iH)(this.db)}writeUserData(){(0,Qn.t8)((0,Qn.iH)(this.db,"users/"),{username:"name",email:"email",profile_picture:"imageUrl"})}funkyFuncTest(){(0,Qn.jM)(this.starCountRef,E=>{const P=E.val();console.log(P)})}ngOnInit(){const E=(0,H.v0)();(0,H.Aj)(E,P=>{P?((0,H.wU)(P),console.log("IF BLOCK"),console.log(P),this.store.dispatch((0,L.kc)({payload:{email:P.email,uid:P.uid,username:"need something",tokenExpDate:new Date,token:"",messages:[]}}))):console.log("ELSE BLOCK")})}}return p.\u0275fac=function(E){return new(E||p)(I.Y36(te.yh),I.Y36(Un.F0))},p.\u0275cmp=I.Xpm({type:p,selectors:[["app-root"]],decls:1,vars:0,template:function(E,P){1&E&&I._UZ(0,"router-outlet")},directives:[Un.lC],styles:[""]}),p})();var De=M(7393);class ot{call(C,E){return E.subscribe(new jt(C))}}class jt extends De.L{_next(C){}}var ht=M(3098);class Yt{call(C,E){return E.subscribe(new Ht(C))}}class Ht extends De.L{constructor(C){super(C)}_next(C){this.destination.next(ht.P.createNext(C))}_error(C){const E=this.destination;E.next(ht.P.createError(C)),E.complete()}_complete(){const C=this.destination;C.next(ht.P.createComplete()),C.complete()}}var yr=M(5304),Wn=M(5319);function xn(p,C,E,P){return z=>z.lift(new vr(p,C,E,P))}class vr{constructor(C,E,P,z){this.keySelector=C,this.elementSelector=E,this.durationSelector=P,this.subjectSelector=z}call(C,E){return E.subscribe(new Er(C,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Er extends De.L{constructor(C,E,P,z,de){super(C),this.keySelector=E,this.elementSelector=P,this.durationSelector=z,this.subjectSelector=de,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(C){let E;try{E=this.keySelector(C)}catch(P){return void this.error(P)}this._group(C,E)}_group(C,E){let P=this.groups;P||(P=this.groups=new Map);let de,z=P.get(E);if(this.elementSelector)try{de=this.elementSelector(C)}catch(ye){this.error(ye)}else de=C;if(!z){z=this.subjectSelector?this.subjectSelector():new rr.xQ,P.set(E,z);const ye=new j(E,z,this);if(this.destination.next(ye),this.durationSelector){let Oe;try{Oe=this.durationSelector(new j(E,z))}catch(tt){return void this.error(tt)}this.add(Oe.subscribe(new R(E,z,this)))}}z.closed||z.next(de)}_error(C){const E=this.groups;E&&(E.forEach((P,z)=>{P.error(C)}),E.clear()),this.destination.error(C)}_complete(){const C=this.groups;C&&(C.forEach((E,P)=>{E.complete()}),C.clear()),this.destination.complete()}removeGroup(C){this.groups.delete(C)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class R extends De.L{constructor(C,E,P){super(E),this.key=C,this.group=E,this.parent=P}_next(C){this.complete()}_unsubscribe(){const{parent:C,key:E}=this;this.key=this.parent=null,C&&C.removeGroup(E)}}class j extends Nr.y{constructor(C,E,P){super(),this.key=C,this.groupSubject=E,this.refCountSubscription=P}_subscribe(C){const E=new Wn.w,{refCountSubscription:P,groupSubject:z}=this;return P&&!P.closed&&E.add(new S(P)),E.add(z.subscribe(C)),E}}class S extends Wn.w{constructor(C){super(),this.parent=C,C.count++}unsubscribe(){const C=this.parent;!C.closed&&!this.closed&&(super.unsubscribe(),C.count-=1,0===C.count&&C.attemptedToUnsubscribe&&C.unsubscribe())}}var $=M(9773),ue=M(5345);function Be(p,C){return C?E=>E.pipe(Be((P,z)=>(0,Wt.D)(p(P,z)).pipe((0,Br.U)((de,ye)=>C(P,de,z,ye))))):E=>E.lift(new qe(p))}class qe{constructor(C){this.project=C}call(C,E){return E.subscribe(new _t(C,this.project))}}class _t extends ue.Ds{constructor(C,E){super(C),this.project=E,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(C){this.hasSubscription||this.tryNext(C)}tryNext(C){let E;const P=this.index++;try{E=this.project(C,P)}catch(z){return void this.destination.error(z)}this.hasSubscription=!0,this._innerSub(E)}_innerSub(C){const E=new ue.IY(this),P=this.destination;P.add(E);const z=(0,ue.ft)(C,E);z!==E&&P.add(z)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(C){this.destination.next(C)}notifyError(C){this.destination.error(C)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class zn{call(C,E){return E.subscribe(new Fn(C))}}class Fn extends De.L{constructor(C){super(C)}_next(C){C.observe(this.destination)}}const ln={dispatch:!0,useEffectsErrorHandler:!0},Cn="__@ngrx/effects_create__";function Vn(p,C){const E=p(),P=Object.assign(Object.assign({},ln),C);return Object.defineProperty(E,Cn,{value:P}),E}function Cr(p){return Object.getOwnPropertyNames(p).filter(P=>!(!p[P]||!p[P].hasOwnProperty(Cn))&&p[P][Cn].hasOwnProperty("dispatch")).map(P=>Object.assign({propertyName:P},p[P][Cn]))}function ti(p){return Object.getPrototypeOf(p)}const fr="__@ngrx/effects__";function ai(p){return(0,te.qC)(bo,ti)(p)}function bo(p){return function(p){return p.constructor.hasOwnProperty(fr)}(p)?p.constructor[fr]:[]}function Vo(p,C,E){const P=ti(p).constructor.name,z=function(p){return[ai,Cr].reduce((E,P)=>E.concat(P(p)),[])}(p).map(({propertyName:de,dispatch:ye,useEffectsErrorHandler:Oe})=>{const tt="function"==typeof p[de]?p[de]():p[de],Pt=Oe?E(tt,C):tt;return!1===ye?Pt.pipe(function(C){return C.lift(new ot)}):Pt.pipe(function(C){return C.lift(new Yt)}).pipe((0,Br.U)(pn=>({effect:p[de],notification:pn,propertyName:de,sourceName:P,sourceInstance:p})))});return(0,vt.T)(...z)}function Na(p,C,E=10){return p.pipe((0,yr.K)(P=>(C&&C.handleError(P),E<=1?p:Na(p,C,E-1))))}let Xe=(()=>{class p extends Nr.y{constructor(E){super(),E&&(this.source=E)}lift(E){const P=new p;return P.source=this,P.operator=E,P}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(te.Y$))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();function An(...p){return(0,gt.h)(C=>p.some(E=>"string"==typeof E?E===C.type:E.type===C.type))}function io(p){return Di(p,"ngrxOnInitEffects")}function Di(p,C){return p&&C in p&&"function"==typeof p[C]}const Yr=new I.OlP("@ngrx/effects Internal Root Guard"),ni=new I.OlP("@ngrx/effects User Provided Effects"),va=new I.OlP("@ngrx/effects Internal Root Effects"),bs=new I.OlP("@ngrx/effects Root Effects"),Gi=new I.OlP("@ngrx/effects Internal Feature Effects"),Bo=new I.OlP("@ngrx/effects Feature Effects"),Fa=new I.OlP("@ngrx/effects Effects Error Handler");let Ho=(()=>{class p extends rr.xQ{constructor(E,P){super(),this.errorHandler=E,this.effectsErrorHandler=P}addEffects(E){this.next(E)}toActions(){return this.pipe(xn(ti),(0,$.zg)(E=>E.pipe(xn(Ni))),(0,$.zg)(E=>{const P=E.pipe(Be(de=>function(p,C){return E=>{const P=Vo(E,p,C);return function(p){return Di(p,"ngrxOnRunEffects")}(E)?E.ngrxOnRunEffects(P):P}}(this.errorHandler,this.effectsErrorHandler)(de)),(0,Br.U)(de=>(function(p,C){if("N"===p.notification.kind){const E=p.notification.value;!function(p){return"function"!=typeof p&&p&&p.type&&"string"==typeof p.type}(E)&&C.handleError(new Error(`Effect ${function({propertyName:p,sourceInstance:C,sourceName:E}){const P="function"==typeof C[p];return`"${E}.${String(p)}${P?"()":""}"`}(p)} dispatched an invalid action: ${function(p){try{return JSON.stringify(p)}catch(C){return p}}(E)}`))}}(de,this.errorHandler),de.notification)),(0,gt.h)(de=>"N"===de.kind&&null!=de.value),function(C){return C.lift(new zn)}),z=E.pipe((0,dr.q)(1),(0,gt.h)(io),(0,Br.U)(de=>de.ngrxOnInitEffects()));return(0,vt.T)(P,z)}))}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(I.qLn),I.LFG(Fa))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();function Ni(p){return function(p){return Di(p,"ngrxOnIdentifyEffects")}(p)?p.ngrxOnIdentifyEffects():""}let js=(()=>{class p{constructor(E,P){this.effectSources=E,this.store=P,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Ho),I.LFG(te.yh))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();const Bs="@ngrx/effects/init";(0,te.PH)(Bs);let ki=(()=>{class p{constructor(E,P,z,de,ye,Oe,tt){this.sources=E,P.start(),de.forEach(Pt=>E.addEffects(Pt)),z.dispatch({type:Bs})}addEffects(E){this.sources.addEffects(E)}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Ho),I.LFG(js),I.LFG(te.yh),I.LFG(bs),I.LFG(te.cr,8),I.LFG(te.CK,8),I.LFG(Yr,8))},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({}),p})(),cs=(()=>{class p{constructor(E,P,z,de){P.forEach(ye=>ye.forEach(Oe=>E.addEffects(Oe)))}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(ki),I.LFG(Bo),I.LFG(te.cr,8),I.LFG(te.CK,8))},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({}),p})(),ds=(()=>{class p{static forFeature(E=[]){return{ngModule:cs,providers:[E,{provide:Gi,multi:!0,useValue:E},{provide:ni,multi:!0,useValue:[]},{provide:Bo,multi:!0,useFactory:Ki,deps:[I.zs3,Gi,ni]}]}}static forRoot(E=[]){return{ngModule:ki,providers:[{provide:Fa,useValue:Na},js,Ho,Xe,E,{provide:va,useValue:[E]},{provide:Yr,useFactory:_u,deps:[[js,new I.FiY,new I.tp0],[va,new I.PiD]]},{provide:ni,multi:!0,useValue:[]},{provide:bs,useFactory:Ki,deps:[I.zs3,va,ni]}]}}}return p.\u0275fac=function(E){return new(E||p)},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({}),p})();function Ki(p,C,E){const P=[];for(const z of C)P.push(...z);for(const z of E)P.push(...z);return function(p,C){return C.map(E=>p.get(E))}(p,P)}function _u(p,C){if((1!==C.length||0!==C[0].length)&&p)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ll=M(3342),Is=M(8725);(0,Ar.initializeApp)(Wi_firebase);const ws=(0,H.v0)(),sr=Is.cF(),Ds=(0,Qn.N8)();(0,Qn.iH)(Ds);let so=(()=>{class p{constructor(E,P,z){this.actions$=E,this.store=P,this.router=z,this.authSignup=Vn(()=>this.actions$.pipe(An(L.mm),(0,oe.w)(de=>(0,H.Xb)(ws,de.payload.email,de.payload.password).then(ye=>{console.log(ye),console.log(de.payload),console.log(de.payload.username);const Oe=Is.iH(sr,de.payload.username);return Is.KV(Oe,de.payload.photo).then(tt=>{Is.Jt(Oe).then(Pt=>{console.log(Pt),(0,Qn.t8)((0,Qn.iH)(Ds,"users/"+ye.user.uid),{email:ye.user.email,username:de.payload.username,uid:ye.user.uid,messages:[""],imageURL:Pt})}),console.log(ye)}),L.kc({payload:{email:ye.user.email,uid:ye.user.uid,username:de.payload.username,token:"res.user.getIdToken()",tokenExpDate:new Date,messages:[]}})})))),this.authLogin=Vn(()=>this.actions$.pipe(An(L.m3),(0,oe.w)(de=>(0,H.e5)(ws,de.payload.email,de.payload.password).then(ye=>L.kc({payload:{email:ye.user.email,uid:ye.user.uid,username:"get this somehow",messages:void 0,token:"",tokenExpDate:new Date}}))))),this.authSuccessFul=Vn(()=>this.actions$.pipe(An(L.kc),(0,ll.b)(()=>{console.log("infinite loop"),this.router.navigate(["messenger"])})),{dispatch:!1})}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Xe),I.LFG(te.yh),I.LFG(Un.F0))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();var _n=M(407),Yi=M(2329),fs=M(1382);(0,Yi.ZF)(Wi_firebase);const oo=(0,_n.N8)();(0,_n.iH)(oo);let qi=(()=>{class p{constructor(E,P){this.actions$=E,this.store=P,this.sendMessage=Vn(()=>this.actions$.pipe(An(fs.D5),(0,oe.w)(z=>(console.log("SEND MSG EFFECTS"),(0,_n.t8)((0,_n.VF)((0,_n.iH)(oo,"/users/"+z.message.from+"/messages/"+z.message.to)),z.message),(0,_n.t8)((0,_n.VF)((0,_n.iH)(oo,"/users/"+z.message.to+"/messages/"+z.message.from)),z.message)))),{dispatch:!1})}}return p.\u0275fac=function(E){return new(E||p)(I.LFG(Xe),I.LFG(te.yh))},p.\u0275prov=I.Yz7({token:p,factory:p.\u0275fac}),p})();const Ko={auth:(0,te.Lq)({email:"",username:"",uid:"",token:"",tokenExpDate:null,messages:[]},(0,te.on)(L.mm,(p,C)=>Object.assign(Object.assign({},p),{username:C.payload.username})),(0,te.on)(L.kc,(p,C)=>(console.log("infinite reducer AuthSuccess"),console.log(C.payload.messages),Object.assign(Object.assign({},p),{email:C.payload.email,uid:C.payload.uid,token:C.payload.token,tokenExpDate:C.payload.tokenExpDate})))),data:(0,te.Lq)({users:{},selectedUser:"",messages:[],allMessages:[]},(0,te.on)(fs._m,(p,C)=>Object.assign(Object.assign({},p),{users:C.payload.users})),(0,te.on)(fs.D5,(p,C)=>(console.log("logging from reducer"),console.log(C.message),Object.assign({},p))),(0,te.on)(fs.dy,(p,C)=>Object.assign(Object.assign({},p),{selectedUser:C.payload.selectedUser})),(0,te.on)(fs.aF,(p,C)=>(console.log("STOREMESSAGES REDUCER"),console.log(C.payload.messages),Object.assign(Object.assign({},p),{messages:C.payload.messages}))),(0,te.on)(fs.a3,(p,C)=>Object.assign(Object.assign({},p),{allMessages:C.payload.allMessages})))};var wo=M(3572);function Si(p){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(p)}function Uu(p,C){for(var E=0;E<C.length;E++){var P=C[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(p,P.key,P)}}function cl(p,C,E){return C in p?Object.defineProperty(p,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[C]=E,p}function Nn(p){for(var C=1;C<arguments.length;C++){var E=null!=arguments[C]?arguments[C]:{},P=Object.keys(E);"function"==typeof Object.getOwnPropertySymbols&&(P=P.concat(Object.getOwnPropertySymbols(E).filter(function(z){return Object.getOwnPropertyDescriptor(E,z).enumerable}))),P.forEach(function(z){cl(p,z,E[z])})}return p}function hs(p,C){return function(p){if(Array.isArray(p))return p}(p)||function(p,C){var E=[],P=!0,z=!1,de=void 0;try{for(var Oe,ye=p[Symbol.iterator]();!(P=(Oe=ye.next()).done)&&(E.push(Oe.value),!C||E.length!==C);P=!0);}catch(tt){z=!0,de=tt}finally{try{!P&&null!=ye.return&&ye.return()}finally{if(z)throw de}}return E}(p,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ss={},uo={};try{"undefined"!=typeof window&&(Ss=window),"undefined"!=typeof document&&(uo=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(p){}var Ws=(Ss.navigator||{}).userAgent,ja=void 0===Ws?"":Ws,Ai=Ss,pr=uo,Qi=!!pr.documentElement&&!!pr.head&&"function"==typeof pr.addEventListener&&"function"==typeof pr.createElement,As=(~ja.indexOf("MSIE")||ja.indexOf("Trident/"),"___FONT_AWESOME___"),g="svg-inline--fa",Rs=[1,2,3,4,5,6,7,8,9,10],Ri=Rs.concat([11,12,13,14,15,16,17,18,19,20]),Os={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dl=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Os.GROUP,Os.SWAP_OPACITY,Os.PRIMARY,Os.SECONDARY].concat(Rs.map(function(p){return"".concat(p,"x")})).concat(Ri.map(function(p){return"w-".concat(p)})),Ai.FontAwesomeConfig||{});pr&&"function"==typeof pr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(p){var C=hs(p,2),P=C[1],z=function(p){return""===p||"false"!==p&&("true"===p||p)}(function(p){var C=pr.querySelector("script["+p+"]");if(C)return C.getAttribute(p)}(C[0]));null!=z&&(dl[P]=z)});var $a=Nn({},{familyPrefix:"fa",replacementClass:g,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},dl);$a.autoReplaceSvg||($a.observeMutations=!1);var yn=Nn({},$a);Ai.FontAwesomeConfig=yn;var Ks=Ai||{};Ks[As]||(Ks[As]={}),Ks[As].styles||(Ks[As].styles={}),Ks[As].hooks||(Ks[As].hooks={}),Ks[As].shims||(Ks[As].shims=[]);var Ps=Ks[As],Ys=[];Qi&&((pr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(pr.readyState)||pr.addEventListener("DOMContentLoaded",function p(){pr.removeEventListener("DOMContentLoaded",p),Ys.map(function(C){return C()})}));var Lr,Qo="pending",ho="settled",po="fulfilled",Ir="rejected",Cu=function(){},Ia="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,fl="undefined"==typeof setImmediate?setTimeout:setImmediate,Jo=[];function Li(){for(var p=0;p<Jo.length;p++)Jo[p][0](Jo[p][1]);Jo=[],Lr=!1}function Xo(p,C){Jo.push([p,C]),Lr||(Lr=!0,fl(Li,0))}function mo(p){var C=p.owner,E=C._state,P=C._data,z=p[E],de=p.then;if("function"==typeof z){E=po;try{P=z(P)}catch(ye){ta(de,ye)}}ea(de,P)||(E===po&&Bu(de,P),E===Ir&&ta(de,P))}function ea(p,C){var E;try{if(p===C)throw new TypeError("A promises callback cannot return that same promise.");if(C&&("function"==typeof C||"object"===Si(C))){var P=C.then;if("function"==typeof P)return P.call(C,function(z){E||(E=!0,C===z?bu(p,z):Bu(p,z))},function(z){E||(E=!0,ta(p,z))}),!0}}catch(z){return E||ta(p,z),!0}return!1}function Bu(p,C){(p===C||!ea(p,C))&&bu(p,C)}function bu(p,C){p._state===Qo&&(p._state=ho,p._data=C,Xo(wu,p))}function ta(p,C){p._state===Qo&&(p._state=ho,p._data=C,Xo(ui,p))}function Iu(p){p._then=p._then.forEach(mo)}function wu(p){p._state=po,Iu(p)}function ui(p){p._state=Ir,Iu(p),!p._handled&&Ia&&global.process.emit("unhandledRejection",p._data,p)}function Du(p){global.process.emit("rejectionHandled",p)}function $r(p){if("function"!=typeof p)throw new TypeError("Promise resolver "+p+" is not a function");if(!(this instanceof $r))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(p,C){function P(z){ta(C,z)}try{p(function(z){Bu(C,z)},P)}catch(z){P(z)}}(p,this)}$r.prototype={constructor:$r,_state:Qo,_then:null,_data:void 0,_handled:!1,then:function(C,E){var P={owner:this,then:new this.constructor(Cu),fulfilled:C,rejected:E};return(E||C)&&!this._handled&&(this._handled=!0,this._state===Ir&&Ia&&Xo(Du,this)),this._state===po||this._state===Ir?Xo(mo,P):this._then.push(P),P.then},catch:function(C){return this.then(null,C)}},$r.all=function(p){if(!Array.isArray(p))throw new TypeError("You must pass an array to Promise.all().");return new $r(function(C,E){var P=[],z=0;function de(tt){return z++,function(Pt){P[tt]=Pt,--z||C(P)}}for(var Oe,ye=0;ye<p.length;ye++)(Oe=p[ye])&&"function"==typeof Oe.then?Oe.then(de(ye),E):P[ye]=Oe;z||C(P)})},$r.race=function(p){if(!Array.isArray(p))throw new TypeError("You must pass an array to Promise.race().");return new $r(function(C,E){for(var z,P=0;P<p.length;P++)(z=p[P])&&"function"==typeof z.then?z.then(C,E):C(z)})},$r.resolve=function(p){return p&&"object"===Si(p)&&p.constructor===$r?p:new $r(function(C){C(p)})},$r.reject=function(p){return new $r(function(C,E){E(p)})};var ps={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ga(){for(var p=12,C="";p-- >0;)C+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return C}function $u(p){return"".concat(p).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ao(p){return Object.keys(p||{}).reduce(function(C,E){return C+"".concat(E,": ").concat(p[E],";")},"")}function qs(p){return p.size!==ps.size||p.x!==ps.x||p.y!==ps.y||p.rotate!==ps.rotate||p.flipX||p.flipY}function Wu(p){var C=p.transform,P=p.iconWidth,z={transform:"translate(".concat(p.containerWidth/2," 256)")},de="translate(".concat(32*C.x,", ").concat(32*C.y,") "),ye="scale(".concat(C.size/16*(C.flipX?-1:1),", ").concat(C.size/16*(C.flipY?-1:1),") "),Oe="rotate(".concat(C.rotate," 0 0)");return{outer:z,inner:{transform:"".concat(de," ").concat(ye," ").concat(Oe)},path:{transform:"translate(".concat(P/2*-1," -256)")}}}var Ya={x:0,y:0,width:"100%",height:"100%"};function ra(p){var C=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p.attributes&&(p.attributes.fill||C)&&(p.attributes.fill="black"),p}function Gu(p){return"g"===p.tag?p.children:[p]}function gr(p){var C=p.icons,E=C.main,P=C.mask,z=p.prefix,de=p.iconName,ye=p.transform,Oe=p.symbol,tt=p.title,Pt=p.maskId,on=p.titleId,pn=p.extra,jn=p.watchable,li=void 0!==jn&&jn,wr=P.found?P:E,Mi=wr.width,si=wr.height,pi="fak"===z,_s=pi?"":"fa-w-".concat(Math.ceil(Mi/si*16)),Or=[yn.replacementClass,de?"".concat(yn.familyPrefix,"-").concat(de):"",_s].filter(function(nu){return-1===pn.classes.indexOf(nu)}).filter(function(nu){return""!==nu||!!nu}).concat(pn.classes).join(" "),Fr={children:[],attributes:Nn({},pn.attributes,{"data-prefix":z,"data-icon":de,class:Or,role:pn.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Mi," ").concat(si)})},Ns=pi&&!~pn.classes.indexOf("fa-fw")?{width:"".concat(Mi/si*16*.0625,"em")}:{};li&&(Fr.attributes["data-fa-i2svg"]=""),tt&&Fr.children.push({tag:"title",attributes:{id:Fr.attributes["aria-labelledby"]||"title-".concat(on||Ga())},children:[tt]});var Lo=Nn({},Fr,{prefix:z,iconName:de,main:E,mask:P,maskId:Pt,transform:ye,symbol:Oe,styles:Nn({},Ns,pn.styles)}),Fl=P.found&&E.found?function(p){var C=p.children,E=p.attributes,P=p.main,z=p.mask,de=p.maskId,tt=P.icon,on=z.icon,pn=Wu({transform:p.transform,containerWidth:z.width,iconWidth:P.width}),jn={tag:"rect",attributes:Nn({},Ya,{fill:"white"})},li=tt.children?{children:tt.children.map(ra)}:{},wr={tag:"g",attributes:Nn({},pn.inner),children:[ra(Nn({tag:tt.tag,attributes:Nn({},tt.attributes,pn.path)},li))]},Mi={tag:"g",attributes:Nn({},pn.outer),children:[wr]},si="mask-".concat(de||Ga()),pi="clip-".concat(de||Ga()),_s={tag:"mask",attributes:Nn({},Ya,{id:si,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[jn,Mi]},Or={tag:"defs",children:[{tag:"clipPath",attributes:{id:pi},children:Gu(on)},_s]};return C.push(Or,{tag:"rect",attributes:Nn({fill:"currentColor","clip-path":"url(#".concat(pi,")"),mask:"url(#".concat(si,")")},Ya)}),{children:C,attributes:E}}(Lo):function(p){var C=p.children,E=p.attributes,P=p.main,z=p.transform,ye=Ao(p.styles);if(ye.length>0&&(E.style=ye),qs(z)){var Oe=Wu({transform:z,containerWidth:P.width,iconWidth:P.width});C.push({tag:"g",attributes:Nn({},Oe.outer),children:[{tag:"g",attributes:Nn({},Oe.inner),children:[{tag:P.icon.tag,children:P.icon.children,attributes:Nn({},P.icon.attributes,Oe.path)}]}]})}else C.push(P.icon);return{children:C,attributes:E}}(Lo),Lc=Fl.attributes;return Lo.children=Fl.children,Lo.attributes=Lc,Oe?function(p){var E=p.iconName,P=p.children,de=p.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Nn({},p.attributes,{id:!0===de?"".concat(p.prefix,"-").concat(yn.familyPrefix,"-").concat(E):de}),children:P}]}]}(Lo):function(p){var C=p.children,E=p.main,P=p.mask,z=p.attributes,de=p.styles,ye=p.transform;if(qs(ye)&&E.found&&!P.found){var Pt={x:E.width/E.height/2,y:.5};z.style=Ao(Nn({},de,{"transform-origin":"".concat(Pt.x+ye.x/16,"em ").concat(Pt.y+ye.y/16,"em")}))}return[{tag:"svg",attributes:z,children:C}]}(Lo)}var gs=function(C,E,P,z){var tt,Pt,on,de=Object.keys(C),ye=de.length,Oe=void 0!==z?function(C,E){return function(P,z,de,ye){return C.call(E,P,z,de,ye)}}(E,z):E;for(void 0===P?(tt=1,on=C[de[0]]):(tt=0,on=P);tt<ye;tt++)on=Oe(on,C[Pt=de[tt]],Pt,C);return on};function Oi(p,C){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},P=E.skipHooks,z=void 0!==P&&P,de=Object.keys(C).reduce(function(ye,Oe){var tt=C[Oe];return tt.icon?ye[tt.iconName]=tt.icon:ye[Oe]=tt,ye},{});"function"!=typeof Ps.hooks.addPack||z?Ps.styles[p]=Nn({},Ps.styles[p]||{},de):Ps.hooks.addPack(p,de),"fas"===p&&Oi("fa",C)}var Ku=Ps.styles,pl=Ps.shims,gl=function(){var C=function(z){return gs(Ku,function(de,ye,Oe){return de[Oe]=gs(ye,z,{}),de},{})};C(function(P,z,de){return z[3]&&(P[z[3]]=de),P}),C(function(P,z,de){var ye=z[2];return P[de]=de,ye.forEach(function(Oe){P[Oe]=de}),P});var E="far"in Ku;gs(pl,function(P,z){var ye=z[1];return"far"===ye&&!E&&(ye="fas"),P[z[0]]={prefix:ye,iconName:z[2]},P},{})};function Za(p){var C=p.tag,E=p.attributes,P=void 0===E?{}:E,z=p.children,de=void 0===z?[]:z;return"string"==typeof p?$u(p):"<".concat(C," ").concat(function(p){return Object.keys(p||{}).reduce(function(C,E){return C+"".concat(E,'="').concat($u(p[E]),'" ')},"").trim()}(P),">").concat(de.map(Za).join(""),"</").concat(C,">")}function f(p){this.name="MissingIcon",this.message=p||"Icon unavailable",this.stack=(new Error).stack}gl(),(f.prototype=Object.create(Error.prototype)).constructor=f;var D={fill:"currentColor"},V={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ne=(Nn({},D,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Nn({},V,{attributeName:"opacity"}));function Vi(p){var C=p[0],E=p[1],de=hs(p.slice(4),1)[0];return{found:!0,width:C,height:E,icon:Array.isArray(de)?{tag:"g",attributes:{class:"".concat(yn.familyPrefix,"-").concat(Os.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(Os.SECONDARY),fill:"currentColor",d:de[0]}},{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(Os.PRIMARY),fill:"currentColor",d:de[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:de}}}}function Aa(){yn.autoAddCss&&!yo&&(function(p){if(p&&Qi){var C=pr.createElement("style");C.setAttribute("type","text/css"),C.innerHTML=p;for(var E=pr.head.childNodes,P=null,z=E.length-1;z>-1;z--){var de=E[z],ye=(de.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(ye)>-1&&(P=de)}pr.head.insertBefore(C,P)}}(function(){var p="fa",C=g,E=yn.familyPrefix,P=yn.replacementClass,z='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(E!==p||P!==C){var de=new RegExp("\\.".concat(p,"\\-"),"g"),ye=new RegExp("\\--".concat(p,"\\-"),"g"),Oe=new RegExp("\\.".concat(C),"g");z=z.replace(de,".".concat(E,"-")).replace(ye,"--".concat(E,"-")).replace(Oe,".".concat(P))}return z}()),yo=!0)}function tu(p,C){return Object.defineProperty(p,"abstract",{get:C}),Object.defineProperty(p,"html",{get:function(){return p.abstract.map(function(P){return Za(P)})}}),Object.defineProperty(p,"node",{get:function(){if(Qi){var P=pr.createElement("div");return P.innerHTML=p.html,P.children}}}),p}Nn({},D,{cx:"256",cy:"364",r:"28"}),Nn({},V,{attributeName:"r",values:"28;14;28;28;14;28;"}),Nn({},Ne,{values:"1;0;1;1;0;1;"}),Nn({},D,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Nn({},Ne,{values:"1;0;0;0;0;1;"}),Nn({},D,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Nn({},Ne,{values:"0;0;1;1;0;0;"});new(function(){function p(){(function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")})(this,p),this.definitions={}}return function(p,C,E){C&&Uu(p.prototype,C)}(p,[{key:"add",value:function(){for(var E=this,P=arguments.length,z=new Array(P),de=0;de<P;de++)z[de]=arguments[de];var ye=z.reduce(this._pullDefinitions,{});Object.keys(ye).forEach(function(Oe){E.definitions[Oe]=Nn({},E.definitions[Oe]||{},ye[Oe]),Oi(Oe,ye[Oe]),gl()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(E,P){var z=P.prefix&&P.iconName&&P.icon?{0:P}:P;return Object.keys(z).map(function(de){var ye=z[de],Oe=ye.prefix,tt=ye.iconName,Pt=ye.icon;E[Oe]||(E[Oe]={}),E[Oe][tt]=Pt}),E}}]),p}());var yo=!1;let Pi=(()=>{class p{}return p.\u0275fac=function(E){return new(E||p)},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({}),p})(),Dl=(()=>{class p{}return p.\u0275fac=function(E){return new(E||p)},p.\u0275mod=I.oAB({type:p,bootstrap:[ge]}),p.\u0275inj=I.cJS({providers:[],imports:[[Mr,ma,te.Aw.forRoot(Ko),ds.forRoot([so,qi]),Dn.hO.initializeApp(Wi_firebase),wo.FT.instrument({logOnly:true}),Pi]]}),p})();(0,I.G48)(),er().bootstrapModule(Dl).catch(p=>console.error(p))},4762:(_e,ne,M)=>{"use strict";M.d(ne,{ZT:()=>I,_T:()=>F,mG:()=>G,Jh:()=>Y,XA:()=>B,CR:()=>se,ev:()=>Me});var b=function(ke,Ue){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,be){we.__proto__=be}||function(we,be){for(var je in be)Object.prototype.hasOwnProperty.call(be,je)&&(we[je]=be[je])})(ke,Ue)};function I(ke,Ue){if("function"!=typeof Ue&&null!==Ue)throw new TypeError("Class extends value "+String(Ue)+" is not a constructor or null");function we(){this.constructor=ke}b(ke,Ue),ke.prototype=null===Ue?Object.create(Ue):(we.prototype=Ue.prototype,new we)}function F(ke,Ue){var we={};for(var be in ke)Object.prototype.hasOwnProperty.call(ke,be)&&Ue.indexOf(be)<0&&(we[be]=ke[be]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(be=Object.getOwnPropertySymbols(ke);je<be.length;je++)Ue.indexOf(be[je])<0&&Object.prototype.propertyIsEnumerable.call(ke,be[je])&&(we[be[je]]=ke[be[je]])}return we}function G(ke,Ue,we,be){return new(we||(we=Promise))(function(Se,pt){function Et(Ct){try{Tt(be.next(Ct))}catch(Ft){pt(Ft)}}function Qt(Ct){try{Tt(be.throw(Ct))}catch(Ft){pt(Ft)}}function Tt(Ct){Ct.done?Se(Ct.value):function(Se){return Se instanceof we?Se:new we(function(pt){pt(Se)})}(Ct.value).then(Et,Qt)}Tt((be=be.apply(ke,Ue||[])).next())})}function Y(ke,Ue){var be,je,Se,pt,we={label:0,sent:function(){if(1&Se[0])throw Se[1];return Se[1]},trys:[],ops:[]};return pt={next:Et(0),throw:Et(1),return:Et(2)},"function"==typeof Symbol&&(pt[Symbol.iterator]=function(){return this}),pt;function Et(Tt){return function(Ct){return function(Tt){if(be)throw new TypeError("Generator is already executing.");for(;we;)try{if(be=1,je&&(Se=2&Tt[0]?je.return:Tt[0]?je.throw||((Se=je.return)&&Se.call(je),0):je.next)&&!(Se=Se.call(je,Tt[1])).done)return Se;switch(je=0,Se&&(Tt=[2&Tt[0],Se.value]),Tt[0]){case 0:case 1:Se=Tt;break;case 4:return we.label++,{value:Tt[1],done:!1};case 5:we.label++,je=Tt[1],Tt=[0];continue;case 7:Tt=we.ops.pop(),we.trys.pop();continue;default:if(!(Se=(Se=we.trys).length>0&&Se[Se.length-1])&&(6===Tt[0]||2===Tt[0])){we=0;continue}if(3===Tt[0]&&(!Se||Tt[1]>Se[0]&&Tt[1]<Se[3])){we.label=Tt[1];break}if(6===Tt[0]&&we.label<Se[1]){we.label=Se[1],Se=Tt;break}if(Se&&we.label<Se[2]){we.label=Se[2],we.ops.push(Tt);break}Se[2]&&we.ops.pop(),we.trys.pop();continue}Tt=Ue.call(ke,we)}catch(Ct){Tt=[6,Ct],je=0}finally{be=Se=0}if(5&Tt[0])throw Tt[1];return{value:Tt[0]?Tt[1]:void 0,done:!0}}([Tt,Ct])}}}function B(ke){var Ue="function"==typeof Symbol&&Symbol.iterator,we=Ue&&ke[Ue],be=0;if(we)return we.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&be>=ke.length&&(ke=void 0),{value:ke&&ke[be++],done:!ke}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(ke,Ue){var we="function"==typeof Symbol&&ke[Symbol.iterator];if(!we)return ke;var je,pt,be=we.call(ke),Se=[];try{for(;(void 0===Ue||Ue-- >0)&&!(je=be.next()).done;)Se.push(je.value)}catch(Et){pt={error:Et}}finally{try{je&&!je.done&&(we=be.return)&&we.call(be)}finally{if(pt)throw pt.error}}return Se}function Me(ke,Ue,we){if(we||2===arguments.length)for(var Se,be=0,je=Ue.length;be<je;be++)(Se||!(be in Ue))&&(Se||(Se=Array.prototype.slice.call(Ue,0,be)),Se[be]=Ue[be]);return ke.concat(Se||Array.prototype.slice.call(Ue))}},8239:(_e,ne,M)=>{"use strict";function b(fe,F,re,Z,ee,G,Y){try{var U=fe[G](Y),J=U.value}catch(B){return void re(B)}U.done?F(J):Promise.resolve(J).then(Z,ee)}function I(fe){return function(){var F=this,re=arguments;return new Promise(function(Z,ee){var G=fe.apply(F,re);function Y(J){b(G,Z,ee,Y,U,"next",J)}function U(J){b(G,Z,ee,Y,U,"throw",J)}Y(void 0)})}}M.d(ne,{Z:()=>I})}},_e=>{_e(_e.s=8698)}]);