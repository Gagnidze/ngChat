(self.webpackChunkng_chat=self.webpackChunkng_chat||[]).push([[179],{8255:Q=>{function B(D){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+D+"'");throw d.code="MODULE_NOT_FOUND",d})}B.keys=()=>[],B.resolve=B,B.id=8255,Q.exports=B},7716:(Q,B,D)=>{"use strict";D.d(B,{deG:()=>zl,tb:()=>Cy,AFp:()=>Ei,ip1:()=>ot,CZH:()=>$r,hGG:()=>Gy,z2F:()=>vs,sBO:()=>P_,Sil:()=>Xu,_Vd:()=>al,EJc:()=>Iy,SBq:()=>Br,qLn:()=>lu,vpe:()=>si,gxx:()=>$a,tBr:()=>Ls,XFs:()=>Ue,OlP:()=>$t,zs3:()=>Jt,ZZ4:()=>ul,aQg:()=>vp,soG:()=>$p,YKP:()=>bp,v3s:()=>qp,h0i:()=>to,PXZ:()=>T0,R0b:()=>Gr,FiY:()=>Pr,Lbi:()=>Hp,g9A:()=>m0,Qsj:()=>Fd,FYo:()=>Hu,JOm:()=>cs,Tiy:()=>$u,q3G:()=>In,PiD:()=>So,tp0:()=>_r,EAV:()=>sA,Rgc:()=>Vd,dDg:()=>C0,DyG:()=>xs,q4F:()=>Hr,GfV:()=>mp,s_b:()=>Ip,ifc:()=>Pe,eFA:()=>Py,G48:()=>My,Gpc:()=>k,X6Q:()=>Yp,_c5:()=>ff,VLi:()=>qT,c2e:()=>rf,zSh:()=>yh,wAp:()=>qe,vHH:()=>Ce,EiD:()=>nI,mCW:()=>Oo,qzn:()=>m,JVY:()=>T,pB0:()=>Ve,eBb:()=>le,L6k:()=>L,LAX:()=>Ae,cg1:()=>o_,Tjo:()=>V0,kL8:()=>a_,yhl:()=>C,dqk:()=>Lt,sIi:()=>Ys,CqO:()=>Ou,QGY:()=>kh,F4k:()=>Ui,RDi:()=>cc,AaK:()=>R,z3N:()=>p,qOj:()=>Ch,TTD:()=>da,_Bn:()=>D_,xp6:()=>Xg,uIk:()=>Ah,ekj:()=>nl,Suo:()=>kp,Xpm:()=>lt,lG2:()=>la,Yz7:()=>Ft,cJS:()=>Gt,oAB:()=>zi,Yjl:()=>Ki,Y36:()=>Vi,_UZ:()=>hC,qZA:()=>Gm,TgZ:()=>Ph,EpF:()=>md,n5z:()=>Mi,Ikx:()=>Zh,LFG:()=>fn,$8M:()=>xn,NdJ:()=>ti,CRH:()=>Yb,oxw:()=>_C,Hsn:()=>Km,F$t:()=>zm,Q6J:()=>Qa,iGM:()=>ly,MAs:()=>nC,CHM:()=>ma,oJD:()=>rI,LSH:()=>Av,kYT:()=>oo,YNc:()=>tC,_uU:()=>PC,Oqu:()=>n_,hij:()=>Ed});var d=D(9765),N=D(5319),Y=D(8891),q=D(6682),$=D(8819);function F(t){for(let n in t)if(t[n]===F)return n;throw Error("Could not find renamed property on target object.")}function j(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function x(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const S=F({__forward_ref__:F});function k(t){return t.__forward_ref__=k,t.toString=function(){return R(this())},t}function O(t){return H(t)?t():t}function H(t){return"function"==typeof t&&t.hasOwnProperty(S)&&t.__forward_ref__===k}class Ce extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}function ye(t,n){const s=n?` in ${n}`:"";throw new Ce("201",`No provider for ${be(t)} found${s}`)}function st(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function qt(t){return Gn(t,ai)||Gn(t,li)}function Gn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dr(t){return t&&(t.hasOwnProperty(zn)||t.hasOwnProperty(Tr))?t[zn]:null}const ai=F({\u0275prov:F}),zn=F({\u0275inj:F}),li=F({ngInjectableDef:F}),Tr=F({ngInjectorDef:F});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let _n;function Bn(t){const n=_n;return _n=t,n}function Xe(t,n,s){const a=qt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ue.Optional?null:void 0!==n?n:void ye(R(t),"Injector")}function Ct(t){return{toString:t}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Ge="undefined"!=typeof globalThis&&globalThis,Cs="undefined"!=typeof window&&window,ui="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sn="undefined"!=typeof global&&global,Lt=Ge||Sn||Cs||ui,jt={},K=[],G=F({\u0275cmp:F}),ne=F({\u0275dir:F}),fe=F({\u0275pipe:F}),te=F({\u0275mod:F}),xe=F({\u0275loc:F}),je=F({\u0275fac:F}),mt=F({__NG_ELEMENT_ID__:F});let Tt=0;function lt(t){return Ct(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pe.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,h=t.pipes;return a.id+=Tt++,a.inputs=aa(t.inputs,s),a.outputs=aa(t.outputs),c&&c.forEach(_=>_(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Hn):null,a.pipeDefs=h?()=>("function"==typeof h?h():h).map(Cn):null,a})}function Hn(t){return Mn(t)||function(t){return t[ne]||null}(t)}function Cn(t){return function(t){return t[fe]||null}(t)}const Kr={};function zi(t){return Ct(()=>{const n={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Kr[t.id]=t.type),n})}function oo(t,n){return Ct(()=>{const s=Yn(t,!0);s.declarations=n.declarations||K,s.imports=n.imports||K,s.exports=n.exports||K})}function aa(t,n){if(null==t)return jt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,n&&(n[l]=c)}return s}const la=lt;function Ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[G]||null}function Yn(t,n){const s=t[te]||null;if(!s&&!0===n)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return s}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zt(t){return Array.isArray(t)&&!0===t[1]}function xt(t){return 0!=(8&t.flags)}function sn(t){return 2==(2&t.flags)}function Yi(t){return 1==(1&t.flags)}function dr(t){return null!==t.template}function un(t){return 0!=(512&t[2])}function Or(t,n){return t.hasOwnProperty(je)?t[je]:null}class ug{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function da(){return ac}function ac(t){return t.type.prototype.ngOnChanges&&(t.setInput=lc),Cf}function Cf(){const t=bf(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===jt)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function lc(t,n,s,a){const l=bf(t)||function(t,n){return t[fr]=n}(t,{previous:jt,current:null}),c=l.current||(l.current={}),h=l.previous,_=this.declaredInputs[s],E=h[_];c[_]=new ug(E&&E.currentValue,n,h===jt),t[a]=n}da.ngInherit=!0;const fr="__ngSimpleChanges__";function bf(t){return t[fr]||null}let fo;function cc(t){fo=t}function bl(){return void 0!==fo?fo:"undefined"!=typeof document?document:void 0}function on(t){return!!t.listen}const qi={createRenderer:(t,n)=>bl()};function en(t){for(;Array.isArray(t);)t=t[0];return t}function fa(t,n){return en(n[t])}function rr(t,n){return en(n[t.index])}function ha(t,n){return t.data[n]}function Qn(t,n){const s=n[t];return Vt(s)?s:s[0]}function dg(t){return 4==(4&t[2])}function Dl(t){return 128==(128&t[2])}function Di(t,n){return null==n?null:t[n]}function pa(t){t[18]=0}function pc(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Qe={lFrame:mg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Df(){return Qe.bindingsEnabled}function De(){return Qe.lFrame.lView}function wt(){return Qe.lFrame.tView}function ma(t){return Qe.lFrame.contextLView=t,t[8]}function cn(){let t=yc();for(;null!==t&&64===t.type;)t=t.parent;return t}function yc(){return Qe.lFrame.currentTNode}function xr(t,n){const s=Qe.lFrame;s.currentTNode=t,s.isParent=n}function Tl(){return Qe.lFrame.isParent}function po(){Qe.lFrame.isParent=!1}function Al(){return Qe.isInCheckNoChangesMode}function go(t){Qe.isInCheckNoChangesMode=t}function di(){return Qe.lFrame.bindingIndex++}function Sl(t,n){const s=Qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ec(n)}function Ec(t){Qe.lFrame.currentDirectiveIndex=t}function Ol(){return Qe.lFrame.currentQueryIndex}function _a(t){Qe.lFrame.currentQueryIndex=t}function ws(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Cc(t,n,s){if(s&Ue.SkipSelf){let l=n,c=t;for(;!(l=l.parent,null!==l||s&Ue.Host||(l=ws(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;n=l,t=c}const a=Qe.lFrame=Sf();return a.currentTNode=n,a.lView=t,!0}function Rl(t){const n=Sf(),s=t[1];Qe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Sf(){const t=Qe.lFrame,n=null===t?null:t.child;return null===n?mg(t):n}function mg(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Mf(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _g=Mf;function xl(){const t=Mf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jn(){return Qe.lFrame.selectedIndex}function mo(t){Qe.lFrame.selectedIndex=t}function vn(){const t=Qe.lFrame;return ha(t.tView,t.selectedIndex)}function Pl(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:_,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:w}=c;h&&(t.contentHooks||(t.contentHooks=[])).push(-s,h),_&&((t.contentHooks||(t.contentHooks=[])).push(s,_),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,_)),E&&(t.viewHooks||(t.viewHooks=[])).push(-s,E),b&&((t.viewHooks||(t.viewHooks=[])).push(s,b),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,b)),null!=w&&(t.destroyHooks||(t.destroyHooks=[])).push(s,w)}}function yo(t,n,s){Rf(t,n,3,s)}function vo(t,n,s,a){(3&t[2])===s&&Rf(t,n,s,a)}function ya(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Rf(t,n,s,a){const c=null!=a?a:-1,h=n.length-1;let _=0;for(let E=void 0!==a?65535&t[18]:0;E<h;E++)if("number"==typeof n[E+1]){if(_=n[E],null!=a&&_>=a)break}else n[E]<0&&(t[18]+=65536),(_<c||-1==c)&&(Nl(t,s,n,E),t[18]=(4294901760&t[18])+E+2),E++}function Nl(t,n,s,a){const l=s[a]<0,c=s[a+1],_=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(_)}finally{}}}else try{c.call(_)}finally{}}class kl{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ts(t,n,s){const a=on(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const h=s[l++],_=s[l++],E=s[l++];a?t.setAttribute(n,_,E,h):n.setAttributeNS(h,_,E)}else{const h=c,_=s[++l];zt(h)?a&&t.setProperty(n,h,_):a?t.setAttribute(n,h,_):n.setAttribute(h,_),l++}}return l}function Pf(t){return 3===t||4===t||6===t}function zt(t){return 64===t.charCodeAt(0)}function Vl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?s=l:0===s||Ul(t,s,l,null,-1===s||2===s?n[++a]:null)}}return t}function Ul(t,n,s,a,l){let c=0,h=t.length;if(-1===n)h=-1;else for(;c<t.length;){const _=t[c++];if("number"==typeof _){if(_===n){h=-1;break}if(_>n){h=c-1;break}}}for(;c<t.length;){const _=t[c];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==h&&(t.splice(h,0,n),c=h+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function jl(t){return-1!==t}function Si(t){return 32767&t}function va(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ic=!0;function Bl(t){const n=Ic;return Ic=t,n}let Dc=0;function As(t,n){const s=gn(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Tc(a.data,t),Tc(n,null),Tc(a.blueprint,null));const l=ir(t,n),c=t.injectorIndex;if(jl(l)){const h=Si(l),_=va(l,n),E=_[1].data;for(let b=0;b<8;b++)n[c+b]=_[h+b]|E[h+b]}return n[c+8]=l,c}function Tc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function gn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ir(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=n;for(;null!==l;){const c=l[1],h=c.type;if(a=2===h?c.declTNode:1===h?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Zi(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mt)&&(a=s[mt]),null==a&&(a=s[mt]=Dc++);const l=255&a;n.data[t+(l>>5)]|=1<<l}(t,n,s)}function kf(t,n,s){if(s&Ue.Optional)return t;ye(n,"NodeInjector")}function Ff(t,n,s,a){if(s&Ue.Optional&&void 0===a&&(a=null),0==(s&(Ue.Self|Ue.Host))){const l=t[9],c=Bn(void 0);try{return l?l.get(n,a,s&Ue.Optional):Xe(n,a,s&Ue.Optional)}finally{Bn(c)}}return kf(a,n,s)}function Hl(t,n,s,a=Ue.Default,l){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mt)?t[mt]:void 0;return"number"==typeof n?n>=0?255&n:Ss:n}(s);if("function"==typeof c){if(!Cc(n,t,a))return a&Ue.Host?kf(l,s,a):Ff(n,s,a,l);try{const h=c(a);if(null!=h||a&Ue.Optional)return h;ye(s)}finally{_g()}}else if("number"==typeof c){let h=null,_=gn(t,n),E=-1,b=a&Ue.Host?n[16][6]:null;for((-1===_||a&Ue.SkipSelf)&&(E=-1===_?ir(t,n):n[_+8],-1!==E&&Sc(a,!1)?(h=n[1],_=Si(E),n=va(E,n)):_=-1);-1!==_;){const w=n[1];if(Ac(c,_,w.data)){const M=fi(_,n,s,h,a,b);if(M!==$l)return M}E=n[_+8],-1!==E&&Sc(a,n[1].data[_+8]===b)&&Ac(c,_,n)?(h=w,_=Si(E),n=va(E,n)):_=-1}}}return Ff(n,s,a,l)}const $l={};function Ss(){return new hi(cn(),De())}function fi(t,n,s,a,l,c){const h=n[1],_=h.data[t+8],w=Wl(_,h,s,null==a?sn(_)&&Ic:a!=h&&0!=(3&_.type),l&Ue.Host&&c===_);return null!==w?Qi(n,h,w,_):$l}function Wl(t,n,s,a,l){const c=t.providerIndexes,h=n.data,_=1048575&c,E=t.directiveStart,w=c>>20,P=l?_+w:t.directiveEnd;for(let z=a?_:_+w;z<P;z++){const Z=h[z];if(z<E&&s===Z||z>=E&&Z.type===s)return z}if(l){const z=h[E];if(z&&dr(z)&&z.type===s)return E}return null}function Qi(t,n,s,a){let l=t[s];const c=n.data;if(function(t){return t instanceof kl}(l)){const h=l;h.resolving&&function(t,n){throw new Ce("200",`Circular dependency in DI detected for ${t}`)}(be(c[s]));const _=Bl(h.canSeeViewProviders);h.resolving=!0;const E=h.injectImpl?Bn(h.injectImpl):null;Cc(t,a,Ue.Default);try{l=t[s]=h.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=n.type.prototype;if(a){const h=ac(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==E&&Bn(E),Bl(_),h.resolving=!1,_g()}}return l}function Ac(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Sc(t,n){return!(t&Ue.Self||t&Ue.Host&&n)}class hi{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return Hl(this._tNode,this._lView,n,void 0,s)}}function Mi(t){return Ct(()=>{const n=t.prototype.constructor,s=n[je]||Ms(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[je]||Ms(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Ms(t){return H(t)?()=>{const n=Ms(O(t));return n&&n()}:Or(t)}function xn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(Pf(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===n)return s[l+1];l+=2}}}return null}(cn(),t)}const Eo="__parameters__";function Ji(t,n,s){return Ct(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(n);function l(...c){if(this instanceof l)return a.apply(this,c),this;const h=new l(...c);return _.annotation=h,_;function _(E,b,w){const M=E.hasOwnProperty(Eo)?E[Eo]:Object.defineProperty(E,Eo,{value:[]})[Eo];for(;M.length<=w;)M.push(null);return(M[w]=M[w]||[]).push(h),E}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class $t{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ft({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zl=new $t("AnalyzeForEntryComponents"),xs=Function;function Qt(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Qt(a,n)):n!==t&&n.push(a)}return n}function Nn(t,n){t.forEach(s=>Array.isArray(s)?Nn(s,n):n(s))}function Ia(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Xi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ps(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function gr(t,n,s){let a=Ns(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let l=t.length;if(l==n)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function jf(t,n){const s=Ns(t,n);if(s>=0)return t[1|s]}function Ns(t,n){return function(t,n,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),h=t[c<<s];if(n===h)return c<<s;h>n?l=c:a=c+1}return~(l<<s)}(t,n,1)}const es={},Lc="__NG_DI_FLAG__",ts="ngTempTokenPath",Vc=/\n/gm,Aa="__source",Sa=F({provide:String,useValue:F});let ks;function Fs(t){const n=ks;return ks=t,n}function Uc(t,n=Ue.Default){if(void 0===ks)throw new Error("inject() must be called from an injection context");return null===ks?Xe(t,void 0,n):ks.get(t,n&Ue.Optional?null:void 0,n)}function fn(t,n=Ue.Default){return(_n||Uc)(O(t),n)}function mr(t){const n=[];for(let s=0;s<t.length;s++){const a=O(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,c=Ue.Default;for(let h=0;h<a.length;h++){const _=a[h],E=To(_);"number"==typeof E?-1===E?l=_.token:c|=E:l=_}n.push(fn(l,c))}else n.push(fn(a))}return n}function ns(t,n){return t[Lc]=n,t.prototype[Lc]=n,t}function To(t){return t[Lc]}function Ao(t,n,s,a){const l=t[ts];throw n[Aa]&&l.unshift(n[Aa]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=R(n);if(Array.isArray(n))l=n.map(R).join(" -> ");else if("object"==typeof n){let c=[];for(let h in n)if(n.hasOwnProperty(h)){let _=n[h];c.push(h+":"+("string"==typeof _?JSON.stringify(_):R(_)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Vc,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[ts]=null,t}const Ls=ns(Ji("Inject",t=>({token:t})),-1),Pr=ns(Ji("Optional"),8),So=ns(Ji("Self"),2),_r=ns(Ji("SkipSelf"),4);let Pa,tu;function mi(t){var n;return(null===(n=function(){if(void 0===Pa&&(Pa=null,Lt.trustedTypes))try{Pa=Lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Pa}())||void 0===n?void 0:n.createHTML(t))||t}function ru(t){var n;return(null===(n=function(){if(void 0===tu&&(tu=null,Lt.trustedTypes))try{tu=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return tu}())||void 0===n?void 0:n.createHTML(t))||t}class is{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $c extends is{getTypeName(){return"HTML"}}class xg extends is{getTypeName(){return"Style"}}class Kf extends is{getTypeName(){return"Script"}}class Pg extends is{getTypeName(){return"URL"}}class y extends is{getTypeName(){return"ResourceURL"}}function p(t){return t instanceof is?t.changingThisBreaksApplicationSecurity:t}function m(t,n){const s=C(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function C(t){return t instanceof is&&t.getTypeName()||null}function T(t){return new $c(t)}function L(t){return new xg(t)}function le(t){return new Kf(t)}function Ae(t){return new Pg(t)}function Ve(t){return new y(t)}class At{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(mi(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class hn{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=mi(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=mi(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let l=s.length-1;0<l;l--){const h=s.item(l).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ss=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oo(t){return(t=String(t)).match(ss)||t.match(Yf)?t:"unsafe:"+t}function Jr(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function os(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const su=Jr("area,br,col,hr,img,wbr"),Wc=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ka=Jr("rp,rt"),Gc=os(su,os(Wc,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),os(ka,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),os(ka,Wc)),ou=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zf=Jr("srcset"),Iv=os(ou,Zf,Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fg=Jr("script,style,template");class eI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Gc.hasOwnProperty(s))return this.sanitizedSomething=!0,!Fg.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let l=0;l<a.length;l++){const c=a.item(l),h=c.name,_=h.toLowerCase();if(!Iv.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let E=c.value;ou[_]&&(E=Oo(E)),Zf[_]&&(t=E,E=(t=String(t)).split(",").map(n=>Oo(n.trim())).join(", ")),this.buf.push(" ",h,'="',Lg(E),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Gc.hasOwnProperty(s)&&!su.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Lg(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const wv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tI=/([^\#-~ |!])/g;function Lg(t){return t.replace(/&/g,"&amp;").replace(wv,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(tI,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vg;function nI(t,n){let s=null;try{Vg=Vg||function(t){const n=new hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(mi(""),"text/html")}catch(t){return!1}}()?new At(n):n}(t);let a=n?String(n):"";s=Vg.getInertBodyElement(a);let l=5,c=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=c,c=s.innerHTML,s=Vg.getInertBodyElement(a)}while(a!==c);return mi((new eI).sanitizeChildren(Dv(s)||s))}finally{if(s){const a=Dv(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Dv(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function rI(t){const n=zc();return n?ru(n.sanitize(In.HTML,t)||""):m(t,"HTML")?ru(p(t)):nI(bl(),ce(t))}function Av(t){const n=zc();return n?n.sanitize(In.URL,t)||"":m(t,"URL")?p(t):Oo(ce(t))}function zc(){const t=De();return t&&t[12]}const Kc="__ngContext__";function kn(t,n){t[Kc]=n}function qc(t){const n=function(t){return t[Kc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Qc(t){return t.ngOriginalError}function cI(t,...n){t.error(...n)}class lu{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),l=(t=n)&&t.ngErrorLogger||cI;var t;l(this._console,"ERROR",n),s&&l(this._console,"ORIGINAL ERROR",s),a&&l(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(Qc(n)):null}_findOriginalError(n){let s=n&&Qc(n);for(;s&&Qc(s);)s=Qc(s);return s||null}}const Vv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function us(t){return t instanceof Function?t():t}var cs=(()=>((cs=cs||{})[cs.Important=1]="Important",cs[cs.DashCase=2]="DashCase",cs))();function Jf(t,n){return undefined(t,n)}function Xc(t){const n=t[3];return Zt(n)?n[3]:n}function vt(t){return Va(t[13])}function Wg(t){return Va(t[4])}function Va(t){for(;null!==t&&!Zt(t);)t=t[4];return t}function Po(t,n,s,a,l){if(null!=a){let c,h=!1;Zt(a)?c=a:Vt(a)&&(h=!0,a=a[0]);const _=en(a);0===t&&null!==s?null==l?ed(n,s,_):No(n,s,_,l||null,!0):1===t&&null!==s?No(n,s,_,l||null,!0):2===t?function(t,n,s){const a=Fo(t,n);a&&function(t,n,s,a){on(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,_,h):3===t&&n.destroyNode(_),null!=c&&function(t,n,s,a,l){const c=s[7];c!==en(s)&&Po(n,t,a,c,l);for(let _=10;_<s.length;_++){const E=s[_];Uo(E[1],E,t,n,a,c)}}(n,t,c,s,l)}}function yi(t,n,s){return on(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function zv(t,n){const s=t[9],a=s.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,pc(l,-1)),s.splice(a,1)}function zg(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&zv(l,a),n>0&&(t[s-1][4]=a[4]);const c=Xi(t,10+n);!function(t,n){Uo(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const h=c[19];null!==h&&h.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Kg(t,n){if(!(256&n[2])){const s=n[11];on(s)&&s.destroyNode&&Uo(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Xf(t[1],t);for(;n;){let s=null;if(Vt(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Vt(n)&&Xf(n[1],n),n=n[3];null===n&&(n=t),Vt(n)&&Xf(n[1],n),s=n&&n[4]}n=s}}(n)}}function Xf(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=n[s[a]];if(!(l instanceof kl)){const c=s[a+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const _=l[c[h]],E=c[h+1];try{E.call(_)}finally{}}else try{c.call(l)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const h=s[c+1],_="function"==typeof h?h(n):en(n[h]),E=a[l=s[c+2]],b=s[c+3];"boolean"==typeof b?_.removeEventListener(s[c],E,b):b>=0?a[l=b]():a[l=-b].unsubscribe(),c+=2}else{const h=a[l=s[c+1]];s[c].call(h)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&on(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Zt(n[3])){s!==n[3]&&zv(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Yv(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Pe.None||l===Pe.Emulated)return null}return rr(a,s)}(t,n.parent,s)}function No(t,n,s,a,l){on(t)?t.insertBefore(n,s,a,l):n.insertBefore(s,a,l)}function ed(t,n,s){on(t)?t.appendChild(n,s):n.appendChild(s)}function ko(t,n,s,a,l){null!==a?No(t,n,s,a,l):ed(t,n,s)}function Fo(t,n){return on(t)?t.parentNode(n):n.parentNode}function Lo(t,n,s){return eh(t,n,s)}let eh=function(t,n,s){return 40&t.type?rr(t,s):null};function Ua(t,n,s,a){const l=Yv(t,a,n),c=n[11],_=Lo(a.parent||n[6],a,n);if(null!=l)if(Array.isArray(s))for(let E=0;E<s.length;E++)ko(c,l,s[E],_,!1);else ko(c,l,s,_,!1)}function Vo(t,n){if(null!==n){const s=n.type;if(3&s)return rr(n,t);if(4&s)return uu(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Vo(t,a);{const l=t[n.index];return Zt(l)?uu(-1,l):en(l)}}if(32&s)return Jf(n,t)()||en(t[n.index]);{const a=qg(t,n);return null!==a?Array.isArray(a)?a[0]:Vo(Xc(t[16]),a):Vo(t,n.next)}}return null}function qg(t,n){return null!==n?t[16][6].projection[n.projection]:null}function uu(t,n){const s=10+t+1;if(s<n.length){const a=n[s],l=a[1].firstChild;if(null!==l)return Vo(a,l)}return n[7]}function td(t,n,s,a,l,c,h){for(;null!=s;){const _=a[s.index],E=s.type;if(h&&0===n&&(_&&kn(en(_),a),s.flags|=4),64!=(64&s.flags))if(8&E)td(t,n,s.child,a,l,c,!1),Po(n,t,l,_,c);else if(32&E){const b=Jf(s,a);let w;for(;w=b();)Po(n,t,l,w,c);Po(n,t,l,_,c)}else 16&E?Zg(t,n,a,s,l,c):Po(n,t,l,_,c);s=h?s.projectionNext:s.next}}function Uo(t,n,s,a,l,c){td(s,a,t.firstChild,n,l,c,!1)}function Zg(t,n,s,a,l,c){const h=s[16],E=h[6].projection[a.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)Po(n,t,l,E[b],c);else td(t,n,E,h[3],l,c,!0)}function Xv(t,n,s){on(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function cu(t,n,s){on(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function eE(t,n,s){let a=t.length;for(;;){const l=t.indexOf(n,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=n.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const tE="ng-template";function bI(t,n,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==eE(l.toLowerCase(),n,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function nE(t){return 4===t.type&&t.value!==tE}function rE(t,n,s){return n===(4!==t.type||s?t.value:tE)}function Qg(t,n,s){let a=4;const l=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(Pf(t[n]))return n;return t.length}(l);let h=!1;for(let _=0;_<n.length;_++){const E=n[_];if("number"!=typeof E){if(!h)if(4&a){if(a=2|1&a,""!==E&&!rE(t,E,s)||""===E&&1===n.length){if(Xr(a))return!1;h=!0}}else{const b=8&a?E:n[++_];if(8&a&&null!==t.attrs){if(!bI(t.attrs,b,s)){if(Xr(a))return!1;h=!0}continue}const M=Us(8&a?"class":E,l,nE(t),s);if(-1===M){if(Xr(a))return!1;h=!0;continue}if(""!==b){let P;P=M>c?"":l[M+1].toLowerCase();const z=8&a?P:null;if(z&&-1!==eE(z,b,0)||2&a&&b!==P){if(Xr(a))return!1;h=!0}}}}else{if(!h&&!Xr(a)&&!Xr(E))return!1;if(h&&Xr(E))continue;h=!1,a=E|1&a}}return Xr(a)||h}function Xr(t){return 0==(1&t)}function Us(t,n,s,a){if(null===n)return-1;let l=0;if(a||!s){let c=!1;for(;l<n.length;){const h=n[l];if(h===t)return l;if(3===h||6===h)c=!0;else{if(1===h||2===h){let _=n[++l];for(;"string"==typeof _;)_=n[++l];continue}if(4===h)break;if(0===h){l+=4;continue}}l+=c?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function du(t,n,s=!1){for(let a=0;a<n.length;a++)if(Qg(t,n[a],s))return!0;return!1}function fu(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function Jg(t,n){return t?":not("+n.trim()+")":n}function wI(t){let n=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let h=t[s];if("string"==typeof h)if(2&a){const _=t[++s];l+="["+h+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?l+="."+h:4&a&&(l+=" "+h);else""!==l&&!Xr(h)&&(n+=Jg(c,l),l=""),a=h,c=c||!Xr(a);s++}return""!==l&&(n+=Jg(c,l)),n}const tt={};function Xg(t){rh(wt(),De(),Jn()+t,Al())}function rh(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&yo(n,c,s)}else{const c=t.preOrderHooks;null!==c&&vo(n,c,0,s)}mo(s)}function hu(t,n){return t<<17|n<<2}function xi(t){return t>>17&32767}function em(t){return 2|t}function js(t){return(131068&t)>>2}function tm(t,n){return-131069&t|n<<2}function ja(t){return 1|t}function pE(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const h=t.data[c];_a(l),h.contentQueries(2,n[c],c)}}}function mu(t,n,s,a,l,c,h,_,E,b){const w=n.blueprint.slice();return w[0]=l,w[2]=140|a,pa(w),w[3]=w[15]=t,w[8]=s,w[10]=h||t&&t[10],w[11]=_||t&&t[11],w[12]=E||t&&t[12]||null,w[9]=b||t&&t[9]||null,w[6]=c,w[16]=2==n.type?t[16]:w,w}function fs(t,n,s,a,l){let c=t.data[n];if(null===c)c=function(t,n,s,a,l){const c=yc(),h=Tl(),E=t.data[n]=function(t,n,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,s,n,a,l);return null===t.firstChild&&(t.firstChild=E),null!==c&&(h?null==c.child&&null!==E.parent&&(c.child=E):null===c.next&&(c.next=E)),E}(t,n,s,a,l),Qe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const h=function(){const t=Qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return xr(c,!0),c}function $s(t,n,s,a){if(0===s)return-1;const l=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function _u(t,n,s){Rl(n);try{const a=t.viewQuery;null!==a&&Tn(1,a,s);const l=t.template;null!==l&&mE(t,n,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pE(t,n),t.staticViewQueries&&Tn(2,t.viewQuery,s);const c=t.components;null!==c&&function(t,n){for(let s=0;s<n.length;s++)TE(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,xl()}}function yu(t,n,s,a){const l=n[2];if(256==(256&l))return;Rl(n);const c=Al();try{pa(n),function(t){Qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&mE(t,n,s,2,a);const h=3==(3&l);if(!c)if(h){const b=t.preOrderCheckHooks;null!==b&&yo(n,b,null)}else{const b=t.preOrderHooks;null!==b&&vo(n,b,0,null),ya(n,0)}if(function(t){for(let n=vt(t);null!==n;n=Wg(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&pc(c,1),l[2]|=1024}}}(n),function(t){for(let n=vt(t);null!==n;n=Wg(n))for(let s=10;s<n.length;s++){const a=n[s],l=a[1];Dl(a)&&yu(l,a,l.template,a[8])}}(n),null!==t.contentQueries&&pE(t,n),!c)if(h){const b=t.contentCheckHooks;null!==b&&yo(n,b)}else{const b=t.contentHooks;null!==b&&vo(n,b,1),ya(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)mo(~l);else{const c=l,h=s[++a],_=s[++a];Sl(h,c),_(2,n[c])}}}finally{mo(-1)}}(t,n);const _=t.components;null!==_&&function(t,n){for(let s=0;s<n.length;s++)HI(t,n[s])}(n,_);const E=t.viewQuery;if(null!==E&&Tn(2,E,a),!c)if(h){const b=t.viewCheckHooks;null!==b&&yo(n,b)}else{const b=t.viewHooks;null!==b&&vo(n,b,2),ya(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,pc(n[3],-1))}finally{xl()}}function MI(t,n,s,a){const l=n[10],c=!Al(),h=dg(n);try{c&&!h&&l.begin&&l.begin(),h&&_u(t,n,a),yu(t,n,s,a)}finally{c&&!h&&l.end&&l.end()}}function mE(t,n,s,a,l){const c=Jn(),h=2&a;try{mo(-1),h&&n.length>20&&rh(t,n,20,Al()),s(a,l)}finally{mo(c)}}function cm(t,n,s){!Df()||(function(t,n,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||As(s,n),kn(a,n);const h=s.initialInputs;for(let _=l;_<c;_++){const E=t.data[_],b=dr(E);b&&DE(n,s,E);const w=Qi(n,t,_,s);kn(w,n),null!==h&&VI(0,_-l,w,E,0,h),b&&(Qn(s.index,n)[8]=w)}}(t,n,s,rr(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,_=Qe.lFrame.currentDirectiveIndex;try{mo(h);for(let E=a;E<l;E++){const b=t.data[E],w=n[E];Ec(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&IE(b,w)}}finally{mo(-1),Ec(_)}}(t,n,s))}function od(t,n,s=rr){const a=n.localNames;if(null!==a){let l=n.index+1;for(let c=0;c<a.length;c+=2){const h=a[c+1],_=-1===h?s(n,t):t[h];t[l++]=_}}}function yE(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ad(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ad(t,n,s,a,l,c,h,_,E,b){const w=20+a,M=w+l,P=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:tt);return s}(w,M),z="function"==typeof b?b():b;return P[1]={type:t,blueprint:P,template:s,queries:null,viewQuery:_,declTNode:n,data:P.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:E,consts:z,incompleteFirstPass:!1}}function EE(t,n,s,a){const l=ph(n);null===s?l.push(a):(l.push(s),t.firstCreatePass&&gh(t).push(a,l.length-1))}function CE(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,l):s[a]=[n,l]}return s}function ei(t,n,s,a,l,c,h,_){const E=rr(n,s);let w,b=n.inputs;!_&&null!=b&&(w=b[a])?(SE(t,s,w,a,l),sn(n)&&function(t,n){const s=Qn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=h?h(l,n.value||"",a):l,on(c)?c.setProperty(E,a,l):zt(a)||(E.setProperty?E.setProperty(a,l):E[a]=l))}function dm(t,n,s,a){let l=!1;if(Df()){const c=function(t,n,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const h=a[c];du(s,h.selectors,!1)&&(l||(l=[]),Zi(As(s,n),t,h.type),dr(h)?(hm(t,s),l.unshift(h)):l.push(h))}return l}(t,n,s),h=null===a?null:{"":-1};if(null!==c){l=!0,pm(s,t.data.length,c.length);for(let w=0;w<c.length;w++){const M=c[w];M.providersResolver&&M.providersResolver(M)}let _=!1,E=!1,b=$s(t,n,c.length,null);for(let w=0;w<c.length;w++){const M=c[w];s.mergedAttrs=Vl(s.mergedAttrs,M.hostAttrs),gm(t,s,n,b,M),wE(b,M,h),null!==M.contentQueries&&(s.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=128);const P=M.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),_=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),E=!0),b++}!function(t,n){const a=n.directiveEnd,l=t.data,c=n.attrs,h=[];let _=null,E=null;for(let b=n.directiveStart;b<a;b++){const w=l[b],M=w.inputs,P=null===c||nE(n)?null:UI(M,c);h.push(P),_=CE(M,b,_),E=CE(w.outputs,b,E)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=16),_.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=_,n.outputs=E}(t,s)}h&&function(t,n,s){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const c=s[n[l+1]];if(null==c)throw new Ce("301",`Export of name '${n[l+1]}' not found!`);a.push(n[l],c)}}}(s,a,h)}return s.mergedAttrs=Vl(s.mergedAttrs,s.attrs),l}function fm(t,n,s,a,l,c){const h=c.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const E=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(_)!=E&&_.push(E),_.push(a,l,h)}}function IE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function hm(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function wE(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;dr(n)&&(s[""]=t)}}function pm(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function gm(t,n,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=Or(l.type)),h=new kl(c,dr(l),null);t.blueprint[a]=h,s[a]=h,fm(t,n,0,a,$s(t,s,l.hostVars,tt),l)}function DE(t,n,s){const a=rr(n,t),l=yE(s),c=t[10],h=Ws(t,mu(t,l,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=h}function hs(t,n,s,a,l,c){const h=rr(t,n);!function(t,n,s,a,l,c,h){if(null==c)on(t)?t.removeAttribute(n,l,s):n.removeAttribute(l);else{const _=null==h?ce(c):h(c,a||"",l);on(t)?t.setAttribute(n,l,_,s):s?n.setAttributeNS(s,l,_):n.setAttribute(l,_)}}(n[11],h,c,t.value,s,a,l)}function VI(t,n,s,a,l,c){const h=c[n];if(null!==h){const _=a.setInput;for(let E=0;E<h.length;){const b=h[E++],w=h[E++],M=h[E++];null!==_?a.setInput(s,M,b,w):s[w]=M}}}function UI(t,n){let s=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],n[a+1])),a+=2}else a+=2;else a+=4}return s}function fh(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function HI(t,n){const s=Qn(n,t);if(Dl(s)){const a=s[1];80&s[2]?yu(a,s,a.template,s[8]):s[5]>0&&dd(s)}}function dd(t){for(let a=vt(t);null!==a;a=Wg(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const h=c[1];yu(h,c,h.template,c[8])}else c[5]>0&&dd(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Qn(s[a],t);Dl(l)&&l[5]>0&&dd(l)}}function TE(t,n){const s=Qn(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),_u(a,s,s[8])}function Ws(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function _m(t){for(;t;){t[2]|=64;const n=Xc(t);if(un(t)&&!n)return t;t=n}return null}function vm(t,n,s){const a=n[10];a.begin&&a.begin();try{yu(t,n,t.template,s)}catch(l){throw AE(n,l),l}finally{a.end&&a.end()}}function Em(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=qc(s),l=a[1];MI(l,a,l.template,s)}}(t[8])}function Tn(t,n,s){_a(0),n(t,s)}const hh=(()=>Promise.resolve(null))();function ph(t){return t[7]||(t[7]=[])}function gh(t){return t.cleanup||(t.cleanup=[])}function AE(t,n){const s=t[9],a=s?s.get(lu,null):null;a&&a.handleError(n)}function SE(t,n,s,a,l){for(let c=0;c<s.length;){const h=s[c++],_=s[c++],E=n[h],b=t.data[h];null!==b.setInput?b.setInput(E,l,a,_):E[_]=l}}function Pi(t,n,s){const a=fa(n,t);!function(t,n,s){on(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function mh(t,n,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?c=_:1==c?l=x(l,_):2==c&&(a=x(a,_+": "+n[++h]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const $a=new $t("INJECTOR",-1);class _h{get(n,s=es){if(s===es){const a=new Error(`NullInjectorError: No provider for ${R(n)}!`);throw a.name="NullInjectorError",a}return s}}const yh=new $t("Set Injector scope."),Ni={},OE={};let Cm;function RE(){return void 0===Cm&&(Cm=new _h),Cm}function bm(t,n=null,s=null,a){return new ZI(t,s,n||RE(),a)}class ZI{constructor(n,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Nn(s,_=>this.processProvider(_,n,s)),Nn([n],_=>this.processInjectorType(_,[],c)),this.records.set($a,vu(void 0,this));const h=this.records.get(yh);this.scope=null!=h?h.value:null,this.source=l||("object"==typeof n?null:R(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=es,a=Ue.Default){this.assertNotDestroyed();const l=Fs(this),c=Bn(void 0);try{if(!(a&Ue.SkipSelf)){let _=this.records.get(n);if(void 0===_){const E=("function"==typeof(t=n)||"object"==typeof t&&t instanceof $t)&&qt(n);_=E&&this.injectableDefInScope(E)?vu(Im(n),Ni):null,this.records.set(n,_)}if(null!=_)return this.hydrate(n,_)}return(a&Ue.Self?RE():this.parent).get(n,s=a&Ue.Optional&&s===es?null:s)}catch(h){if("NullInjectorError"===h.name){if((h[ts]=h[ts]||[]).unshift(R(n)),l)throw h;return Ao(h,n,"R3InjectorError",this.source)}throw h}finally{Bn(c),Fs(l)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,l)=>n.push(R(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=O(n)))return!1;let l=Dr(n);const c=null==l&&n.ngModule||void 0,h=void 0===c?n:c,_=-1!==a.indexOf(h);if(void 0!==c&&(l=Dr(c)),null==l)return!1;if(null!=l.imports&&!_){let w;a.push(h);try{Nn(l.imports,M=>{this.processInjectorType(M,s,a)&&(void 0===w&&(w=[]),w.push(M))})}finally{}if(void 0!==w)for(let M=0;M<w.length;M++){const{ngModule:P,providers:z}=w[M];Nn(z,Z=>this.processProvider(Z,P,z||K))}}this.injectorDefTypes.add(h);const E=Or(h)||(()=>new h);this.records.set(h,vu(E,Ni));const b=l.providers;if(null!=b&&!_){const w=n;Nn(b,M=>this.processProvider(M,w,b))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let l=Eu(n=O(n))?n:O(n&&n.provide);const c=NE(t=n)?vu(void 0,t.useValue):vu(PE(t),Ni);var t;if(Eu(n)||!0!==n.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=vu(void 0,Ni,!0),h.factory=()=>mr(h.multi),this.records.set(l,h)),l=n,h.multi.push(n)}this.records.set(l,c)}hydrate(n,s){return s.value===Ni&&(s.value=OE,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=O(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Im(t){const n=qt(t),s=null!==n?n.factory:Or(t);if(null!==s)return s;if(t instanceof $t)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=Ps(n,"?");throw new Error(`Can't resolve all parameters for ${R(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[ai]||t[li]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function PE(t,n,s){let a;if(Eu(t)){const l=O(t);return Or(l)||Im(l)}if(NE(t))a=()=>O(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...mr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>fn(O(t.useExisting));else{const l=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Or(l)||Im(l);a=()=>new l(...mr(t.deps))}return a}function vu(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function NE(t){return null!==t&&"object"==typeof t&&Sa in t}function Eu(t){return"function"==typeof t}const Dm=function(t,n,s){return function(t,n=null,s=null,a){const l=bm(t,n,s,a);return l._resolveInjectorDefTypes(),l}({name:s},n,t,s)};class Jt{static create(n,s){return Array.isArray(n)?Dm(n,s,""):Dm(n.providers,n.parent,n.name||"")}}function Rm(t,n){Pl(qc(t)[1],cn())}function Ch(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let l;if(dr(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(s){a.push(l);const h=t;h.inputs=xm(t.inputs),h.declaredInputs=xm(t.declaredInputs),h.outputs=xm(t.outputs);const _=l.hostBindings;_&&KE(t,_);const E=l.viewQuery,b=l.contentQueries;if(E&&aw(t,E),b&&lw(t,b),j(t.inputs,l.inputs),j(t.declaredInputs,l.declaredInputs),j(t.outputs,l.outputs),dr(l)&&l.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let h=0;h<c.length;h++){const _=c[h];_&&_.ngInherit&&_(t),_===Ch&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Vl(l.hostAttrs,s=Vl(s,l.hostAttrs))}}(a)}function xm(t){return t===jt?{}:t===K?[]:t}function aw(t,n){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{n(a,l),s(a,l)}:n}function lw(t,n){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{n(a,l,c),s(a,l,c)}:n}function KE(t,n){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{n(a,l),s(a,l)}:n}Jt.THROW_IF_NOT_FOUND=es,Jt.NULL=new _h,Jt.\u0275prov=Ft({token:Jt,providedIn:"any",factory:()=>fn($a)}),Jt.__NG_ELEMENT_ID__=-1;let Ih=null;function ps(){if(!Ih){const t=Lt.Symbol;if(t&&t.iterator)Ih=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ih=a)}}}return Ih}function Ys(t){return!!Dh(t)&&(Array.isArray(t)||!(t instanceof Map)&&ps()in t)}function Dh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function tr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Ah(t,n,s,a){const l=De();return tr(l,di(),n)&&(wt(),hs(vn(),l,t,n,s,a)),Ah}function tC(t,n,s,a,l,c,h,_){const E=De(),b=wt(),w=t+20,M=b.firstCreatePass?function(t,n,s,a,l,c,h,_,E){const b=n.consts,w=fs(n,t,4,h||null,Di(b,_));dm(n,s,w,Di(b,E)),Pl(n,w);const M=w.tViews=ad(2,w,a,l,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,b);return null!==n.queries&&(n.queries.template(n,w),M.queries=n.queries.embeddedTView(w)),w}(w,b,E,n,s,a,l,c,h):b.data[w];xr(M,!1);const P=E[11].createComment("");Ua(b,E,P,M),kn(P,E),Ws(E,E[w]=fh(P,E,P,M)),Yi(M)&&cm(b,E,M),null!=h&&od(E,M,_)}function nC(t){return function(t,n){return t[n]}(Qe.lFrame.contextLView,20+t)}function Vi(t,n=Ue.Default){const s=De();return null===s?fn(t,n):Hl(cn(),s,O(t),n)}function Qa(t,n,s){const a=De();return tr(a,di(),n)&&ei(wt(),vn(),a,t,n,a[11],s,!1),Qa}function Wm(t,n,s,a,l){const h=l?"class":"style";SE(t,s,n.inputs[h],h,a)}function Ph(t,n,s,a){const l=De(),c=wt(),h=20+t,_=l[11],E=l[h]=yi(_,n,Qe.lFrame.currentNamespace),b=c.firstCreatePass?function(t,n,s,a,l,c,h){const _=n.consts,b=fs(n,t,2,l,Di(_,c));return dm(n,s,b,Di(_,h)),null!==b.attrs&&mh(b,b.attrs,!1),null!==b.mergedAttrs&&mh(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(h,c,l,0,n,s,a):c.data[h];xr(b,!0);const w=b.mergedAttrs;null!==w&&Ts(_,E,w);const M=b.classes;null!==M&&cu(_,E,M);const P=b.styles;null!==P&&Xv(_,E,P),64!=(64&b.flags)&&Ua(c,l,E,b),0===Qe.lFrame.elementDepthCount&&kn(E,l),Qe.lFrame.elementDepthCount++,Yi(b)&&(cm(c,l,b),function(t,n,s){if(xt(n)){const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const h=t.data[c];h.contentQueries&&h.contentQueries(1,s[c],c)}}}(c,b,l)),null!==a&&od(l,b)}function Gm(){let t=cn();Tl()?po():(t=t.parent,xr(t,!1));const n=t;Qe.lFrame.elementDepthCount--;const s=wt();s.firstCreatePass&&(Pl(s,t),xt(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Wm(s,n,De(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Wm(s,n,De(),n.stylesWithoutHost,!1)}function hC(t,n,s,a){Ph(t,n,s,a),Gm()}function md(){return De()}function kh(t){return!!t&&"function"==typeof t.then}function Ui(t){return!!t&&"function"==typeof t.subscribe}const Ou=Ui;function ti(t,n,s,a){const l=De(),c=wt(),h=cn();return function(t,n,s,a,l,c,h,_){const E=Yi(a),w=t.firstCreatePass&&gh(t),M=n[8],P=ph(n);let z=!0;if(3&a.type||_){const oe=rr(a,n),Me=_?_(oe):oe,we=P.length,We=_?nt=>_(en(nt[a.index])):a.index;if(on(s)){let nt=null;if(!_&&E&&(nt=function(t,n,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const h=l[c];if(h===s&&l[c+1]===a){const _=n[7],E=l[c+2];return _.length>E?_[E]:null}"string"==typeof h&&(c+=2)}return null}(t,n,l,a.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=c,nt.__ngLastListenerFn__=c,z=!1;else{c=_d(a,n,M,c,!1);const kt=s.listen(Me,l,c);P.push(c,kt),w&&w.push(l,We,we,we+1)}}else c=_d(a,n,M,c,!0),Me.addEventListener(l,c,h),P.push(c),w&&w.push(l,We,we,h)}else c=_d(a,n,M,c,!1);const Z=a.outputs;let me;if(z&&null!==Z&&(me=Z[l])){const oe=me.length;if(oe)for(let Me=0;Me<oe;Me+=2){const nr=n[me[Me]][me[Me+1]].subscribe(c),Es=P.length;P.push(c,nr),w&&w.push(l,a.index,Es,-(Es+1))}}}(c,l,l[11],h,t,n,!!s,a),ti}function Fh(t,n,s,a){try{return!1!==s(a)}catch(l){return AE(t,l),!1}}function _d(t,n,s,a,l){return function c(h){if(h===Function)return a;const _=2&t.flags?Qn(t.index,n):n;0==(32&n[2])&&_m(_);let E=Fh(n,0,a,h),b=c.__ngNextListenerFn__;for(;b;)E=Fh(n,0,b,h)&&E,b=b.__ngNextListenerFn__;return l&&!1===E&&(h.preventDefault(),h.returnValue=!1),E}}function _C(t=1){return function(t){return(Qe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,Qe.lFrame.contextLView))[8]}(t)}function yC(t,n){let s=null;const a=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let l=0;l<n.length;l++){const c=n[l];if("*"!==c){if(null===a?du(t,c,!0):fu(a,c))return l}else s=l}return s}function zm(t){const n=De()[16][6];if(!n.projection){const a=n.projection=Ps(t?t.length:1,null),l=a.slice();let c=n.child;for(;null!==c;){const h=t?yC(c,t):0;null!==h&&(l[h]?l[h].projectionNext=c:a[h]=c,l[h]=c),c=c.next}}}function Km(t,n=0,s){const a=De(),l=wt(),c=fs(l,20+t,16,null,s||null);null===c.projection&&(c.projection=n),po(),64!=(64&c.flags)&&function(t,n,s){Zg(n[11],0,n,s,Yv(t,s,n),Lo(s.parent||n[6],s,n))}(l,a,c)}function xu(t,n,s,a,l){const c=t[s+1],h=null===n;let _=a?xi(c):js(c),E=!1;for(;0!==_&&(!1===E||h);){const w=t[_+1];dt(t[_],n)&&(E=!0,t[_+1]=a?ja(w):em(w)),_=a?xi(w):js(w)}E&&(t[s+1]=a?em(c):ja(c))}function dt(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ns(t,n)>=0}function nl(t,n){return function(t,n,s,a){const l=De(),c=wt(),h=function(t){const n=Qe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);c.firstUpdatePass&&function(t,n,s,a){const l=t.data;if(null===l[s+1]){const c=l[Jn()],h=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(c,a)&&null===n&&!h&&(n=!1),n=function(t,n,s,a){const l=function(t){const n=Qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let c=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(s=Yo(s=Xm(null,t,n,s,a),n.attrs,a),c=null);else{const h=n.directiveStylingLast;if(-1===h||t[h]!==l)if(s=Xm(l,t,n,s,a),null===c){let E=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==js(a))return t[xi(a)]}(t,n,a);void 0!==E&&Array.isArray(E)&&(E=Xm(null,t,n,E[1],a),E=Yo(E,n.attrs,a),function(t,n,s,a){t[xi(s?n.classBindings:n.styleBindings)]=a}(t,n,a,E))}else c=function(t,n,s){let a;const l=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<l;c++)a=Yo(a,t[c].hostAttrs,s);return Yo(a,n.attrs,s)}(t,n,a)}return void 0!==c&&(a?n.residualClasses=c:n.residualStyles=c),s}(l,c,n,a),function(t,n,s,a,l,c){let h=c?n.classBindings:n.styleBindings,_=xi(h),E=js(h);t[a]=s;let w,b=!1;if(Array.isArray(s)){const M=s;w=M[1],(null===w||Ns(M,w)>0)&&(b=!0)}else w=s;if(l)if(0!==E){const P=xi(t[_+1]);t[a+1]=hu(P,_),0!==P&&(t[P+1]=tm(t[P+1],a)),t[_+1]=function(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=hu(_,0),0!==_&&(t[_+1]=tm(t[_+1],a)),_=a;else t[a+1]=hu(E,0),0===_?_=a:t[E+1]=tm(t[E+1],a),E=a;b&&(t[a+1]=em(t[a+1])),xu(t,w,a,!0),xu(t,w,a,!1),function(t,n,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&Ns(c,n)>=0&&(s[a+1]=ja(s[a+1]))}(n,w,t,a,c),h=hu(_,E),c?n.classBindings=h:n.styleBindings=h}(l,c,n,s,h,a)}}(c,t,h,a),n!==tt&&tr(l,h,n)&&function(t,n,s,a,l,c,h,_){if(!(3&n.type))return;const E=t.data,b=E[_+1];Qs(function(t){return 1==(1&t)}(b)?vd(E,n,s,l,js(b),h):void 0)||(Qs(c)||function(t){return 2==(2&t)}(b)&&(c=vd(E,null,s,l,_,h)),function(t,n,s,a,l){const c=on(t);if(n)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let h=-1===a.indexOf("-")?void 0:cs.DashCase;if(null==l)c?t.removeStyle(s,a,h):s.style.removeProperty(a);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),h|=cs.Important),c?t.setStyle(s,a,l,h):s.style.setProperty(a,l,_?"important":"")}}}(a,h,fa(Jn(),s),l,c))}(c,c.data[Jn()],l,l[11],t,l[h+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=R(p(t)))),t}(n,s),a,h)}(t,n,null,!0),nl}function Xm(t,n,s,a,l){let c=null;const h=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<h&&(c=n[_],a=Yo(a,c.hostAttrs,l),c!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function Yo(t,n,s){const a=s?1:2;let l=-1;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?l=h:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gr(t,h,!!s||n[++c]))}return void 0===t?null:t}function vd(t,n,s,a,l,c){const h=null===n;let _;for(;l>0;){const E=t[l],b=Array.isArray(E),w=b?E[1]:E,M=null===w;let P=s[l+1];P===tt&&(P=M?K:void 0);let z=M?jf(P,a):w===a?P:void 0;if(b&&!Qs(z)&&(z=jf(E,a)),Qs(z)&&(_=z,h))return _;const Z=t[l+1];l=h?xi(Z):js(Z)}if(null!==n){let E=c?n.residualClasses:n.residualStyles;null!=E&&(_=jf(E,a))}return _}function Qs(t){return void 0!==t}function PC(t,n=""){const s=De(),a=wt(),l=t+20,c=a.firstCreatePass?fs(a,l,1,n,null):a.data[l],h=s[l]=function(t,n){return on(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Ua(a,s,h,c),xr(c,!1)}function n_(t){return Ed("",t,""),n_}function Ed(t,n,s){const a=De(),l=function(t,n,s,a){return tr(t,di(),s)?n+ce(s)+a:tt}(a,t,n,s);return l!==tt&&Pi(a,Jn(),l),Ed}function Zh(t,n,s){const a=De();return tr(a,di(),n)&&ei(wt(),vn(),a,t,n,a[11],s,!0),Zh}const ol=void 0;var Lw=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Fu={};function o_(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=l_(n);if(s)return s;const a=n.split("-")[0];if(s=l_(a),s)return s;if("en"===a)return Lw;throw new Error(`Missing locale data for the locale "${t}".`)}function a_(t){return o_(t)[qe.PluralCase]}function l_(t){return t in Fu||(Fu[t]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[t]),Fu[t]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const Qh="en-US";let Xh=Qh;function ep(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(Xh=t.toLowerCase().replace(/_/g,"-"))}function b_(t,n,s,a,l){if(t=O(t),Array.isArray(t))for(let c=0;c<t.length;c++)b_(t[c],n,s,a,l);else{const c=wt(),h=De();let _=Eu(t)?t:O(t.provide),E=PE(t);const b=cn(),w=1048575&b.providerIndexes,M=b.directiveStart,P=b.providerIndexes>>20;if(Eu(t)||!t.multi){const z=new kl(E,l,Vi),Z=Nd(_,n,l?w:w+P,M);-1===Z?(Zi(As(b,h),c,_),cp(c,t,n.length),n.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(z),h.push(z)):(s[Z]=z,h[Z]=z)}else{const z=Nd(_,n,w+P,M),Z=Nd(_,n,w,w+P),me=z>=0&&s[z],oe=Z>=0&&s[Z];if(l&&!oe||!l&&!me){Zi(As(b,h),c,_);const Me=function(t,n,s,a,l){const c=new kl(t,s,Vi);return c.multi=[],c.index=n,c.componentProviders=0,dp(c,l,a&&!s),c}(l?fp:I_,s.length,l,a,E);!l&&oe&&(s[Z].providerFactory=Me),cp(c,t,n.length,0),n.push(_),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(Me),h.push(Me)}else cp(c,t,z>-1?z:Z,dp(s[l?Z:z],E,!l&&a));!l&&a&&oe&&s[Z].componentProviders++}}}function cp(t,n,s,a){const l=Eu(n);if(l||function(t){return!!t.useClass}(n)){const h=(n.useClass||n).prototype.ngOnDestroy;if(h){const _=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const E=_.indexOf(s);-1===E?_.push(s,[a,h]):_[E+1].push(a,h)}else _.push(s,h)}}}function dp(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Nd(t,n,s,a){for(let l=s;l<a;l++)if(n[l]===t)return l;return-1}function I_(t,n,s,a){return eo(this.multi,[])}function fp(t,n,s,a){const l=this.multi;let c;if(this.providerFactory){const h=this.providerFactory.componentProviders,_=Qi(s,s[1],this.providerFactory.index,a);c=_.slice(0,h),eo(l,c);for(let E=h;E<_.length;E++)c.push(_[E])}else c=[],eo(l,c);return c}function eo(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function D_(t,n=[]){return s=>{s.providersResolver=(a,l)=>function(t,n,s){const a=wt();if(a.firstCreatePass){const l=dr(t);b_(s,a.data,a.blueprint,l,!0),b_(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class kd{}const lb="ngComponent";class A_{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return n[lb]=t,n}(n)}}class al{}function Bu(...t){}function ll(t,n){return new Br(rr(t,n))}al.NULL=new A_;const gs=function(){return ll(cn(),De())};let Br=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=gs,t})();function ub(t){return t instanceof Br?t.nativeElement:t}class Hu{}let Fd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ms(),t})();const ms=function(){const t=De(),s=Qn(cn().index,t);return function(t){return t[11]}(Vt(s)?s:t)};let $u=(()=>{class t{}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:()=>null}),t})();class mp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Hr=new mp("12.2.4");class O_{constructor(){}supports(n){return Ys(n)}create(n){return new fD(n)}}const cD=(t,n)=>n;class fD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||cD}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const h=!a||s&&s.currentIndex<Wu(a,l,c)?s:a,_=Wu(h,l,c),E=h.currentIndex;if(h===a)l--,a=a._nextRemoved;else if(s=s._next,null==h.previousIndex)l++;else{c||(c=[]);const b=_-l,w=E-l;if(b!=w){for(let P=0;P<b;P++){const z=P<c.length?c[P]:c[P]=0,Z=z+P;w<=Z&&Z<b&&(c[P]=z+1)}c[h.previousIndex]=w-b}}_!==E&&n(h,_,E)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Ys(n))throw new Error(`Error trying to diff '${R(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,c,h,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)c=n[_],h=this._trackByFn(_,c),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,c,h,_)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,h,_),a=!0),s=s._next}else l=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[ps()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,_=>{h=this._trackByFn(l,_),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,_,h,l)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,h,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,l){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,l)):n=this._addAfter(new hD(s,a),c,l),n}_verifyReinsertion(n,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,c=n._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const l=null===s?this._itHead:s._next;return n._next=l,n._prev=s,null===l?this._itTail=n:l._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new R_),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class hD{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class R_{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new pD,this.map.set(s,a)),a.add(n)}get(n,s){const l=this.map.get(n);return l?l.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wu(t,n,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+n+l}class x_{constructor(){}supports(n){return n instanceof Map||Dh(n)}create(){return new db}}class db{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Dh(n)))throw new Error(`Error trying to diff '${R(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,s);const c=l._prev,h=l._next;return c&&(c._next=h),h&&(h._prev=c),l._next=null,l._prev=null,l}const a=new gD(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class gD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _p(){return new ul([new O_])}let ul=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_p()),deps:[[t,new _r,new Pr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:_p}),t})();function yp(){return new vp([new x_])}let vp=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||yp()),deps:[[t,new _r,new Pr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Ft({token:t,providedIn:"root",factory:yp}),t})();function Ep(t,n,s,a,l=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(en(c)),Zt(c))for(let _=10;_<c.length;_++){const E=c[_],b=E[1].firstChild;null!==b&&Ep(E[1],E,b,a)}const h=s.type;if(8&h)Ep(t,n,s.child,a);else if(32&h){const _=Jf(s,n);let E;for(;E=_();)a.push(E)}else if(16&h){const _=qg(n,s);if(Array.isArray(_))a.push(..._);else{const E=Xc(n[16]);Ep(E[1],E,_,a,!0)}}s=l?s.projectionNext:s.next}return a}class Ld{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Ep(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Zt(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(zg(n,a),Xi(s,a))}this._attachedToViewContainer=!1}Kg(this._lView[1],this._lView)}onDestroy(n){EE(this._lView[1],this._lView,null,n)}markForCheck(){_m(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){go(!0);try{vm(t,n,s)}finally{go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Uo(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class fb extends Ld{constructor(n){super(n),this._view=n}detectChanges(){Em(this._view)}checkNoChanges(){!function(t){go(!0);try{Em(t)}finally{go(!1)}}(this._view)}get context(){return null}}const yD=function(t){return function(t,n,s){if(sn(t)&&!s){const a=Qn(t.index,n);return new Ld(a,a)}return 47&t.type?new Ld(n[16],n):null}(cn(),De(),16==(16&t))};let P_=(()=>{class t{}return t.__NG_ELEMENT_ID__=yD,t})();const Gu=[new x_],ED=new ul([new O_]),N_=new vp(Gu),zu=function(){return cl(cn(),De())};let Vd=(()=>{class t{}return t.__NG_ELEMENT_ID__=zu,t})();const pb=Vd,gb=class extends pb{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=mu(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),_u(s,a,n),new Ld(a)}};function cl(t,n){return 4&t.type?new gb(n,t,ll(t,n)):null}class to{}class bp{}const k_=function(){return Ud(cn(),De())};let Ip=(()=>{class t{}return t.__NG_ELEMENT_ID__=k_,t})();const yb=Ip,F_=class extends yb{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const n=ir(this._hostTNode,this._hostLView);if(jl(n)){const s=va(n,this._hostLView),a=Si(n);return new hi(s[1].data[a+8],s)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=vb(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const l=n.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(n,s,a,l,c){const h=a||this.parentInjector;if(!c&&null==n.ngModule&&h){const E=h.get(to,null);E&&(c=E)}const _=n.create(h,l,void 0,c);return this.insert(_.hostView,s),_}insert(n,s){const a=n._lView,l=a[1];if(Zt(a[3])){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const M=a[3],P=new F_(M,M[6],M[3]);P.detach(P.indexOf(n))}}const c=this._adjustIndex(s),h=this._lContainer;!function(t,n,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=n),a<c-10?(n[4]=s[l],Ia(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const h=n[17];null!==h&&s!==h&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(h,n);const _=n[19];null!==_&&_.insertView(t),n[2]|=128}(l,a,h,c);const _=uu(c,h),E=a[11],b=Fo(E,h[7]);return null!==b&&function(t,n,s,a,l,c){a[0]=l,a[6]=n,Uo(t,a,s,1,l,c)}(l,h[6],E,a,b,_),n.attachToViewContainerRef(),Ia(Cr(h),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=vb(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=zg(this._lContainer,s);a&&(Xi(Cr(this._lContainer),s),Kg(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=zg(this._lContainer,s);return a&&null!=Xi(Cr(this._lContainer),s)?new Ld(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function vb(t){return t[8]}function Cr(t){return t[8]||(t[8]=[])}function Ud(t,n){let s;const a=n[t.index];if(Zt(a))s=a;else{let l;if(8&t.type)l=en(a);else{const c=n[11];l=c.createComment("");const h=rr(t,n);No(c,Fo(c,h),l,function(t,n){return on(t)?t.nextSibling(n):n.nextSibling}(c,h),!1)}n[t.index]=s=fh(a,n,l,t),Ws(n,s)}return new F_(s,t,n)}const pl={};class kb extends al{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Mn(n);return new Fb(s,this.ngModule)}}function tT(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const QS=new $t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vv});class Fb extends kd{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(wI).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return tT(this.componentDef.inputs)}get outputs(){return tT(this.componentDef.outputs)}create(n,s,a,l){const c=(l=l||this.ngModule)?function(t,n){return{get:(s,a,l)=>{const c=t.get(s,pl,l);return c!==pl||a===pl?c:n.get(s,a,l)}}}(n,l.injector):n,h=c.get(Hu,qi),_=c.get($u,null),E=h.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=a?function(t,n,s){if(on(t))return t.selectRootElement(n,s===Pe.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(E,a,this.componentDef.encapsulation):yi(h.createRenderer(null,this.componentDef),b,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(b)),M=this.componentDef.onPush?576:528,P=function(t,n){return{components:[],scheduler:t||Vv,clean:hh,playerHandler:n||null,flags:0}}(),z=ad(0,null,null,1,0,null,null,null,null,null),Z=mu(null,z,P,M,null,null,h,E,_,c);let me,oe;Rl(Z);try{const Me=function(t,n,s,a,l,c){const h=s[1];s[20]=t;const E=fs(h,20,2,"#host",null),b=E.mergedAttrs=n.hostAttrs;null!==b&&(mh(E,b,!0),null!==t&&(Ts(l,t,b),null!==E.classes&&cu(l,t,E.classes),null!==E.styles&&Xv(l,t,E.styles)));const w=a.createRenderer(t,n),M=mu(s,yE(n),null,n.onPush?64:16,s[20],E,a,w,c||null,null);return h.firstCreatePass&&(Zi(As(E,s),h,n.type),hm(h,E),pm(E,s.length,1)),Ws(s,M),s[20]=M}(w,this.componentDef,Z,h,E);if(w)if(a)Ts(E,w,["ng-version",Hr.full]);else{const{attrs:we,classes:We}=function(t){const n=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&n.push(c,t[++a]):8===l&&s.push(c);else{if(!Xr(l))break;l=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);we&&Ts(E,w,we),We&&We.length>0&&cu(E,w,We.join(" "))}if(oe=ha(z,20),void 0!==s){const we=oe.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const nt=s[We];we.push(null!=nt?Array.from(nt):null)}}me=function(t,n,s,a,l){const c=s[1],h=function(t,n,s){const a=cn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),gm(t,a,n,$s(t,n,1,null),s));const l=Qi(n,t,a.directiveStart,a);kn(l,n);const c=rr(a,n);return c&&kn(c,n),l}(c,s,n);if(a.components.push(h),t[8]=h,l&&l.forEach(E=>E(h,n)),n.contentQueries){const E=cn();n.contentQueries(1,h,E.directiveStart)}const _=cn();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(mo(_.index),fm(s[1],_,0,_.directiveStart,_.directiveEnd,n),IE(n,h)),h}(Me,this.componentDef,Z,P,[Rm]),_u(z,Z,null)}finally{xl()}return new rT(this.componentType,me,ll(oe,Z),Z,oe)}}class rT extends class{}{constructor(n,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new fb(l),this.componentType=n}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Yu=new Map;class oT extends to{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kb(this);const a=Yn(n),l=n[xe]||null;l&&ep(l),this._bootstrapComponents=us(a.bootstrap),this._r3Injector=bm(n,s,[{provide:to,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],R(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Jt.THROW_IF_NOT_FOUND,a=Ue.Default){return n===Jt||n===to||n===$a?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class X_ extends bp{constructor(n){super(),this.moduleType=n,null!==Yn(n)&&function(t){const n=new Set;!function s(a){const l=Yn(a,!0),c=l.id;null!==c&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${R(n)} vs ${R(n.name)}`)}(c,Yu.get(c),a),Yu.set(c,a));const h=us(l.imports);for(const _ of h)n.has(_)||(n.add(_),s(_))}(t)}(n)}create(n){return new oT(this.moduleType,n)}}function ef(t){return n=>{setTimeout(t,void 0,n)}}const si=class extends d.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var l,c,h;let _=n,E=s||(()=>null),b=a;if(n&&"object"==typeof n){const M=n;_=null===(l=M.next)||void 0===l?void 0:l.bind(M),E=null===(c=M.error)||void 0===c?void 0:c.bind(M),b=null===(h=M.complete)||void 0===h?void 0:h.bind(M)}this.__isAsync&&(E=ef(E),_&&(_=ef(_)),b&&(b=ef(b)));const w=super.subscribe({next:_,error:E,complete:b});return n instanceof N.w&&n.add(w),w}};function _T(){return this._results[ps()]()}class xp{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ps(),a=xp.prototype;a[s]||(a[s]=_T)}get changes(){return this._changes||(this._changes=new si)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const l=Qt(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ty{constructor(n){this.queryList=n,this.matches=null}clone(){return new ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class ny{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const h=s.getByIndex(c);l.push(this.queries[h.indexInDeclarationView].clone())}return new ny(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==cy(n,s).matches&&this.queries[s].setDirty()}}class Gb{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class ry{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new ry(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class iy{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new iy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(n,s,sy(s,c)),this.matchTNodeWithReadOption(n,s,Wl(s,n,c,!1,!1))}else a===Vd?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Wl(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Br||l===Ip||l===Vd&&4&s.type)this.addMatch(s.index,-2);else{const c=Wl(s,n,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function sy(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function Pp(t,n,s,a){return-1===s?function(t,n){return 11&t.type?ll(t,n):4&t.type?cl(t,n):null}(n,t):-2===s?function(t,n,s){return s===Br?ll(n,t):s===Vd?cl(n,t):s===Ip?Ud(n,t):void 0}(t,n,a):Qi(t,t[1],s,n)}function ay(t,n,s,a){const l=n[19].queries[a];if(null===l.matches){const c=t.data,h=s.matches,_=[];for(let E=0;E<h.length;E+=2){const b=h[E];_.push(b<0?null:Pp(n,c[b],h[E+1],s.metadata.read))}l.matches=_}return l.matches}function Np(t,n,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const h=ay(t,n,l,s);for(let _=0;_<c.length;_+=2){const E=c[_];if(E>0)a.push(h[_/2]);else{const b=c[_+1],w=n[-E];for(let M=10;M<w.length;M++){const P=w[M];P[17]===P[3]&&Np(P[1],P,b,a)}if(null!==w[9]){const M=w[9];for(let P=0;P<M.length;P++){const z=M[P];Np(z[1],z,b,a)}}}}}return a}function ly(t){const n=De(),s=wt(),a=Ol();_a(a+1);const l=cy(s,a);if(t.dirty&&dg(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?Np(s,n,a,[]):ay(s,n,l,a);t.reset(c,ub),t.notifyOnChanges()}return!0}return!1}function kp(t,n,s,a){const l=wt();if(l.firstCreatePass){const c=cn();(function(t,n,s){null===t.queries&&(t.queries=new ry),t.queries.track(new iy(n,s))})(l,new Gb(n,s,a),c.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function(t,n,s){const a=new xp(4==(4&s));EE(t,n,a,a.destroy),null===n[19]&&(n[19]=new ny),n[19].queries.push(new ty(a))}(l,De(),s)}function Yb(){return t=De(),n=Ol(),t[19].queries[n].queryList;var t,n}function cy(t,n){return t.queries.getByIndex(n)}const ot=new $t("Application Initializer");let $r=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Bu,this.reject=Bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(kh(c))s.push(c);else if(Ou(c)){const h=new Promise((_,E)=>{c.subscribe({complete:_,error:E})});s.push(h)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(fn(ot,8))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();const Ei=new $t("AppId"),VT={provide:Ei,useFactory:function(){return`${Ju()}${Ju()}${Ju()}`},deps:[]};function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m0=new $t("Platform Initializer"),Hp=new $t("Platform ID"),Cy=new $t("appBootstrapListener");let rf=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();const $p=new $t("LocaleId"),Iy=new $t("DefaultCurrencyCode");class y0{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const zp=function(t){return new X_(t)},sf=zp,HT=function(t){return Promise.resolve(zp(t))},Wr=function(t){const n=zp(t),a=us(Yn(t).declarations).reduce((l,c)=>{const h=Mn(c);return h&&l.push(new Fb(h)),l},[]);return new y0(n,a)},Wi=Wr,$T=function(t){return Promise.resolve(Wr(t))};let Xu=(()=>{class t{constructor(){this.compileModuleSync=sf,this.compileModuleAsync=HT,this.compileModuleAndAllComponentsSync=Wi,this.compileModuleAndAllComponentsAsync=$T}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();const ec=(()=>Promise.resolve(0))();function lf(t){"undefined"==typeof Zone?ec.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new si(!1),this.onMicrotaskEmpty=new si(!1),this.onStable=new si(!1),this.onError=new si(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let t=Lt.requestAnimationFrame,n=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ty(t),t.isCheckStableRunning=!0,tc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ty(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,h,_)=>{try{return Kp(t),s.invokeTask(l,c,h,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),Ay(t)}},onInvoke:(s,a,l,c,h,_,E)=>{try{return Kp(t),s.invoke(l,c,h,_,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),Ay(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,Ty(t),tc(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,l){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+l,n,zT,Bu,Bu);try{return c.runTask(h,s,a)}finally{c.cancelTask(h)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const zT={};function tc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ty(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ay(t){t._nesting--,tc(t)}class KT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new si,this.onMicrotaskEmpty=new si,this.onStable=new si,this.onError=new si}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,l){return n.apply(s,a)}}let C0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gr.assertNotInAngularZone(),lf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lf(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(fn(Gr))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})(),b0=(()=>{class t{constructor(){this._applications=new Map,uf.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return uf.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();class YT{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function qT(t){uf=t}let uf=new YT,Sy=!0,I0=!1;function Yp(){return I0=!0,Sy}function My(){if(I0)throw new Error("Cannot enable prod mode after platform setup.");Sy=!1}let wr;const xy=new $t("AllowMultipleToken");class T0{constructor(n,s){this.name=n,this.token=s}}function Py(t,n,s=[]){const a=`Platform: ${n}`,l=new $t(a);return(c=[])=>{let h=M0();if(!h||h.injector.get(xy,!1))if(t)t(s.concat(c).concat({provide:l,useValue:!0}));else{const _=s.concat(c).concat({provide:l,useValue:!0},{provide:yh,useValue:"platform"});!function(t){if(wr&&!wr.destroyed&&!wr.injector.get(xy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wr=t.get(O0);const n=t.get(m0,null);n&&n.forEach(s=>s())}(Jt.create({providers:_,name:a}))}return function(t){const n=M0();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function M0(){return wr&&!wr.destroyed?wr:null}let O0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const _=function(t,n){let s;return s="noop"===t?new KT:("zone.js"===t?void 0:t)||new Gr({enableLongStackTrace:Yp(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),E=[{provide:Gr,useValue:_}];return _.run(()=>{const b=Jt.create({providers:E,parent:this.injector,name:s.moduleType.name}),w=s.create(b),M=w.injector.get(lu,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const P=_.onError.subscribe({next:z=>{M.handleError(z)}});w.onDestroy(()=>{Ly(this._modules,w),P.unsubscribe()})}),function(t,n,s){try{const a=s();return kh(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(M,_,()=>{const P=w.injector.get($r);return P.runInitializers(),P.donePromise.then(()=>(ep(w.injector.get($p,Qh)||Qh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const l=Fy({},a);return function(t,n,s){const a=new X_(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get(vs);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${R(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(fn(Jt))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();function Fy(t,n){return Array.isArray(n)?n.reduce(Fy,t):Object.assign(Object.assign({},t),n)}let vs=(()=>{class t{constructor(s,a,l,c,h){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new Y.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),E=new Y.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Gr.assertNotInAngularZone(),lf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Gr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),M.unsubscribe()}});this.isStable=(0,q.T)(_,E.pipe((0,$.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=s instanceof kd?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function(t){return t.isBoundToModule}(l)?void 0:this._injector.get(to),_=l.create(Jt.NULL,[],a||l.selector,c),E=_.location.nativeElement,b=_.injector.get(C0,null),w=b&&_.injector.get(b0);return b&&w&&w.registerApplication(E,b),_.onDestroy(()=>{this.detachView(_.hostView),Ly(this.components,_),w&&w.unregisterApplication(E)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ly(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Cy,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(fn(Gr),fn(Jt),fn(lu),fn(al),fn($r))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();function Ly(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class qp{}class rA{}const iA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sA=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||iA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,l]=s.split("#");return void 0===l&&(l="default"),D(8255)(a).then(c=>c[l]).then(c=>P0(c,a,l)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(s){let[a,l]=s.split("#"),c="NgFactory";return void 0===l&&(l="default",c=""),D(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(h=>h[l+c]).then(h=>P0(h,a,l))}}return t.\u0275fac=function(s){return new(s||t)(fn(Xu),fn(rA,8))},t.\u0275prov=Ft({token:t,factory:t.\u0275fac}),t})();function P0(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const V0=function(t){return null},ff=Py(null,"core",[{provide:Hp,useValue:"unknown"},{provide:O0,deps:[Jt]},{provide:b0,deps:[]},{provide:rf,deps:[]}]),tg=[{provide:vs,useClass:vs,deps:[Gr,Jt,lu,al,$r]},{provide:QS,deps:[Gr],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:$r,useClass:$r,deps:[[new Pr,ot]]},{provide:Xu,useClass:Xu,deps:[]},VT,{provide:ul,useFactory:function(){return ED},deps:[]},{provide:vp,useFactory:function(){return N_},deps:[]},{provide:$p,useFactory:function(t){return ep(t=t||"undefined"!=typeof $localize&&$localize.locale||Qh),t},deps:[[new Ls($p),new Pr,new _r]]},{provide:Iy,useValue:"USD"}];let Gy=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(fn(vs))},t.\u0275mod=zi({type:t}),t.\u0275inj=Gt({providers:tg}),t})()},8939:(Q,B,D)=>{"use strict";D.d(B,{hO:()=>H,xv:()=>x,Dh:()=>R,GT:()=>F,on:()=>S,pX:()=>$});var d=D(7716),N=D(7841),Y=D(7667);Q=D.hmd(Q);const q=["ngOnDestroy"],$=(X,Ce,ue,Ie={})=>new Proxy(X,{get:(ce,be)=>ue.runOutsideAngular(()=>{var ve;if(X[be])return(null===(ve=null==Ie?void 0:Ie.spy)||void 0===ve?void 0:ve.get)&&Ie.spy.get(be,X[be]),X[be];if(q.indexOf(be)>-1)return()=>{};const Oe=Ce.toPromise().then(Ne=>{const ye=Ne&&Ne[be];return"function"==typeof ye?ye.bind(Ne):ye&&ye.then?ye.then(ut=>ue.run(()=>ut)):ue.run(()=>ye)});return new Proxy(()=>{},{get:(Ne,ye)=>Oe[ye],apply:(Ne,ye,ut)=>Oe.then(_t=>{var yt;const de=_t&&_t(...ut);return(null===(yt=null==Ie?void 0:Ie.spy)||void 0===yt?void 0:yt.apply)&&Ie.spy.apply(be,ut,de),de})})})}),F=(X,Ce)=>{Ce.forEach(ue=>{Object.getOwnPropertyNames(ue.prototype||ue).forEach(Ie=>{Object.defineProperty(X.prototype,Ie,Object.getOwnPropertyDescriptor(ue.prototype||ue,Ie))})})};class j{constructor(Ce){return Ce}}const R=new d.OlP("angularfire2.app.options"),x=new d.OlP("angularfire2.app.name");function S(X,Ce,ue){const ce="object"==typeof ue&&ue||{};ce.name=ce.name||"string"==typeof ue&&ue||"[DEFAULT]";const ve=N.Z.apps.filter(Oe=>Oe&&Oe.name===ce.name)[0]||Ce.runOutsideAngular(()=>N.Z.initializeApp(X,ce));try{JSON.stringify(X)!==JSON.stringify(ve.options)&&k("error",`${ve.name} Firebase App already initialized with different options${Q.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Oe){}return new j(ve)}const k=(X,...Ce)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[X](...Ce)},O={provide:j,useFactory:S,deps:[R,d.R0b,[new d.FiY,x]]};let H=(()=>{class X{constructor(ue){N.Z.registerVersion("angularfire",Y.q4.full,"core"),N.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),N.Z.registerVersion("angular",d.q4F.full,ue.toString())}static initializeApp(ue,Ie){return{ngModule:X,providers:[{provide:R,useValue:ue},{provide:x,useValue:Ie}]}}}return X.\u0275fac=function(ue){return new(ue||X)(d.LFG(d.Lbi))},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({providers:[O]}),X})()},7667:(Q,B,D)=>{"use strict";D.d(B,{q4:()=>R,iC:()=>_t,HU:()=>be,cc:()=>k});var d=D(7716),Y=(D(2329),D(7771)),q=D(3637),$=D(3342),F=D(3101),j=D(9746);Q=D.hmd(Q);const R=new d.GfV("7.0.3"),x=!!Q.hot,S=(ie,...re)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ie](...re)};function k(ie,re,Ee,se,Fe){const[,at,pt]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ie)||[];if(at)return function(ie,re){try{return ie.toString()===re.toString()}catch(Ee){return ie===re}}(Fe,pt)||(S("error",`${re} was already initialized on the ${Ee} Firebase App with different settings.${x?" You may need to reload as Firebase is not HMR aware.":""}`),S("warn",{is:Fe,was:pt})),at;{const ze=se();return globalThis.\u0275AngularfireInstanceCache.push([ie,ze,Fe]),ze}}function ue(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(re,Ee=Y.N){this.zone=re,this.delegate=Ee}now(){return this.delegate.now()}schedule(re,Ee,se){const Fe=this.zone;return this.delegate.schedule(function(pt){Fe.runGuarded(()=>{re.apply(this,[pt])})},Ee,se)}}class ce{constructor(re){this.zone=re,this.task=null}call(re,Ee){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),Ee.pipe((0,$.b)({next:se,complete:se,error:se})).subscribe(re).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let be=(()=>{class ie{constructor(Ee){this.ngZone=Ee,this.outsideAngular=Ee.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Ee.run(()=>new Ie(Zone.current,q.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ie.\u0275fac=function(Ee){return new(Ee||ie)(d.LFG(d.R0b))},ie.\u0275prov=d.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function ve(){const ie=globalThis.\u0275AngularFireScheduler;if(!ie)throw new Error("AngularFireModule has not been provided");return ie}function _t(ie){return ve(),function(ie){return function(Ee){return(Ee=Ee.lift(new ce(ie.ngZone))).pipe((0,F.R)(ie.outsideAngular),(0,j.QV)(ie.insideAngular))}}(ve())(ie)}},4486:(Q,B,D)=>{"use strict";D.d(B,{Z:()=>ue});var d=D(4685),N=D(6034),Y=D(5452),q=D(300);class ${constructor(ce,be){this._delegate=ce,this.firebase=be,(0,Y._addComponent)(ce,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(ce,be=Y._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(ce);return!Oe.isInitialized()&&"EXPLICIT"===(null===(ve=Oe.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:be})}_removeServiceInstance(ce,be=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(be)}_addComponent(ce){(0,Y._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,Y._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),S=function x(){const Ie=function(Ie){const ce={},be={__esModule:!0,initializeApp:function(yt,de={}){const _e=Y.initializeApp(yt,de);if((0,d.r3)(ce,_e.name))return ce[_e.name];const ie=new Ie(_e,be);return ce[_e.name]=ie,ie},app:Oe,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const de=yt.name,_e=de.replace("-compat","");if(Y._registerComponent(yt)&&"PUBLIC"===yt.type){const ie=(re=Oe())=>{if("function"!=typeof re[_e])throw j.create("invalid-app-argument",{appName:de});return re[_e]()};void 0!==yt.serviceProps&&(0,d.ZB)(ie,yt.serviceProps),be[_e]=ie,Ie.prototype[_e]=function(...re){return this._getService.bind(this,de).apply(this,yt.multipleInstances?re:[])}}return"PUBLIC"===yt.type?be[_e]:null},removeApp:function(yt){delete ce[yt]},useAsService:function(yt,de){return"serverAuth"===de?null:de},modularAPIs:Y}};function Oe(yt){if(!(0,d.r3)(ce,yt=yt||Y._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:yt});return ce[yt]}return be.default=be,Object.defineProperty(be,"apps",{get:function(){return Object.keys(ce).map(yt=>ce[yt])}}),Oe.App=Ie,be}($);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:x,extendNamespace:function(be){(0,d.ZB)(Ie,be)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ie}(),k=new q.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){k.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&k.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=S;(0,Y.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ue=Ce},5452:(Q,B,D)=>{"use strict";D.r(B),D.d(B,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Yt,_apps:()=>st,_clearComponents:()=>Gt,_components:()=>Je,_getProvider:()=>Ft,_registerComponent:()=>Rt,_removeServiceInstance:()=>zr,deleteApp:()=>li,getApp:()=>ai,getApps:()=>zn,initializeApp:()=>Dr,onLog:()=>_n,registerVersion:()=>Ue,setLogLevel:()=>jn});var d=D(8239),N=D(6034),Y=D(300),q=D(4685);class ${constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function(Xe){const He=Xe.getComponent();return"VERSION"===(null==He?void 0:He.type)}(Ct)){const gt=Ct.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ct=>Ct).join(" ")}}const j="@firebase/app",x=new Y.Yd("@firebase/app"),pt="[DEFAULT]",ze={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,Je=new Map;function ln(Xe,He){try{Xe.container.addComponent(He)}catch(Ct){x.debug(`Component ${He.name} failed to register with FirebaseApp ${Xe.name}`,Ct)}}function Yt(Xe,He){Xe.container.addOrOverwriteComponent(He)}function Rt(Xe){const He=Xe.name;if(Je.has(He))return x.debug(`There were multiple attempts to register component ${He}.`),!1;Je.set(He,Xe);for(const Ct of st.values())ln(Ct,Xe);return!0}function Ft(Xe,He){return Xe.container.getProvider(He)}function zr(Xe,He,Ct=pt){Ft(Xe,He).clearInstance(Ct)}function Gt(){Je.clear()}const Gn=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Gi{constructor(He,Ct,gt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const bi="9.0.0";function Dr(Xe,He={}){"object"!=typeof He&&(He={name:He});const Ct=Object.assign({name:pt,automaticDataCollectionEnabled:!1},He),gt=Ct.name;if("string"!=typeof gt||!gt)throw Gn.create("bad-app-name",{appName:String(gt)});const An=st.get(gt);if(An){if((0,q.vZ)(Xe,An.options)&&(0,q.vZ)(Ct,An.config))return An;throw Gn.create("duplicate-app",{appName:gt})}const bt=new N.H0(gt);for(const Ge of Je.values())bt.addComponent(Ge);const Pe=new Gi(Xe,Ct,bt);return st.set(gt,Pe),Pe}function ai(Xe=pt){const He=st.get(Xe);if(!He)throw Gn.create("no-app",{appName:Xe});return He}function zn(){return Array.from(st.values())}function li(Xe){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(Xe){const He=Xe.name;st.has(He)&&(st.delete(He),yield Promise.all(Xe.container.getProviders().map(Ct=>Ct.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function Ue(Xe,He,Ct){var gt;let An=null!==(gt=ze[Xe])&&void 0!==gt?gt:Xe;Ct&&(An+=`-${Ct}`);const bt=An.match(/\s|\//),Pe=He.match(/\s|\//);if(bt||Pe){const Ge=[`Unable to register library "${An}" with version "${He}":`];return bt&&Ge.push(`library name "${An}" contains illegal characters (whitespace or "/")`),bt&&Pe&&Ge.push("and"),Pe&&Ge.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void x.warn(Ge.join(" "))}Rt(new N.wA(`${An}-version`,()=>({library:An,version:He}),"VERSION"))}function _n(Xe,He){if(null!==Xe&&"function"!=typeof Xe)throw Gn.create("invalid-log-argument");(0,Y.Am)(Xe,He)}function jn(Xe){(0,Y.Ub)(Xe)}Rt(new N.wA("platform-logger",He=>new $(He),"PRIVATE")),Ue(j,"0.7.0",undefined),Ue("fire-js","")},5676:(Q,B,D)=>{"use strict";D.d(B,{$:()=>pc,A:()=>k,E:()=>qn,G:()=>Mr,I:()=>un,K:()=>mt,L:()=>yf,M:()=>oc,N:()=>iv,P:()=>bo,Q:()=>vf,R:()=>Lf,T:()=>co,V:()=>ac,W:()=>cg,X:()=>Il,Y:()=>fa,Z:()=>wl,_:()=>dg,a:()=>xf,a0:()=>fg,a1:()=>hg,a2:()=>Df,a3:()=>ga,a4:()=>wt,a5:()=>cn,a6:()=>yc,a7:()=>xr,a8:()=>Tl,a9:()=>Al,aA:()=>Ql,aB:()=>hv,aC:()=>$e,aG:()=>Ts,aJ:()=>Or,aa:()=>Rn,ab:()=>pg,ae:()=>Af,af:()=>gg,ag:()=>Ec,ah:()=>Bn,aj:()=>If,ak:()=>_g,am:()=>vg,an:()=>Rf,ao:()=>Mn,ap:()=>_t,aq:()=>Ki,ar:()=>oo,as:()=>ve,at:()=>mi,au:()=>gv,av:()=>Oe,aw:()=>ye,ax:()=>de,ay:()=>Tt,az:()=>Fs,b:()=>Ll,c:()=>Ia,d:()=>kc,e:()=>Ps,f:()=>Yl,g:()=>es,h:()=>Do,i:()=>$l,j:()=>$f,k:()=>tu,l:()=>Dg,m:()=>Hc,n:()=>Pg,o:()=>R,r:()=>Tg,s:()=>Oc,t:()=>yg,u:()=>Uf,x:()=>vn,z:()=>X});var d=D(8239),N=D(4685),Y=D(5452),q=D(4762),$=D(300),F=D(6034);const R={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},k={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},X=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ue=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new $.Yd("@firebase/auth");function be(y,...p){ce.logLevel<=$.in.ERROR&&ce.error(`Auth (${Y.SDK_VERSION}): ${y}`,...p)}function ve(y,...p){throw Ne(y,...p)}function Oe(y,...p){return Ne(y,...p)}function Ne(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return ue.create(y,...p)}function ye(y,p,...m){if(!y)throw Ne(p,...m)}function ut(y){const p="INTERNAL ASSERTION FAILED: "+y;throw be(p),new Error(p)}function _t(y,p){y||ut(p)}const yt=new Map;function de(y){_t(y instanceof Function,"Expected a class definition");let p=yt.get(y);return p?(_t(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,yt.set(y,p),p)}function re(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ee(){return"http:"===se()||"https:"===se()}function se(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class pt{constructor(p,m){this.shortDelay=p,this.longDelay=m,_t(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ee()||(0,N.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ze(y,p){_t(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class st{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ln=new pt(3e4,6e4);function Yt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Rt(y,p,m,C){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(y,p,m,C,T={}){return zr(y,T,()=>{let L={},le={};C&&("GET"===p?le=C:L={body:JSON.stringify(C)});const Ae=(0,N.xO)(Object.assign({key:y.config.apiKey},le)).slice(1),Ve=new(st.headers());return Ve.set("Content-Type","application/json"),Ve.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Ve.set("X-Firebase-Locale",y.languageCode),st.fetch()(Gi(y,y.config.apiHost,m,Ae),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},L))})})).apply(this,arguments)}function zr(y,p,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Je),p);try{const T=new bi(y),L=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const le=yield L.json();if("needConfirmation"in le)throw Dr(y,"account-exists-with-different-credential",le);if(L.ok&&!("errorMessage"in le))return le;{const Ve=(L.ok?le.errorMessage:le.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Dr(y,"credential-already-in-use",le);if("EMAIL_EXISTS"===Ve)throw Dr(y,"email-already-in-use",le);ve(y,C[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(T){if(T instanceof N.ZR)throw T;ve(y,"network-request-failed")}})).apply(this,arguments)}function qt(y,p,m,C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(y,p,m,C,T={}){const L=yield Rt(y,p,m,C,T);return"mfaPendingCredential"in L&&ve(y,"multi-factor-auth-required",{serverResponse:L}),L})).apply(this,arguments)}function Gi(y,p,m,C){const T=`${p}${m}?${C}`;return y.config.emulator?ze(y.config,T):`${y.config.apiScheme}://${T}`}class bi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Oe(this.auth,"timeout")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const T=Oe(y,p,C);return T.customData._tokenResponse=m,T}function zn(){return(zn=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function li(y,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ue(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function jn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Bn(y,p=!1){return(0,N.m9)(y).getIdToken(p)}function He(){return(He=(0,d.Z)(function*(y,p=!1){const m=(0,N.m9)(y),C=yield m.getIdToken(p),T=gt(C);ye(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const L="object"==typeof T.firebase?T.firebase:void 0,le=null==L?void 0:L.sign_in_provider;return{claims:T,token:C,authTime:jn(Ct(T.auth_time)),issuedAtTime:jn(Ct(T.iat)),expirationTime:jn(Ct(T.exp)),signInProvider:le||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function Ct(y){return 1e3*Number(y)}function gt(y){const[p,m,C]=y.split(".");if(void 0===p||void 0===m||void 0===C)return be("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(m);return T?JSON.parse(T):(be("Failed to decode base64 JWT payload"),null)}catch(T){return be("Caught error parsing JWT payload as JSON",T),null}}function bt(y,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof N.ZR&&Ge(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Ge({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Cs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class ui{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(y){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),T=yield bt(y,Ue(m,{idToken:C}));ye(null==T?void 0:T.users.length,m,"internal-error");const L=T.users[0];y._notifyReloadListener(L);const le=(null===(p=L.providerUserInfo)||void 0===p?void 0:p.length)?K(L.providerUserInfo):[],Ae=jt(y.providerData,le),At=!!y.isAnonymous&&!(y.email&&L.passwordHash||(null==Ae?void 0:Ae.length)),hn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ae,metadata:new ui(L.createdAt,L.lastLoginAt),isAnonymous:At};Object.assign(y,hn)})).apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(y){const p=(0,N.m9)(y);yield Sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function jt(y,p){return[...y.filter(C=>!p.some(T=>T.providerId===C.providerId)),...p]}function K(y){return y.map(p=>{var{providerId:m}=p,C=(0,q._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ne(){return(ne=(0,d.Z)(function*(y,p){const m=yield zr(y,{},()=>{const C=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:L}=y.config,le=Gi(y,T,"/v1/token",`key=${L}`);return st.fetch()(le,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ye(p.idToken,"internal-error"),ye(void 0!==p.idToken,"internal-error"),ye(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=gt(y);return ye(p,"internal-error"),ye(void 0!==p.exp,"internal-error"),ye(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,d.Z)(function*(){return ye(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:L,expiresIn:le}=yield function(y,p){return ne.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(T,L,Number(le))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:T,expirationTime:L}=m,le=new fe;return C&&(ye("string"==typeof C,"internal-error",{appName:p}),le.refreshToken=C),T&&(ye("string"==typeof T,"internal-error",{appName:p}),le.accessToken=T),L&&(ye("number"==typeof L,"internal-error",{appName:p}),le.expirationTime=L),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return ut("not implemented")}}function te(y,p){ye("string"==typeof y||void 0===y,"internal-error",{appName:p})}class xe{constructor(p){var{uid:m,auth:C,stsTokenManager:T}=p,L=(0,q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.metadata=new ui(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const C=yield bt(m,m.stsTokenManager.getToken(m.auth,p));return ye(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function(y){return He.apply(this,arguments)}(this,p)}reload(){return function(y){return so.apply(this,arguments)}(this)}_assign(p){this!==p&&(ye(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new xe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield Sn(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield bt(p,function(y,p){return zn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,T,L,le,Ae,Ve,Ye,At;const hn=null!==(C=m.displayName)&&void 0!==C?C:void 0,_i=null!==(T=m.email)&&void 0!==T?T:void 0,ss=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,iu=null!==(le=m.photoURL)&&void 0!==le?le:void 0,Yf=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,Oo=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Na=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,Jr=null!==(At=m.lastLoginAt)&&void 0!==At?At:void 0,{uid:os,emailVerified:su,isAnonymous:Wc,providerData:ka,stsTokenManager:Ng}=m;ye(os&&Ng,p,"internal-error");const kg=fe.fromJSON(this.name,Ng);ye("string"==typeof os,p,"internal-error"),te(hn,p.name),te(_i,p.name),ye("boolean"==typeof su,p,"internal-error"),ye("boolean"==typeof Wc,p,"internal-error"),te(ss,p.name),te(iu,p.name),te(Yf,p.name),te(Oo,p.name),te(Na,p.name),te(Jr,p.name);const qf=new xe({uid:os,auth:p,email:_i,emailVerified:su,displayName:hn,isAnonymous:Wc,photoURL:iu,phoneNumber:ss,tenantId:Yf,stsTokenManager:kg,createdAt:Na,lastLoginAt:Jr});return ka&&Array.isArray(ka)&&(qf.providerData=ka.map(Gc=>Object.assign({},Gc))),Oo&&(qf._redirectEventId=Oo),qf}static _fromIdTokenResponse(p,m,C=!1){return(0,d.Z)(function*(){const T=new fe;T.updateFromServerResponse(m);const L=new xe({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:C});return yield Sn(L),L})()}}const mt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,C){var T=this;return(0,d.Z)(function*(){T.storage[m]=C})()}_get(m){var C=this;return(0,d.Z)(function*(){const T=C.storage[m];return void 0===T?null:T})()}_remove(m){var C=this;return(0,d.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Tt(y,p,m){return`firebase:${y}:${p}:${m}`}class lt{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:T,name:L}=this.auth;this.fullUserKey=Tt(this.userKey,T.apiKey,L),this.fullPersistenceKey=Tt("persistence",T.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?xe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,d.Z)(function*(){if(!m.length)return new lt(de(mt),p,C);const T=(yield Promise.all(m.map(function(){var Ye=(0,d.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let L=T[0]||de(mt);const le=Tt(C,p.config.apiKey,p.name);let Ae=null;for(const Ye of m)try{const At=yield Ye._get(le);if(At){const hn=xe._fromJSON(p,At);Ye!==L&&(Ae=hn),L=Ye;break}}catch(At){}const Ve=T.filter(Ye=>Ye._shouldAllowMigration);return L._shouldAllowMigration&&Ve.length?(L=Ve[0],Ae&&(yield L._set(le,Ae.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,d.Z)(function*(At){if(At!==L)try{yield At._remove(le)}catch(hn){}});return function(At){return Ye.apply(this,arguments)}}())),new lt(L,p,C)):new lt(L,p,C)})()}}function Dn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(zi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Hn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(aa(p))return"Blackberry";if(la(p))return"Webos";if(Cn(p))return"Safari";if((p.includes("chrome/")||Kr(p))&&!p.includes("edge/"))return"Chrome";if(oo(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Hn(y=(0,N.z$)()){return/firefox\//i.test(y)}function Cn(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Kr(y=(0,N.z$)()){return/crios\//i.test(y)}function zi(y=(0,N.z$)()){return/iemobile/i.test(y)}function oo(y=(0,N.z$)()){return/android/i.test(y)}function aa(y=(0,N.z$)()){return/blackberry/i.test(y)}function la(y=(0,N.z$)()){return/webos/i.test(y)}function Ki(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function Mn(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Yn(y=(0,N.z$)()){return Ki(y)||oo(y)||la(y)||aa(y)||/windows phone/i.test(y)||zi(y)}function On(y,p=[]){let m;switch(y){case"Browser":m=Dn((0,N.z$)());break;case"Worker":m=`${Dn((0,N.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${Y.SDK_VERSION}/${C}`}class ke{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bt(this),this.idTokenSubscription=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=de(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T;C._deleted||(C.persistenceManager=yield lt.create(C,p),!C._deleted&&((null===(T=C._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(m),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var C;let T=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const L=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,le=null==T?void 0:T._redirectEventId,Ae=yield m.tryRedirectSignIn(p);(!L||L===le)&&(null==Ae?void 0:Ae.user)&&(T=Ae.user)}return T?T._redirectEventId?(ye(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(T){yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield Sn(p)}catch(C){if("auth/network-request-failed"!==C.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const C=p?(0,N.m9)(p):null;return C&&ye(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return p&&ye(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(de(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,d.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&de(p)||m._popupRedirectResolver;ye(C,m,"argument-error"),m.redirectPersistenceManager=yield lt.create(m,[de(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var C,T;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,T){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),le=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(le,this,"internal-error"),le.then(()=>L(this.currentUser)),"function"==typeof m?p.addObserver(m,C,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $e(y){return(0,N.m9)(y)}class Bt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(y,p,m){const C=$e(y);ye(C._canInitEmulator,C,"emulator-config-failed"),ye(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),L=Ar(p),{host:le,port:Ae}=function(y){const p=Ar(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const L=T[1];return{host:L,port:Sr(C.substr(L.length+1))}}{const[L,le]=C.split(":");return{host:L,port:Sr(le)}}}(p);C.config.emulator={url:`${L}//${le}${null===Ae?"":`:${Ae}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:le,port:Ae,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:T})}),function(y){function p(){const m=document.createElement("p"),C=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!y&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(T)}function Ar(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Sr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Mr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ut("not implemented")}_getIdTokenResponse(p){return ut("not implemented")}_linkToIdToken(p,m){return ut("not implemented")}_getReauthenticationResolver(p){return ut("not implemented")}}function Ii(y,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:resetPassword",Yt(y,p))})).apply(this,arguments)}function Yr(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ca(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",Yt(y,p))})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPassword",Yt(y,p))})).apply(this,arguments)}function Zr(y,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendOobCode",Yt(y,p))})).apply(this,arguments)}function Ht(y,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y,p){return Zr(y,p)})).apply(this,arguments)}function W(y,p){return pe.apply(this,arguments)}function pe(){return(pe=(0,d.Z)(function*(y,p){return Zr(y,p)})).apply(this,arguments)}function ee(y,p){return he.apply(this,arguments)}function he(){return(he=(0,d.Z)(function*(y,p){return Zr(y,p)})).apply(this,arguments)}function Se(y,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(y,p){return Zr(y,p)})).apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}class xt extends Mr{constructor(p,m,C,T=null){super("password",C),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new xt(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new xt(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(y,p){return ci.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(y,p){return yn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ve(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Yr(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,p){return Zt.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:ve(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function sn(y,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithIdp",Yt(y,p))})).apply(this,arguments)}class un extends Mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new un(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T}=m,L=(0,q._T)(m,["providerId","signInMethod"]);if(!C||!T)return null;const le=new un(C,T);return Object.assign(le,L),le}_getIdTokenResponse(p){return sn(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,sn(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Jy(y,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,p))})).apply(this,arguments)}function gf(){return(gf=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p))})).apply(this,arguments)}function mf(){return(mf=(0,d.Z)(function*(y,p){const m=yield qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p));if(m.temporaryProof)throw Dr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ev={USER_NOT_FOUND:"user-not-found"};function _f(){return(_f=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ev)})).apply(this,arguments)}class lo extends Mr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new lo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new lo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(y,p){return gf.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(y,p){return mf.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return _f.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:T,temporaryProof:L}=p;return C||m||T||L?new lo({verificationId:m,verificationCode:C,phoneNumber:T,temporaryProof:L}):null}}class vl{constructor(p){var m,C,T,L,le,Ae;const Ve=(0,N.zd)((0,N.pd)(p)),Ye=null!==(m=Ve.apiKey)&&void 0!==m?m:null,At=null!==(C=Ve.oobCode)&&void 0!==C?C:null,hn=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);ye(Ye&&At&&hn,"argument-error"),this.apiKey=Ye,this.operation=hn,this.code=At,this.continueUrl=null!==(L=Ve.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(le=Ve.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ae=Ve.tenantId)&&void 0!==Ae?Ae:null}static parseLink(p){const m=function(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,C=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(C?(0,N.zd)((0,N.pd)(C)).link:null)||C||m||p||y}(p);try{return new vl(m)}catch(C){return null}}}let yf=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return xt._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const T=vl.parseLink(C);return ye(T,"argument-error"),xt._fromEmailAndCode(m,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class uo extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class co extends uo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ye("providerId"in m&&"signInMethod"in m,"argument-error"),un._fromParams(m)}credential(p){return this._credential(p)}_credential(p){return ye(p.idToken||p.accessToken,"argument-error"),un._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return co.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return co.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:L,nonce:le,providerId:Ae}=p;if(!C&&!T&&!m&&!L||!Ae)return null;try{return new co(Ae)._credential({idToken:m,accessToken:C,rawNonce:le,pendingToken:L})}catch(Ve){return null}}}let oc=(()=>{class y extends uo{constructor(){super("facebook.com")}static credential(m){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),iv=(()=>{class y extends uo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:T}=m;if(!C&&!T)return null;try{return y.credential(C,T)}catch(L){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),vf=(()=>{class y extends uo{constructor(){super("github.com")}static credential(m){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Or extends Mr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return sn(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,sn(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T,pendingToken:L}=m;return C&&T&&L&&C===T?new Or(C,L):null}static _create(p,m){return new Or(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ac=(()=>{class y extends uo{constructor(){super("twitter.com")}static credential(m,C){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=m;if(!C||!T)return null;try{return y.credential(C,T)}catch(L){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Cf(y,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signUp",Yt(y,p))})).apply(this,arguments)}class fr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,T=!1){return(0,d.Z)(function*(){const L=yield xe._fromIdTokenResponse(p,C,T),le=bf(C);return new fr({user:L,providerId:le,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const T=bf(C);return new fr({user:p,providerId:T,_tokenResponse:C,operationType:m})})()}}function bf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function cg(y){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(y){var p;const m=$e(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new fr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Cf(m,{returnSecureToken:!0}),T=yield fr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class uc extends N.ZR{constructor(p,m,C,T){var L;super(m.code,m.message),this.operationType=C,this.user=T,this.name="FirebaseError",Object.setPrototypeOf(this,uc.prototype),this.appName=p.name,this.code=m.code,this.tenantId=null!==(L=p.tenantId)&&void 0!==L?L:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(p,m,C,T){return new uc(p,m,C,T)}}function Rr(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?uc._fromErrorAndOperation(y,L,p,C):L})}function Cl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function If(y,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);yield dc(!0,m,p);const{providerUserInfo:C}=yield li(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=Cl(C||[]);return m.providerData=m.providerData.filter(L=>T.has(L.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function cc(y,p){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,p,m=!1){const C=yield bt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return fr._forOperation(y,"link",C)})).apply(this,arguments)}function dc(y,p,m){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(y,p,m){yield Sn(p);const T=!1===y?"provider-already-linked":"no-such-provider";ye(Cl(p.providerData).has(m)===y,p.auth,T)})).apply(this,arguments)}function fc(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(y,p,m=!1){const{auth:C}=y,T="reauthenticate";try{const L=yield bt(y,Rr(C,T,p,y),m);ye(L.idToken,C,"internal-error");const le=gt(L.idToken);ye(le,C,"internal-error");const{sub:Ae}=le;return ye(y.uid===Ae,C,"user-mismatch"),fr._forOperation(y,T,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&ve(C,"user-mismatch"),L}})).apply(this,arguments)}function wf(y,p){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(y,p,m=!1){const C="signIn",T=yield Rr(y,C,p),L=yield fr._fromIdTokenResponse(y,C,T);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Il(y,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(y,p){return wf($e(y),p)})).apply(this,arguments)}function fa(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);return yield dc(!1,m,p.providerId),cc(m,p)})).apply(this,arguments)}function wl(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(y,p){return fc((0,N.m9)(y),p)})).apply(this,arguments)}function ho(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,p))})).apply(this,arguments)}function dg(y,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(y,p){const m=$e(y),C=yield ho(m,{token:p,returnSecureToken:!0}),T=yield fr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Is{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Di._fromServerResponse(p,m):ve(p,"internal-error")}}class Di extends Is{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Di(m)}}function pa(y,p,m){var C;ye((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),ye(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ye(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iosBundleId=m.iOS.bundleId),m.android&&(ye(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function pc(y,p,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),T={requestType:"PASSWORD_RESET",email:p};m&&pa(C,T,m),yield W(C,T)})).apply(this,arguments)}function fg(y,p,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(y,p,m){yield Ii((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function hg(y,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(y,p){yield ca((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Df(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),C=yield Ii(m,{oobCode:p}),T=C.requestType;switch(ye(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(C.mfaInfo,m,"internal-error");default:ye(C.email,m,"internal-error")}let L=null;return C.mfaInfo&&(L=Is._fromServerResponse($e(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:T}})).apply(this,arguments)}function ga(y,p){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(y,p){const{data:m}=yield Df((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function wt(y,p,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(y,p,m){const C=$e(y),T=yield Cf(C,{returnSecureToken:!0,email:p,password:m}),L=yield fr._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function cn(y,p,m){return Il((0,N.m9)(y),yf.credential(p,m))}function yc(y,p,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};ye(m.handleCodeInApp,C,"argument-error"),m&&pa(C,T,m),yield ee(C,T)})).apply(this,arguments)}function xr(y,p){const m=vl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Tl(y,p,m){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),T=yf.credentialWithLink(p,m||re());return ye(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Il(C,T)})).apply(this,arguments)}function sv(y,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:createAuthUri",Yt(y,p))})).apply(this,arguments)}function Al(y,p){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,p){const C={identifier:p,continueUri:Ee()?re():"http://localhost"},{signinMethods:T}=yield sv((0,N.m9)(y),C);return T||[]})).apply(this,arguments)}function Rn(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&pa(m.auth,T,p);const{email:L}=yield Ht(m.auth,T);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function pg(y,p,m){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&pa(C.auth,L,m);const{email:le}=yield Se(C.auth,L);le!==y.email&&(yield y.reload())})).apply(this,arguments)}function Qr(y,p){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Af(y,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,N.m9)(y),L={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},le=yield bt(C,Qr(C.auth,L));C.displayName=le.displayName||null,C.photoURL=le.photoUrl||null;const Ae=C.providerData.find(({providerId:Ve})=>"password"===Ve);Ae&&(Ae.displayName=C.displayName,Ae.photoURL=C.photoURL),yield C._updateTokensIfNecessary(le)})).apply(this,arguments)}function gg(y,p){return Ml((0,N.m9)(y),p,null)}function Ec(y,p){return Ml((0,N.m9)(y),null,p)}function Ml(y,p,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(y,p,m){const{auth:C}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(L.email=p),m&&(L.password=m);const le=yield bt(y,Yr(C,L));yield y._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class ws{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class Cc extends ws{constructor(p,m,C,T){super(p,m,C),this.username=T}}class Rl extends ws{constructor(p,m){super(p,"facebook.com",m)}}class Sf extends Cc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class mg extends ws{constructor(p,m){super(p,"google.com",m)}}class Mf extends Cc{constructor(p,m,C){super(p,"twitter.com",m,C)}}function _g(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,m;if(!y)return null;const{providerId:C}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const le=null===(m=null===(p=gt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(le)return new ws(L,"anonymous"!==le&&"custom"!==le?le:null)}if(!C)return null;switch(C){case"facebook.com":return new Rl(L,T);case"github.com":return new Sf(L,T);case"google.com":return new mg(L,T);case"twitter.com":return new Mf(L,T,y.screenName||null);case"custom":case"anonymous":return new ws(L,null);default:return new ws(L,C,T)}}(m)}function yg(y,p,m,C){return(0,N.m9)(y).onAuthStateChanged(p,m,C)}function vn(y){return(0,N.m9)(y).signOut()}class Ds{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Ds("enroll",p)}static _fromMfaPendingCredential(p){return new Ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class bc{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=$e(p),T=(m.serverResponse.mfaInfo||[]).map(le=>Is._fromServerResponse(C,le));ye(m.serverResponse.mfaPendingCredential,C,"internal-error");const L=Ds._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new bc(L,T,function(){var le=(0,d.Z)(function*(Ae){const Ve=yield Ae._process(C,L);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Ye=Object.assign(Object.assign({},m.serverResponse),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(m.operationType){case"signIn":const At=yield fr._fromIdTokenResponse(C,m.operationType,Ye);return yield C._updateCurrentUser(At.user),At;case"reauthenticate":return ye(m.user,C,"internal-error"),fr._forOperation(m.user,m.operationType,Ye);default:ve(C,"internal-error")}});return function(Ae){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function vg(y,p){var m;const C=(0,N.m9)(y),T=p;return ye(p.operationType,C,"argument-error"),ye(null===(m=T.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),bc._fromError(C,T)}function _o(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:y.tenantId},p))}class vo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Is._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new vo(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,d.Z)(function*(){const T=p,L=yield C.getSession(),le=yield bt(C.user,T._process(C.user.auth,L,m));return yield C.user._updateTokensIfNecessary(le),C.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const C="string"==typeof p?p:p.uid,T=yield m.user.getIdToken(),L=yield bt(m.user,function(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:y.tenantId},p))}(m.user.auth,{idToken:T,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:le})=>le!==C),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(le){if("auth/user-token-expired"!==le.code)throw le}})()}}const ya=new WeakMap;function Rf(y){const p=(0,N.m9)(y);return ya.has(p)||ya.set(p,vo._fromUser(p)),ya.get(p)}const Nl="__sak";class Ai{constructor(p,m){this.storage=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const Ll=(()=>{class y extends Ai{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,N.z$)();return Cn(y)||Ki(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),L=this.localCache[C];T!==L&&m(C,L,T)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((Ae,Ve,Ye)=>{this.notifyListeners(Ae,Ye)});const T=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(T);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!C)return}const L=()=>{const Ae=this.storage.getItem(T);!C&&this.localCache[T]===Ae||this.notifyListeners(T,Ae)},le=this.storage.getItem(T);(0,N.w1)()&&10===document.documentMode&&le!==m.newValue&&m.newValue!==m.oldValue?setTimeout(L,10):L()}notifyListeners(m,C){this.localCache[m]=C;const T=this.listeners[m];if(T)for(const L of Array.from(T))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var T=()=>super._set,L=this;return(0,d.Z)(function*(){yield T().call(L,m,C),L.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,T=this;return(0,d.Z)(function*(){const L=yield C().call(T,m);return T.localCache[m]=JSON.stringify(L),L})()}_remove(m){var C=()=>super._remove,T=this;return(0,d.Z)(function*(){yield C().call(T,m),delete T.localCache[m]})()}}return y.type="LOCAL",y})(),xf=(()=>{class y extends Ai{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let J0=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(L=>L.isListeningto(m));if(C)return C;const T=new y(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,d.Z)(function*(){const T=m,{eventId:L,eventType:le,data:Ae}=T.data,Ve=C.handlersMap[le];if(!(null==Ve?void 0:Ve.size))return;T.ports[0].postMessage({status:"ack",eventId:L,eventType:le});const Ye=Array.from(Ve).map(function(){var hn=(0,d.Z)(function*(_i){return _i(T.origin,Ae)});return function(_i){return hn.apply(this,arguments)}}()),At=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Ye);T.ports[0].postMessage({status:"done",eventId:L,eventType:le,response:At})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ts(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Pf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var T=this;return(0,d.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let le,Ae;return new Promise((Ve,Ye)=>{const At=Ts("",20);L.port1.start();const hn=setTimeout(()=>{Ye(new Error("unsupported_event"))},C);Ae={messageChannel:L,onMessage(_i){const ss=_i;if(ss.data.eventId===At)switch(ss.data.status){case"ack":clearTimeout(hn),le=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Ve(ss.data.response);break;default:clearTimeout(hn),clearTimeout(le),Ye(new Error("invalid_response"))}}},T.handlers.add(Ae),L.port1.addEventListener("message",Ae.onMessage),T.target.postMessage({eventType:p,eventId:At,data:m},[L.port2])}).finally(()=>{Ae&&T.removeMessageHandler(Ae)})})()}}function zt(){return window}function Ul(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function Si(){return(Si=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ic="firebaseLocalStorageDb",Nf="firebaseLocalStorage",wc="fbase_key";class Ea{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Dc(y,p){return y.transaction([Nf],p?"readwrite":"readonly").objectStore(Nf)}function As(){const y=indexedDB.open(Ic,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Nf,{keyPath:wc})}catch(T){m(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Nf)?p(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(Ic);return new Ea(y).toPromise()}(),p(yield As()))}))})}function Tc(y,p,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(y,p,m){const C=Dc(y,!0).put({[wc]:p,value:m});return new Ea(C).toPromise()})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(y,p){const m=Dc(y,!1).get(p),C=yield new Ea(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Dt(y,p){const m=Dc(y,!0).delete(p);return new Ea(m).toPromise()}const $l=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield As()),m.db})()}_withRetries(m){var C=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const L=yield C._openDb();return yield m(L)}catch(L){if(T++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Ul()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=J0._getInstance(Ul()?self:null),m.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(T,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(T,L){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(T,L){return["keyChanged"]});return function(T,L){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var C,T;if(m.activeServiceWorker=yield function(){return Si.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pf(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=L[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield As();return yield Tc(m,Nl,"1"),yield Dt(m,Nl),!0}catch(m){}return!1})()}_withPendingWrite(m){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(L=>Tc(L,m,C)),T.localCache[m]=C,T.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,d.Z)(function*(){const T=yield C._withRetries(L=>function(y,p){return Zi.apply(this,arguments)}(L,m));return C.localCache[m]=T,T})()}_remove(m){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(T=>Dt(T,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const C=yield m._withRetries(le=>{const Ae=Dc(le,!1).getAll();return new Ea(Ae).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const T=[],L=new Set;for(const{fbase_key:le,value:Ae}of C)L.add(le),JSON.stringify(m.localCache[le])!==JSON.stringify(Ae)&&(m.notifyListeners(le,Ae),T.push(le));for(const le of Object.keys(m.localCache))m.localCache[le]&&!L.has(le)&&(m.notifyListeners(le,null),T.push(le));return T})()}notifyListeners(m,C){this.localCache[m]=C;const T=this.listeners[m];if(T)for(const L of Array.from(T))L(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ss(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:y.tenantId},p))}function Qi(){return(Qi=(0,d.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ac(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=T=>{const L=Oe("internal-error");L.customData=T,m(L)},C.type="text/javascript",C.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function Sc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ms=1e12;class xn{constructor(p){this.auth=p,this.counter=Ms,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new pr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||Ms;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ms))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var C;return null===(C=m._widgets.get(p||Ms))||void 0===C||C.execute(),""})()}}class pr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;ye(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Os=Sc("rcb"),Co=new pt(3e4,6e4);class Ji{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(p,m=""){return ye((y=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zt().grecaptcha):new Promise((C,T)=>{const L=zt().setTimeout(()=>{T(Oe(p,"network-request-failed"))},Co.get());zt()[Os]=()=>{zt().clearTimeout(L),delete zt()[Os];const Ae=zt().grecaptcha;if(!Ae)return void T(Oe(p,"internal-error"));const Ve=Ae.render;Ae.render=(Ye,At)=>{const hn=Ve(Ye,At);return this.counter++,hn},this.hostLanguage=m,C(Ae)},Ac(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Os,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),T(Oe(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ig{load(p){return(0,d.Z)(function*(){return new xn(p)})()}clearedOneInstance(){}}const Mc="recaptcha",wg={theme:"light",type:"image"};class Lf{constructor(p,m=Object.assign({},wg),C){this.parameters=m,this.type=Mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(C),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;ye(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ig:new Ji,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(L=>{const le=Ae=>{!Ae||(p.tokenChangeListeners.delete(le),L(Ae))};p.tokenChangeListeners.add(le),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=zt()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ye(Ee()&&!Ul(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(y){return Qi.apply(this,arguments)}(p.auth);ye(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zl{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=lo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Oc(y,p,m){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(y,p,m){const C=$e(y),T=yield Ca(C,p,(0,N.m9)(m));return new zl(T,L=>Il(C,L))})).apply(this,arguments)}function Dg(y,p,m){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);yield dc(!1,C,"phone");const T=yield Ca(C.auth,p,(0,N.m9)(m));return new zl(T,L=>fa(C,L))})).apply(this,arguments)}function Tg(y,p,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),T=yield Ca(C.auth,p,(0,N.m9)(m));return new zl(T,L=>wl(C,L))})).apply(this,arguments)}function Ca(y,p,m){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(y,p,m){var C;const T=yield m.verify();try{let L;if(ye("string"==typeof T,y,"argument-error"),ye(m.type===Mc,y,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const le=L.session;if("phoneNumber"in L)return ye("enroll"===le.type,y,"internal-error"),(yield _o(y,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ye("signin"===le.type,y,"internal-error");const Ae=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return ye(Ae,y,"missing-multi-factor-info"),(yield Ss(y,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield Jy(y,{phoneNumber:L.phoneNumber,recaptchaToken:T});return le}}finally{m._reset()}})).apply(this,arguments)}function Uf(y,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(y,p){yield cc((0,N.m9)(y),p)})).apply(this,arguments)}let bo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=$e(m)}verifyPhoneNumber(m,C){return Ca(this.auth,m,(0,N.m9)(C))}static credential(m,C){return lo._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:T}=m;return C&&T?lo._fromTokenResponse(C,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rs(y,p){return p?de(p):(ye(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class dn extends Mr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return sn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return sn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return sn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function xs(y){return wf(y.auth,new dn(y),y.bypassAuthState)}function ba(y){const{auth:p,user:m}=y;return ye(m,p,"internal-error"),fc(m,new dn(y),y.bypassAuthState)}function Ag(y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return ye(m,p,"internal-error"),cc(m,new dn(y),y.bypassAuthState)})).apply(this,arguments)}class Qt{constructor(p,m,C,T,L=!1){this.auth=p,this.resolver=C,this.user=T,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(C,T){p.pendingPromise={resolve:C,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(C,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:L,tenantId:le,error:Ae,type:Ve}=p;if(Ae)return void m.reject(Ae);const Ye={auth:m.auth,requestUri:C,sessionId:T,tenantId:le||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Ye))}catch(At){m.reject(At)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return Ag;case"reauthViaPopup":case"reauthViaRedirect":return ba;default:ve(this.auth,"internal-error")}}resolve(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nn=new pt(2e3,1e4);function Ia(y,p,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(y,p,m){const C=$e(y);ye(p instanceof bs,y,"argument-error");const T=Rs(C,m);return new Da(C,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Ps(y,p,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);ye(p instanceof bs,C.auth,"argument-error");const T=Rs(C.auth,m);return new Da(C.auth,"reauthViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}function kc(y,p,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);ye(p instanceof bs,C.auth,"argument-error");const T=Rs(C.auth,m);return new Da(C.auth,"linkViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}let Da=(()=>{class y extends Qt{constructor(m,C,T,L,le){super(m,C,L,le),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const C=yield m.execute();return ye(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,d.Z)(function*(){_t(1===m.filter.length,"Popup operations only handle one event");const C=Ts();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Oe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,T;this.pollId=(null===(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Nn.get())};m()}}return y.currentPopupAction=null,y})();const wo=new Map;class gr extends Qt{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let C=wo.get(m.auth._key());if(!C){try{const L=(yield function(y,p){return Ns.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(L)}catch(T){C=()=>Promise.reject(T)}wo.set(m.auth._key(),C)}return C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const T=yield C.auth._redirectUserForId(p.eventId);if(T)return C.user=T,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ns(){return(Ns=(0,d.Z)(function*(y,p){const m=Hf(p),C="true"===(yield Bf(y)._get(m));return yield Bf(y)._remove(m),C})).apply(this,arguments)}function Sg(y,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(y,p){return Bf(y)._set(Hf(p),"true")})).apply(this,arguments)}function hv(){wo.clear()}function Bf(y){return de(y._redirectPersistence)}function Hf(y){return Tt("pendingRedirect",y.config.apiKey,y.name)}function Yl(y,p,m){return function(y,p,m){return pi.apply(this,arguments)}(y,p,m)}function pi(){return(pi=(0,d.Z)(function*(y,p,m){const C=$e(y);ye(p instanceof bs,y,"argument-error");const T=Rs(C,m);return yield Sg(T,C),T._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Do(y,p,m){return function(y,p,m){return Zl.apply(this,arguments)}(y,p,m)}function Zl(){return(Zl=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);ye(p instanceof bs,C.auth,"argument-error");const T=Rs(C.auth,m);yield Sg(T,C.auth);const L=yield pv(C);return T._openRedirect(C.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function es(y,p,m){return function(y,p,m){return ts.apply(this,arguments)}(y,p,m)}function ts(){return(ts=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);ye(p instanceof bs,C.auth,"argument-error");const T=Rs(C.auth,m);yield dc(!1,C,p.providerId),yield Sg(T,C.auth);const L=yield pv(C);return T._openRedirect(C.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function $f(y,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(y,p){return yield $e(y)._initializationPromise,Ql(y,p,!1)})).apply(this,arguments)}function Ql(y,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(y,p,m=!1){const C=$e(y),T=Rs(C,p),le=yield new gr(C,T,m).execute();return le&&!m&&(delete le.user._redirectEventId,yield C._persistUserIfCurrent(le.user),yield C._setRedirectUser(null,p)),le})).apply(this,arguments)}function pv(y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(y){const p=Ts(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Fs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!fn(p)){const T=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Oe(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uc(p))}saveEventToCache(p){this.cachedEventUids.add(Uc(p)),this.lastProcessedEventTime=Date.now()}}function Uc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function fn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function gv(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(y,p={}){return Rt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,To=/^https?/;function Jl(){return(Jl=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield gv(y);for(const m of p)try{if(Wf(m))return}catch(C){}ve(y,"unauthorized-domain")})).apply(this,arguments)}function Wf(y){const p=re(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const le=new URL(y);return""===le.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&le.hostname===C}if(!To.test(m))return!1;if(ns.test(y))return C===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const Ls=new pt(3e4,6e4);function Pr(){const y=zt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let _r=null;function jc(y){return _r=_r||function(y){return new Promise((p,m)=>{var C,T,L;function le(){Pr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Pr(),m(Oe(y,"network-request-failed"))},timeout:Ls.get()})}if(null===(T=null===(C=zt().gapi)||void 0===C?void 0:C.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(L=zt().gapi)||void 0===L?void 0:L.load)){const Ae=Sc("iframefcb");return zt()[Ae]=()=>{gapi.load?le():m(Oe(y,"network-request-failed"))},Ac(`https://apis.google.com/js/api.js?onload=${Ae}`)}le()}}).catch(p=>{throw _r=null,p})}(y),_r}const Oa=new pt(5e3,15e3),Gf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(y){const p=y.config;ye(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?ze(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:Y.SDK_VERSION},T=mv.get(y.config.apiHost);T&&(C.eid=T);const L=y._getFrameworks();return L.length&&(C.fw=L.join(",")),`${m}?${(0,N.xO)(C).slice(1)}`}function rs(){return(rs=(0,d.Z)(function*(y){const p=yield jc(y),m=zt().gapi;return ye(m,y,"internal-error"),p.open({where:document.body,url:xa(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gf,dontclear:!0},C=>new Promise(function(){var T=(0,d.Z)(function*(L,le){yield C.restyle({setHideOnLeave:!1});const Ae=Oe(y,"network-request-failed"),Ve=zt().setTimeout(()=>{le(Ae)},Oa.get());function Ye(){zt().clearTimeout(Ve),L(C)}C.ping(Ye).then(Ye,()=>{le(Ae)})});return function(L,le){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const _v={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function mi(y,p,m,C,T,L){ye(y.config.authDomain,y,"auth-domain-config-required"),ye(y.config.apiKey,y,"invalid-api-key");const le={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:Y.SDK_VERSION,eventId:T};if(p instanceof bs){p.setDefaultLanguage(y.languageCode),le.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(le.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Ye]of Object.entries(L||{}))le[Ve]=Ye}if(p instanceof uo){const Ve=p.getScopes().filter(Ye=>""!==Ye);Ve.length>0&&(le.scopes=Ve.join(","))}y.tenantId&&(le.tid=y.tenantId);const Ae=le;for(const Ve of Object.keys(Ae))void 0===Ae[Ve]&&delete Ae[Ve];return`${function({config:y}){return y.emulator?ze(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(Ae).slice(1)}`}const eu="webStorageSupport",tu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xf,this._completeRedirectFn=Ql}_openPopup(p,m,C,T){var L=this;return(0,d.Z)(function*(){var le;_t(null===(le=L.eventManagers[p._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ae=mi(p,m,C,re(),T);return function(y,p,m,C=500,T=600){const L=Math.max((window.screen.availHeight-T)/2,0).toString(),le=Math.max((window.screen.availWidth-C)/2,0).toString();let Ae="";const Ve=Object.assign(Object.assign({},_v),{width:C.toString(),height:T.toString(),top:L,left:le}),Ye=(0,N.z$)().toLowerCase();m&&(Ae=Kr(Ye)?"_blank":m),Hn(Ye)&&(p=p||"http://localhost",Ve.scrollbars="yes");const At=Object.entries(Ve).reduce((_i,[ss,iu])=>`${_i}${ss}=${iu},`,"");if(function(y=(0,N.z$)()){var p;return Ki(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ye)&&"_self"!==Ae)return function(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",Ae),new Bc(null);const hn=window.open(p||"",Ae,At);ye(hn,y,"popup-blocked");try{hn.focus()}catch(_i){}return new Bc(hn)}(p,Ae,Ts())})()}_openRedirect(p,m,C,T){var L=this;return(0,d.Z)(function*(){return yield L._originValidation(p),y=mi(p,m,C,re(),T),zt().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:L}=this.eventManagers[m];return T?Promise.resolve(T):(_t(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const C=yield function(y){return rs.apply(this,arguments)}(p),T=new Fs(p);return C.register("authEvent",L=>(ye(null==L?void 0:L.authEvent,p,"invalid-auth-event"),{status:T.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=C,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(eu,{type:eu},T=>{var L;const le=null===(L=null==T?void 0:T[0])||void 0===L?void 0:L[eu];void 0!==le&&m(!!le),ve(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return Jl.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yn()||Cn()||Ki()}};class ru extends class{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ru(p)}_finalizeEnroll(p,m,C){return function(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:y.tenantId},p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:y.tenantId},p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Hc{constructor(){}static assertion(p){return ru._fromCredential(p)}}var y;class $c{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var T;p((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pg(y=(0,Y.getApp)()){const p=(0,Y._getProvider)(y,"auth");return p.isInitialized()?p.getImmediate():function(y,p){const m=(0,Y._getProvider)(y,"auth");if(m.isInitialized()){const T=m.getImmediate(),L=m.getOptions();if((0,N.vZ)(L,null!=p?p:{}))return T;ve(T,"already-initialized")}return m.initialize({options:p})}(y,{popupRedirectResolver:tu,persistence:[$l,Ll,xf]})}y="Browser",(0,Y._registerComponent)(new F.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:L}=C.options;return(le=>{ye(T&&!T.includes(":"),"invalid-api-key",{appName:le.name}),ye(!(null==L?void 0:L.includes(":")),"argument-error",{appName:le.name});const Ae={apiKey:T,authDomain:L,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(y)},Ve=new ke(le,Ae);return function(y,p){const m=(null==p?void 0:p.persistence)||[],C=(Array.isArray(m)?m:[m]).map(de);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Ve,m),Ve})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new F.wA("auth-internal",p=>{const m=$e(p.getProvider("auth").getImmediate());return new $c(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)("@firebase/auth","0.17.1",void 0)},6034:(Q,B,D)=>{"use strict";D.d(B,{wA:()=>Y,H0:()=>R});var d=D(4762),N=D(4685),Y=function(){function x(S,k,O){this.name=S,this.instanceFactory=k,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return x.prototype.setInstantiationMode=function(S){return this.instantiationMode=S,this},x.prototype.setMultipleInstances=function(S){return this.multipleInstances=S,this},x.prototype.setServiceProps=function(S){return this.serviceProps=S,this},x.prototype.setInstanceCreatedCallback=function(S){return this.onInstanceCreated=S,this},x}(),q="[DEFAULT]",$=function(){function x(S,k){this.name=S,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return x.prototype.get=function(S){var k=this.normalizeInstanceIdentifier(S);if(!this.instancesDeferred.has(k)){var O=new N.BH;if(this.instancesDeferred.set(k,O),this.isInitialized(k)||this.shouldAutoInitialize())try{var H=this.getOrInitializeService({instanceIdentifier:k});H&&O.resolve(H)}catch(X){}}return this.instancesDeferred.get(k).promise},x.prototype.getImmediate=function(S){var k,O=this.normalizeInstanceIdentifier(null==S?void 0:S.identifier),H=null!==(k=null==S?void 0:S.optional)&&void 0!==k&&k;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(H)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(X){if(H)return null;throw X}},x.prototype.getComponent=function(){return this.component},x.prototype.setComponent=function(S){var k,O;if(S.name!==this.name)throw Error("Mismatching Component "+S.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=S,this.shouldAutoInitialize()){if(function(x){return"EAGER"===x.instantiationMode}(S))try{this.getOrInitializeService({instanceIdentifier:q})}catch(ve){}try{for(var H=(0,d.XA)(this.instancesDeferred.entries()),X=H.next();!X.done;X=H.next()){var Ce=(0,d.CR)(X.value,2),Ie=Ce[1],ce=this.normalizeInstanceIdentifier(Ce[0]);try{var be=this.getOrInitializeService({instanceIdentifier:ce});Ie.resolve(be)}catch(ve){}}}catch(ve){k={error:ve}}finally{try{X&&!X.done&&(O=H.return)&&O.call(H)}finally{if(k)throw k.error}}}},x.prototype.clearInstance=function(S){void 0===S&&(S=q),this.instancesDeferred.delete(S),this.instancesOptions.delete(S),this.instances.delete(S)},x.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var S;return(0,d.Jh)(this,function(k){switch(k.label){case 0:return S=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(S.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,d.CR)(S.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return k.sent(),[2]}})})},x.prototype.isComponentSet=function(){return null!=this.component},x.prototype.isInitialized=function(S){return void 0===S&&(S=q),this.instances.has(S)},x.prototype.getOptions=function(S){return void 0===S&&(S=q),this.instancesOptions.get(S)||{}},x.prototype.initialize=function(S){var k,O;void 0===S&&(S={});var H=S.options,X=void 0===H?{}:H,Ce=this.normalizeInstanceIdentifier(S.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ue=this.getOrInitializeService({instanceIdentifier:Ce,options:X});try{for(var Ie=(0,d.XA)(this.instancesDeferred.entries()),ce=Ie.next();!ce.done;ce=Ie.next()){var be=(0,d.CR)(ce.value,2),Oe=be[1];Ce===this.normalizeInstanceIdentifier(be[0])&&Oe.resolve(ue)}}catch(ye){k={error:ye}}finally{try{ce&&!ce.done&&(O=Ie.return)&&O.call(Ie)}finally{if(k)throw k.error}}return ue},x.prototype.onInit=function(S,k){var O,H=this.normalizeInstanceIdentifier(k),X=null!==(O=this.onInitCallbacks.get(H))&&void 0!==O?O:new Set;X.add(S),this.onInitCallbacks.set(H,X);var Ce=this.instances.get(H);return Ce&&S(Ce,H),function(){X.delete(S)}},x.prototype.invokeOnInitCallbacks=function(S,k){var O,H,X=this.onInitCallbacks.get(k);if(X)try{for(var Ce=(0,d.XA)(X),ue=Ce.next();!ue.done;ue=Ce.next()){var Ie=ue.value;try{Ie(S,k)}catch(ce){}}}catch(ce){O={error:ce}}finally{try{ue&&!ue.done&&(H=Ce.return)&&H.call(Ce)}finally{if(O)throw O.error}}},x.prototype.getOrInitializeService=function(S){var k=S.instanceIdentifier,O=S.options,H=void 0===O?{}:O,X=this.instances.get(k);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:F(k),options:H}),this.instances.set(k,X),this.instancesOptions.set(k,H),this.invokeOnInitCallbacks(X,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,X)}catch(Ce){}return X||null},x.prototype.normalizeInstanceIdentifier=function(S){return void 0===S&&(S=q),this.component?this.component.multipleInstances?S:q:S},x.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},x}();function F(x){return x===q?void 0:x}var R=function(){function x(S){this.name=S,this.providers=new Map}return x.prototype.addComponent=function(S){var k=this.getProvider(S.name);if(k.isComponentSet())throw new Error("Component "+S.name+" has already been registered with "+this.name);k.setComponent(S)},x.prototype.addOrOverwriteComponent=function(S){this.getProvider(S.name).isComponentSet()&&this.providers.delete(S.name),this.addComponent(S)},x.prototype.getProvider=function(S){if(this.providers.has(S))return this.providers.get(S);var k=new $(S,this);return this.providers.set(S,k),k},x.prototype.getProviders=function(){return Array.from(this.providers.values())},x}()},300:(Q,B,D)=>{"use strict";function d(){for(var O=0,H=0,X=arguments.length;H<X;H++)O+=arguments[H].length;var Ce=Array(O),ue=0;for(H=0;H<X;H++)for(var Ie=arguments[H],ce=0,be=Ie.length;ce<be;ce++,ue++)Ce[ue]=Ie[ce];return Ce}D.d(B,{in:()=>q,Yd:()=>x,Ub:()=>S,Am:()=>k});var N,Y=[],q=(()=>{return(O=q||(q={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",q;var O})(),$={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},F=q.INFO,j=((N={})[q.DEBUG]="log",N[q.VERBOSE]="log",N[q.INFO]="info",N[q.WARN]="warn",N[q.ERROR]="error",N),R=function(O,H){for(var X=[],Ce=2;Ce<arguments.length;Ce++)X[Ce-2]=arguments[Ce];if(!(H<O.logLevel)){var ue=(new Date).toISOString(),Ie=j[H];if(!Ie)throw new Error("Attempted to log a message with an invalid logType (value: "+H+")");console[Ie].apply(console,d(["["+ue+"]  "+O.name+":"],X))}},x=function(){function O(H){this.name=H,this._logLevel=F,this._logHandler=R,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(H){if(!(H in q))throw new TypeError('Invalid value "'+H+'" assigned to `logLevel`');this._logLevel=H},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(H){this._logLevel="string"==typeof H?$[H]:H},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(H){this._userLogHandler=H},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.DEBUG],H)),this._logHandler.apply(this,d([this,q.DEBUG],H))},O.prototype.log=function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.VERBOSE],H)),this._logHandler.apply(this,d([this,q.VERBOSE],H))},O.prototype.info=function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.INFO],H)),this._logHandler.apply(this,d([this,q.INFO],H))},O.prototype.warn=function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.WARN],H)),this._logHandler.apply(this,d([this,q.WARN],H))},O.prototype.error=function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.ERROR],H)),this._logHandler.apply(this,d([this,q.ERROR],H))},O}();function S(O){Y.forEach(function(H){H.setLogLevel(O)})}function k(O,H){for(var X=function(ce){var be=null;H&&H.level&&(be=$[H.level]),ce.userLogHandler=null===O?null:function(ve,Oe){for(var Ne=[],ye=2;ye<arguments.length;ye++)Ne[ye-2]=arguments[ye];var ut=Ne.map(function(_t){if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch(yt){return null}}).filter(function(_t){return _t}).join(" ");Oe>=(null!=be?be:ve.logLevel)&&O({level:q[Oe].toLowerCase(),message:ut,args:Ne,type:ve.name})}},Ce=0,ue=Y;Ce<ue.length;Ce++)X(ue[Ce])}},4685:(Q,B,D)=>{"use strict";D.d(B,{BH:()=>X,LL:()=>Fe,ZR:()=>se,gQ:()=>li,hu:()=>Y,g5:()=>q,US:()=>j,tV:()=>S,h$:()=>R,r3:()=>zr,ne:()=>Tr,p$:()=>k,vZ:()=>Gi,ZB:()=>O,gK:()=>He,pd:()=>zn,m9:()=>jt,z$:()=>ue,GJ:()=>Ft,jU:()=>be,ru:()=>ve,xb:()=>qt,w1:()=>ye,hl:()=>de,uI:()=>Ie,UG:()=>ce,Yr:()=>_t,b$:()=>Oe,w9:()=>Rt,cI:()=>ze,UI:()=>Gn,xO:()=>Dr,zd:()=>ai,DV:()=>Gt,ug:()=>Pe,dS:()=>bt,Pz:()=>st});var d=D(4762),Y=function(K,G){if(!K)throw q(G)},q=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},$=function(K){for(var G=[],ne=0,fe=0;fe<K.length;fe++){var te=K.charCodeAt(fe);te<128?G[ne++]=te:te<2048?(G[ne++]=te>>6|192,G[ne++]=63&te|128):55296==(64512&te)&&fe+1<K.length&&56320==(64512&K.charCodeAt(fe+1))?(te=65536+((1023&te)<<10)+(1023&K.charCodeAt(++fe)),G[ne++]=te>>18|240,G[ne++]=te>>12&63|128,G[ne++]=te>>6&63|128,G[ne++]=63&te|128):(G[ne++]=te>>12|224,G[ne++]=te>>6&63|128,G[ne++]=63&te|128)}return G},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,G){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[],te=0;te<K.length;te+=3){var xe=K[te],je=te+1<K.length,mt=je?K[te+1]:0,Tt=te+2<K.length,lt=Tt?K[te+2]:0,Cn=(15&mt)<<2|lt>>6,Kr=63&lt;Tt||(Kr=64,je||(Cn=64)),fe.push(ne[xe>>2],ne[(3&xe)<<4|mt>>4],ne[Cn],ne[Kr])}return fe.join("")},encodeString:function(K,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(K):this.encodeByteArray($(K),G)},decodeString:function(K,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(K):function(K){for(var G=[],ne=0,fe=0;ne<K.length;){var te=K[ne++];if(te<128)G[fe++]=String.fromCharCode(te);else if(te>191&&te<224){var xe=K[ne++];G[fe++]=String.fromCharCode((31&te)<<6|63&xe)}else if(te>239&&te<365){var Tt=((7&te)<<18|(63&(xe=K[ne++]))<<12|(63&(je=K[ne++]))<<6|63&K[ne++])-65536;G[fe++]=String.fromCharCode(55296+(Tt>>10)),G[fe++]=String.fromCharCode(56320+(1023&Tt))}else{xe=K[ne++];var je=K[ne++];G[fe++]=String.fromCharCode((15&te)<<12|(63&xe)<<6|63&je)}}return G.join("")}(this.decodeStringToByteArray(K,G))},decodeStringToByteArray:function(K,G){this.init_();for(var ne=G?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[],te=0;te<K.length;){var xe=ne[K.charAt(te++)],mt=te<K.length?ne[K.charAt(te)]:0,lt=++te<K.length?ne[K.charAt(te)]:64,Hn=++te<K.length?ne[K.charAt(te)]:64;if(++te,null==xe||null==mt||null==lt||null==Hn)throw Error();fe.push(xe<<2|mt>>4),64!==lt&&(fe.push(mt<<4&240|lt>>2),64!==Hn&&fe.push(lt<<6&192|Hn))}return fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},R=function(K){var G=$(K);return j.encodeByteArray(G,!0)},S=function(K){try{return j.decodeString(K,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function k(K){return O(void 0,K)}function O(K,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return G}for(var fe in G)!G.hasOwnProperty(fe)||!H(fe)||(K[fe]=O(K[fe],G[fe]));return K}function H(K){return"__proto__"!==K}var X=function(){function K(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,fe){G.resolve=ne,G.reject=fe})}return K.prototype.wrapCallback=function(G){var ne=this;return function(fe,te){fe?ne.reject(fe):ne.resolve(te),"function"==typeof G&&(ne.promise.catch(function(){}),1===G.length?G(fe):G(fe,te))}},K}();function ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function be(){return"object"==typeof self&&self.self===self}function ve(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){var K=ue();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function _t(){return!1}function de(){return"indexedDB"in self&&null!=indexedDB}var se=function(K){function G(ne,fe,te){var xe=K.call(this,fe)||this;return xe.code=ne,xe.customData=te,xe.name="FirebaseError",Object.setPrototypeOf(xe,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(xe,Fe.prototype.create),xe}return(0,d.ZT)(G,K),G}(Error),Fe=function(){function K(G,ne,fe){this.service=G,this.serviceName=ne,this.errors=fe}return K.prototype.create=function(G){for(var ne=[],fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];var te=ne[0]||{},xe=this.service+"/"+G,je=this.errors[G],mt=je?at(je,te):"Error",Tt=this.serviceName+": "+mt+" ("+xe+").",lt=new se(xe,Tt,te);return lt},K}();function at(K,G){return K.replace(pt,function(ne,fe){var te=G[fe];return null!=te?String(te):"<"+fe+"?>"})}var pt=/\{\$([^}]+)}/g;function ze(K){return JSON.parse(K)}function st(K){return JSON.stringify(K)}var Je=function(K){var G={},ne={},fe={},te="";try{var xe=K.split(".");G=ze(S(xe[0])||""),ne=ze(S(xe[1])||""),te=xe[2],fe=ne.d||{},delete ne.d}catch(je){}return{header:G,claims:ne,data:fe,signature:te}},Rt=function(K){var ne=Je(K).claims;return!!ne&&"object"==typeof ne&&ne.hasOwnProperty("iat")},Ft=function(K){var G=Je(K).claims;return"object"==typeof G&&!0===G.admin};function zr(K,G){return Object.prototype.hasOwnProperty.call(K,G)}function Gt(K,G){if(Object.prototype.hasOwnProperty.call(K,G))return K[G]}function qt(K){for(var G in K)if(Object.prototype.hasOwnProperty.call(K,G))return!1;return!0}function Gn(K,G,ne){var fe={};for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(fe[te]=G.call(ne,K[te],te,K));return fe}function Gi(K,G){if(K===G)return!0;for(var ne=Object.keys(K),fe=Object.keys(G),te=0,xe=ne;te<xe.length;te++){if(!fe.includes(je=xe[te]))return!1;var mt=K[je],Tt=G[je];if(bi(mt)&&bi(Tt)){if(!Gi(mt,Tt))return!1}else if(mt!==Tt)return!1}for(var lt=0,Dn=fe;lt<Dn.length;lt++){var je;if(!ne.includes(je=Dn[lt]))return!1}return!0}function bi(K){return null!==K&&"object"==typeof K}function Dr(K){for(var G=[],ne=function(Tt,lt){Array.isArray(lt)?lt.forEach(function(Dn){G.push(encodeURIComponent(Tt)+"="+encodeURIComponent(Dn))}):G.push(encodeURIComponent(Tt)+"="+encodeURIComponent(lt))},fe=0,te=Object.entries(K);fe<te.length;fe++){var xe=te[fe];ne(xe[0],xe[1])}return G.length?"&"+G.join("&"):""}function ai(K){var G={};return K.replace(/^\?/,"").split("&").forEach(function(fe){if(fe){var te=fe.split("="),je=te[1];G[decodeURIComponent(te[0])]=decodeURIComponent(je)}}),G}function zn(K){var G=K.indexOf("?");if(!G)return"";var ne=K.indexOf("#",G);return K.substring(G,ne>0?ne:void 0)}var li=function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}return K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function(G,ne){ne||(ne=0);var fe=this.W_;if("string"==typeof G)for(var te=0;te<16;te++)fe[te]=G.charCodeAt(ne)<<24|G.charCodeAt(ne+1)<<16|G.charCodeAt(ne+2)<<8|G.charCodeAt(ne+3),ne+=4;else for(te=0;te<16;te++)fe[te]=G[ne]<<24|G[ne+1]<<16|G[ne+2]<<8|G[ne+3],ne+=4;for(te=16;te<80;te++)fe[te]=4294967295&((xe=fe[te-3]^fe[te-8]^fe[te-14]^fe[te-16])<<1|xe>>>31);var Hn,Cn,je=this.chain_[0],mt=this.chain_[1],Tt=this.chain_[2],lt=this.chain_[3],Dn=this.chain_[4];for(te=0;te<80;te++){te<40?te<20?(Hn=lt^mt&(Tt^lt),Cn=1518500249):(Hn=mt^Tt^lt,Cn=1859775393):te<60?(Hn=mt&Tt|lt&(mt|Tt),Cn=2400959708):(Hn=mt^Tt^lt,Cn=3395469782);var xe=(je<<5|je>>>27)+Hn+Dn+Cn+fe[te]&4294967295;Dn=lt,lt=Tt,Tt=4294967295&(mt<<30|mt>>>2),mt=je,je=xe}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+Tt&4294967295,this.chain_[3]=this.chain_[3]+lt&4294967295,this.chain_[4]=this.chain_[4]+Dn&4294967295},K.prototype.update=function(G,ne){if(null!=G){void 0===ne&&(ne=G.length);for(var fe=ne-this.blockSize,te=0,xe=this.buf_,je=this.inbuf_;te<ne;){if(0===je)for(;te<=fe;)this.compress_(G,te),te+=this.blockSize;if("string"==typeof G){for(;te<ne;)if(xe[je]=G.charCodeAt(te),++te,++je===this.blockSize){this.compress_(xe),je=0;break}}else for(;te<ne;)if(xe[je]=G[te],++te,++je===this.blockSize){this.compress_(xe),je=0;break}}this.inbuf_=je,this.total_+=ne}},K.prototype.digest=function(){var G=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&ne,ne/=256;this.compress_(this.buf_);var te=0;for(fe=0;fe<5;fe++)for(var xe=24;xe>=0;xe-=8)G[te]=this.chain_[fe]>>xe&255,++te;return G},K}();function Tr(K,G){var ne=new Ue(K,G);return ne.subscribe.bind(ne)}var Ue=function(){function K(G,ne){var fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){G(fe)}).catch(function(te){fe.error(te)})}return K.prototype.next=function(G){this.forEachObserver(function(ne){ne.next(G)})},K.prototype.error=function(G){this.forEachObserver(function(ne){ne.error(G)}),this.close(G)},K.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},K.prototype.subscribe=function(G,ne,fe){var xe,te=this;if(void 0===G&&void 0===ne&&void 0===fe)throw new Error("Missing Observer.");void 0===(xe=function(K,G){if("object"!=typeof K||null===K)return!1;for(var ne=0,fe=["next","error","complete"];ne<fe.length;ne++){var te=fe[ne];if(te in K&&"function"==typeof K[te])return!0}return!1}(G)?G:{next:G,error:ne,complete:fe}).next&&(xe.next=Bn),void 0===xe.error&&(xe.error=Bn),void 0===xe.complete&&(xe.complete=Bn);var je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{te.finalError?xe.error(te.finalError):xe.complete()}catch(mt){}}),this.observers.push(xe),je},K.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function(G){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,G)},K.prototype.sendOne=function(G,ne){var fe=this;this.task.then(function(){if(void 0!==fe.observers&&void 0!==fe.observers[G])try{ne(fe.observers[G])}catch(te){"undefined"!=typeof console&&console.error&&console.error(te)}})},K.prototype.close=function(G){var ne=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},K}();function Bn(){}function He(K,G){return K+" failed: "+G+" argument "}var bt=function(K){for(var G=[],ne=0,fe=0;fe<K.length;fe++){var te=K.charCodeAt(fe);if(te>=55296&&te<=56319){var xe=te-55296;fe++,Y(fe<K.length,"Surrogate pair missing trail surrogate."),te=65536+(xe<<10)+(K.charCodeAt(fe)-56320)}te<128?G[ne++]=te:te<2048?(G[ne++]=te>>6|192,G[ne++]=63&te|128):te<65536?(G[ne++]=te>>12|224,G[ne++]=te>>6&63|128,G[ne++]=63&te|128):(G[ne++]=te>>18|240,G[ne++]=te>>12&63|128,G[ne++]=te>>6&63|128,G[ne++]=63&te|128)}return G},Pe=function(K){for(var G=0,ne=0;ne<K.length;ne++){var fe=K.charCodeAt(ne);fe<128?G++:fe<2048?G+=2:fe>=55296&&fe<=56319?(G+=4,ne++):G+=3}return G};function jt(K){return K&&K._delegate?K._delegate:K}},3572:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4220),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8891),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Q){const B={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof Q?Q():Q,Y=Object.assign({},B,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||B.features},D);if(Y.maxAge&&Y.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Y.maxAge}`);return Y}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(B,D){if(this.action=B,this.timestamp=D,this.type=PERFORM_ACTION,void 0===B.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(B){this.timestamp=B,this.type=RESET}}class Rollback{constructor(B){this.timestamp=B,this.type=ROLLBACK}}class Commit{constructor(B){this.timestamp=B,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(B){this.id=B,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(B,D,d=!0){this.start=B,this.end=D,this.active=d,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(B){this.index=B,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(B){this.actionId=B,this.type=JUMP_TO_ACTION}}class ImportState{constructor(B){this.nextLiftedState=B,this.type=IMPORT_STATE}}class LockChanges{constructor(B){this.status=B,this.type=LOCK_CHANGES}}class PauseRecording{constructor(B){this.status=B,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class Q extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Q.\u0275fac=function(){let B;return function(d){return(B||(B=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Q)))(d||Q)}}(),Q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function difference(Q,B){return Q.filter(D=>B.indexOf(D)<0)}function unliftState(Q){const{computedStates:B,currentStateIndex:D}=Q;if(D>=B.length){const{state:N}=B[B.length-1];return N}const{state:d}=B[D];return d}function unliftAction(Q){return Q.actionsById[Q.nextActionId-1]}function liftAction(Q){return new PerformAction(Q,+Date.now())}function sanitizeActions(Q,B){return Object.keys(B).reduce((D,d)=>{const N=Number(d);return D[N]=sanitizeAction(Q,B[N],N),D},{})}function sanitizeAction(Q,B,D){return Object.assign(Object.assign({},B),{action:Q(B.action,D)})}function sanitizeStates(Q,B){return B.map((D,d)=>({state:sanitizeState(Q,D.state,d),error:D.error}))}function sanitizeState(Q,B,D){return Q(B,D)}function shouldFilterActions(Q){return Q.predicate||Q.actionsSafelist||Q.actionsBlocklist}function filterLiftedState(Q,B,D,d){const N=[],Y={},q=[];return Q.stagedActionIds.forEach(($,F)=>{const j=Q.actionsById[$];!j||F&&isActionFiltered(Q.computedStates[F],j,B,D,d)||(Y[$]=j,N.push($),q.push(Q.computedStates[F]))}),Object.assign(Object.assign({},Q),{stagedActionIds:N,actionsById:Y,computedStates:q})}function isActionFiltered(Q,B,D,d,N){const Y=D&&!D(Q,B.action),q=d&&!B.action.type.match(d.map(F=>escapeRegExp(F)).join("|")),$=N&&B.action.type.match(N.map(F=>escapeRegExp(F)).join("|"));return Y||q||$}function escapeRegExp(Q){return Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Q,B,D){this.config=B,this.dispatcher=D,this.devtoolsExtension=Q,this.createActionStreams()}notify(Q,B){if(this.devtoolsExtension)if(Q.type===PERFORM_ACTION){if(B.isLocked||B.isPaused)return;const D=unliftState(B);if(shouldFilterActions(this.config)&&isActionFiltered(D,Q,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const d=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,B.currentStateIndex):D,N=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Q,B.nextActionId):Q;this.sendToReduxDevtools(()=>this.extensionConnection.send(N,d))}else{const D=Object.assign(Object.assign({},B),{stagedActionIds:B.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,B.actionsById):B.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,B.computedStates):B.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Q=>{const B=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=B,B.init(),B.subscribe(D=>Q.next(D)),B.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Q=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),B=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.START)),D=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.STOP)),d=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)($=>$.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($))),Y=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),q=d.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Y)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>q))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Q){var B;const D={name:Q.name,features:Q.features,serialize:Q.serialize,autoPause:null!==(B=Q.autoPause)&&void 0!==B&&B};return!1!==Q.maxAge&&(D.maxAge=Q.maxAge),D}sendToReduxDevtools(Q){try{Q()}catch(B){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",B)}}}return DevtoolsExtension.\u0275fac=function(B){return new(B||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Q,B,D,d,N){if(d)return{state:D,error:"Interrupted by an error up the chain"};let q,Y=D;try{Y=Q(D,B)}catch($){q=$.toString(),N.handleError($)}return{state:Y,error:q}}function recomputeStates(Q,B,D,d,N,Y,q,$,F){if(B>=Q.length&&Q.length===Y.length)return Q;const j=Q.slice(0,B),R=Y.length-(F?1:0);for(let x=B;x<R;x++){const S=Y[x],k=N[S].action,O=j[x-1],H=O?O.state:d,X=O?O.error:void 0,ue=q.indexOf(S)>-1?O:computeNextEntry(D,k,H,X,$);j.push(ue)}return F&&j.push(Q[Q.length-1]),j}function liftInitialState(Q,B){return{monitorState:B(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Q,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Q,B,D,d,N={}){return Y=>(q,$)=>{let{monitorState:F,actionsById:j,nextActionId:R,stagedActionIds:x,skippedActionIds:S,committedState:k,currentStateIndex:O,computedStates:H,isLocked:X,isPaused:Ce}=q||B;function ue(be){let ve=be,Oe=x.slice(1,ve+1);for(let Ne=0;Ne<Oe.length;Ne++){if(H[Ne+1].error){ve=Ne,Oe=x.slice(1,ve+1);break}delete j[Oe[Ne]]}S=S.filter(Ne=>-1===Oe.indexOf(Ne)),x=[0,...x.slice(ve+1)],k=H[ve].state,H=H.slice(ve),O=O>ve?O-ve:0}function Ie(){j={0:liftAction(INIT_ACTION)},R=1,x=[0],S=[],k=H[O].state,O=0,H=[]}q||(j=Object.create(j));let ce=0;switch($.type){case LOCK_CHANGES:X=$.status,ce=1/0;break;case PAUSE_RECORDING:Ce=$.status,Ce?(x=[...x,R],j[R]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),R++,ce=x.length-1,H=H.concat(H[H.length-1]),O===x.length-2&&O++,ce=1/0):Ie();break;case RESET:j={0:liftAction(INIT_ACTION)},R=1,x=[0],S=[],k=Q,O=0,H=[];break;case COMMIT:Ie();break;case ROLLBACK:j={0:liftAction(INIT_ACTION)},R=1,x=[0],S=[],O=0,H=[];break;case TOGGLE_ACTION:{const{id:be}=$;S=-1===S.indexOf(be)?[be,...S]:S.filter(Oe=>Oe!==be),ce=x.indexOf(be);break}case SET_ACTIONS_ACTIVE:{const{start:be,end:ve,active:Oe}=$,Ne=[];for(let ye=be;ye<ve;ye++)Ne.push(ye);S=Oe?difference(S,Ne):[...S,...Ne],ce=x.indexOf(be);break}case JUMP_TO_STATE:O=$.index,ce=1/0;break;case JUMP_TO_ACTION:{const be=x.indexOf($.actionId);-1!==be&&(O=be),ce=1/0;break}case SWEEP:x=difference(x,S),S=[],O=Math.min(O,x.length-1);break;case PERFORM_ACTION:{if(X)return q||B;if(Ce||q&&isActionFiltered(q.computedStates[O],$,N.predicate,N.actionsSafelist,N.actionsBlocklist)){const ve=H[H.length-1];H=[...H.slice(0,-1),computeNextEntry(Y,$.action,ve.state,ve.error,D)],ce=1/0;break}N.maxAge&&x.length===N.maxAge&&ue(1),O===x.length-1&&O++;const be=R++;j[be]=$,x=[...x,be],ce=x.length-1;break}case IMPORT_STATE:({monitorState:F,actionsById:j,nextActionId:R,stagedActionIds:x,skippedActionIds:S,committedState:k,currentStateIndex:O,computedStates:H,isLocked:X,isPaused:Ce}=$.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ce=0,N.maxAge&&x.length>N.maxAge&&(H=recomputeStates(H,ce,Y,k,j,x,S,D,Ce),ue(x.length-N.maxAge),ce=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(H.filter(ve=>ve.error).length>0)ce=0,N.maxAge&&x.length>N.maxAge&&(H=recomputeStates(H,ce,Y,k,j,x,S,D,Ce),ue(x.length-N.maxAge),ce=1/0);else{if(!Ce&&!X){O===x.length-1&&O++;const ve=R++;j[ve]=new PerformAction($,+Date.now()),x=[...x,ve],ce=x.length-1,H=recomputeStates(H,ce,Y,k,j,x,S,D,Ce)}H=H.map(ve=>Object.assign(Object.assign({},ve),{state:Y(ve.state,RECOMPUTE_ACTION)})),O=x.length-1,N.maxAge&&x.length>N.maxAge&&ue(x.length-N.maxAge),ce=1/0}break;default:ce=1/0}return H=recomputeStates(H,ce,Y,k,j,x,S,D,Ce),F=d(F,$),{monitorState:F,actionsById:j,nextActionId:R,stagedActionIds:x,skippedActionIds:S,committedState:k,currentStateIndex:O,computedStates:H,isLocked:X,isPaused:Ce}}}let StoreDevtools=(()=>{class Q{constructor(D,d,N,Y,q,$,F,j){const R=liftInitialState(F,j.monitor),x=liftReducerWith(F,R,$,j.monitor,j),S=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(d.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),Y.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,Y.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),k=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(x)),O=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),H=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(k),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ie},[ce,be])=>{let ve=be(Ie,ce);return ce.type!==PERFORM_ACTION&&shouldFilterActions(j)&&(ve=filterLiftedState(ve,j.predicate,j.actionsSafelist,j.actionsBlocklist)),Y.notify(ce,ve),{state:ve,action:ce}},{state:R,action:null})).subscribe(({state:Ie,action:ce})=>{O.next(Ie),ce.type===PERFORM_ACTION&&q.next(ce.action)}),X=Y.start$.subscribe(()=>{this.refresh()}),Ce=O.asObservable(),ue=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=X,this.stateSubscription=H,this.dispatcher=D,this.liftedState=Ce,this.state=ue}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return Q.\u0275fac=function(D){return new(D||Q)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Q,B){return Boolean(Q)||B.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Q="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Q]?window[Q]:null}function createStateObservable(Q){return Q.state}let StoreDevtoolsModule=(()=>{class Q{static instrument(D={}){return{ngModule:Q,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:D},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Q.\u0275fac=function(D){return new(D||Q)},Q.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Q}),Q.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Q})()},4220:(Q,B,D)=>{"use strict";D.d(B,{UO:()=>ye,qg:()=>Ne,Y6:()=>de,mK:()=>li,n$:()=>zn,Y$:()=>jn,FR:()=>Xe,yh:()=>An,CK:()=>Yr,Aw:()=>qr,cr:()=>Ze,wb:()=>Tr,qC:()=>bi,PH:()=>ce,Lq:()=>ao,on:()=>Ht,Ky:()=>be});var d=D(7716),N=D(6215),Y=D(8891),q=D(9765),$=D(7771),F=D(8002),x=D(7393);class k{constructor(pe,ee){this.compare=pe,this.keySelector=ee}call(pe,ee){return ee.subscribe(new O(pe,this.compare,this.keySelector))}}class O extends x.L{constructor(pe,ee,he){super(pe),this.keySelector=he,this.hasKey=!1,"function"==typeof ee&&(this.compare=ee)}compare(pe,ee){return pe===ee}_next(pe){let ee;try{const{keySelector:Se}=this;ee=Se?Se(pe):pe}catch(Se){return this.destination.error(Se)}let he=!1;if(this.hasKey)try{const{compare:Se}=this;he=Se(this.key,ee)}catch(Se){return this.destination.error(Se)}else this.hasKey=!0;he||(this.key=ee,this.destination.next(pe))}}var H=D(9746),X=D(7057),Ce=D(2145);const ue={};function ce(W,pe){if(ue[W]=(ue[W]||0)+1,"function"==typeof pe)return Oe(W,(...he)=>Object.assign(Object.assign({},pe(...he)),{type:W}));switch(pe?pe._as:"empty"){case"empty":return Oe(W,()=>({type:W}));case"props":return Oe(W,he=>Object.assign(Object.assign({},he),{type:W}));default:throw new Error("Unexpected config.")}}function be(){return{_as:"props",_p:void 0}}function Oe(W,pe){return Object.defineProperty(pe,"type",{value:W,writable:!1})}const Ne="@ngrx/store/init";let ye=(()=>{class W extends N.X{constructor(){super({type:Ne})}next(ee){if("function"==typeof ee)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ee)throw new TypeError("Actions must be objects");if(void 0===ee.type)throw new TypeError("Actions must have a type property");super.next(ee)}complete(){}ngOnDestroy(){super.complete()}}return W.\u0275fac=function(ee){return new(ee||W)},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const ut=[ye],_t=new d.OlP("@ngrx/store Internal Root Guard"),yt=new d.OlP("@ngrx/store Internal Initial State"),de=new d.OlP("@ngrx/store Initial State"),_e=new d.OlP("@ngrx/store Reducer Factory"),ie=new d.OlP("@ngrx/store Internal Reducer Factory Provider"),re=new d.OlP("@ngrx/store Initial Reducers"),Ee=new d.OlP("@ngrx/store Internal Initial Reducers"),se=new d.OlP("@ngrx/store Store Features"),Fe=new d.OlP("@ngrx/store Internal Store Reducers"),at=new d.OlP("@ngrx/store Internal Feature Reducers"),pt=new d.OlP("@ngrx/store Internal Feature Configs"),ze=new d.OlP("@ngrx/store Internal Store Features"),st=new d.OlP("@ngrx/store Internal Feature Reducers Token"),Je=new d.OlP("@ngrx/store Feature Reducers"),ln=new d.OlP("@ngrx/store User Provided Meta Reducers"),Yt=new d.OlP("@ngrx/store Meta Reducers"),Rt=new d.OlP("@ngrx/store Internal Resolved Meta Reducers"),Ft=new d.OlP("@ngrx/store User Runtime Checks Config"),zr=new d.OlP("@ngrx/store Internal User Runtime Checks Config"),Gt=new d.OlP("@ngrx/store Internal Runtime Checks"),qt=new d.OlP("@ngrx/store Check if Action types are unique");function Gn(W,pe={}){const ee=Object.keys(W),he={};for(let Re=0;Re<ee.length;Re++){const Ke=ee[Re];"function"==typeof W[Ke]&&(he[Ke]=W[Ke])}const Se=Object.keys(he);return function(Ke,yn){Ke=void 0===Ke?pe:Ke;let Vt=!1;const Zt={};for(let xt=0;xt<Se.length;xt++){const sn=Se[xt],dr=Ke[sn],un=(0,he[sn])(dr,yn);Zt[sn]=un,Vt=Vt||un!==dr}return Vt?Zt:Ke}}function bi(...W){return function(pe){if(0===W.length)return pe;const ee=W[W.length-1];return W.slice(0,-1).reduceRight((Se,Re)=>Re(Se),ee(pe))}}function Dr(W,pe){return Array.isArray(pe)&&pe.length>0&&(W=bi.apply(null,[...pe,W])),(ee,he)=>{const Se=W(ee);return(Re,Ke)=>Se(Re=void 0===Re?he:Re,Ke)}}class zn extends Y.y{}class li extends ye{}const Tr="@ngrx/store/update-reducers";let Ue=(()=>{class W extends N.X{constructor(ee,he,Se,Re){super(Re(Se,he)),this.dispatcher=ee,this.initialState=he,this.reducers=Se,this.reducerFactory=Re}get currentReducers(){return this.reducers}addFeature(ee){this.addFeatures([ee])}addFeatures(ee){const he=ee.reduce((Se,{reducers:Re,reducerFactory:Ke,metaReducers:yn,initialState:Vt,key:Zt})=>{const xt="function"==typeof Re?function(W){const pe=Array.isArray(W)&&W.length>0?bi(...W):ee=>ee;return(ee,he)=>(ee=pe(ee),(Se,Re)=>ee(Se=void 0===Se?he:Se,Re))}(yn)(Re,Vt):Dr(Ke,yn)(Re,Vt);return Se[Zt]=xt,Se},{});this.addReducers(he)}removeFeature(ee){this.removeFeatures([ee])}removeFeatures(ee){this.removeReducers(ee.map(he=>he.key))}addReducer(ee,he){this.addReducers({[ee]:he})}addReducers(ee){this.reducers=Object.assign(Object.assign({},this.reducers),ee),this.updateReducers(Object.keys(ee))}removeReducer(ee){this.removeReducers([ee])}removeReducers(ee){ee.forEach(he=>{this.reducers=function(W,pe){return Object.keys(W).filter(ee=>ee!==pe).reduce((ee,he)=>Object.assign(ee,{[he]:W[he]}),{})}(this.reducers,he)}),this.updateReducers(ee)}updateReducers(ee){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Tr,features:ee})}ngOnDestroy(){this.complete()}}return W.\u0275fac=function(ee){return new(ee||W)(d.LFG(li),d.LFG(de),d.LFG(re),d.LFG(_e))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const _n=[Ue,{provide:zn,useExisting:Ue},{provide:li,useExisting:ye}];let jn=(()=>{class W extends q.xQ{ngOnDestroy(){this.complete()}}return W.\u0275fac=function(){let pe;return function(he){return(pe||(pe=d.n5z(W)))(he||W)}}(),W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const Bn=[jn];class Xe extends Y.y{}let He=(()=>{class W extends N.X{constructor(ee,he,Se,Re){super(Re);const Zt=ee.pipe((0,H.QV)($.N)).pipe((0,X.M)(he)).pipe((0,Ce.R)(Ct,{state:Re}));this.stateSubscription=Zt.subscribe(({state:xt,action:sn})=>{this.next(xt),Se.next(sn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return W.\u0275fac=function(ee){return new(ee||W)(d.LFG(ye),d.LFG(zn),d.LFG(jn),d.LFG(de))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W.INIT=Ne,W})();function Ct(W={state:void 0},[pe,ee]){const{state:he}=W;return{state:ee(he,pe),action:pe}}const gt=[He,{provide:Xe,useExisting:He}];let An=(()=>{class W extends Y.y{constructor(ee,he,Se){super(),this.actionsObserver=he,this.reducerManager=Se,this.source=ee}select(ee,...he){return Pe.call(null,ee,...he)(this)}lift(ee){const he=new W(this,this.actionsObserver,this.reducerManager);return he.operator=ee,he}dispatch(ee){this.actionsObserver.next(ee)}next(ee){this.actionsObserver.next(ee)}error(ee){this.actionsObserver.error(ee)}complete(){this.actionsObserver.complete()}addReducer(ee,he){this.reducerManager.addReducer(ee,he)}removeReducer(ee){this.reducerManager.removeReducer(ee)}}return W.\u0275fac=function(ee){return new(ee||W)(d.LFG(Xe),d.LFG(ye),d.LFG(Ue))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const bt=[An];function Pe(W,pe,...ee){return function(Se){let Re;if("string"==typeof W){const Ke=[pe,...ee].filter(Boolean);Re=Se.pipe(function(...W){const pe=W.length;if(0===pe)throw new Error("list of properties cannot be empty.");return ee=>(0,F.U)(function(W,pe){return he=>{let Se=he;for(let Re=0;Re<pe;Re++){const Ke=null!=Se?Se[W[Re]]:void 0;if(void 0===Ke)return;Se=Ke}return Se}}(W,pe))(ee)}(W,...Ke))}else{if("function"!=typeof W)throw new TypeError(`Unexpected type '${typeof W}' in select operator, expected 'string' or 'function'`);Re=Se.pipe((0,F.U)(Ke=>W(Ke,pe)))}return Re.pipe(ee=>ee.lift(new k(void 0,void 0)))}}const Cs="https://ngrx.io/guide/store/configuration/runtime-checks";function ui(W){return void 0===W}function Sn(W){return null===W}function Lt(W){return Array.isArray(W)}function K(W){return"object"==typeof W&&null!==W}function fe(W){return"function"==typeof W}function Kn(W){Object.freeze(W);const pe=fe(W);return Object.getOwnPropertyNames(W).forEach(ee=>{if(!ee.startsWith("\u0275")&&function(W,pe){return Object.prototype.hasOwnProperty.call(W,pe)}(W,ee)&&(!pe||"caller"!==ee&&"callee"!==ee&&"arguments"!==ee)){const he=W[ee];(K(he)||fe(he))&&!Object.isFrozen(he)&&Kn(he)}}),W}function ua(W,pe=[]){return(ui(W)||Sn(W))&&0===pe.length?{path:["root"],value:W}:Object.keys(W).reduce((he,Se)=>{if(he)return he;const Re=W[Se];return function(W){return fe(W)&&W.hasOwnProperty("\u0275cmp")}(Re)?he:!(ui(Re)||Sn(Re)||function(W){return"number"==typeof W}(Re)||function(W){return"boolean"==typeof W}(Re)||function(W){return"string"==typeof W}(Re)||Lt(Re))&&(function(W){if(!function(W){return K(W)&&!Lt(W)}(W))return!1;const pe=Object.getPrototypeOf(W);return pe===Object.prototype||null===pe}(Re)?ua(Re,[...pe,Se]):{path:[...pe,Se],value:Re})},!1)}function On(W,pe){if(!1===W)return;const ee=W.path.join("."),he=new Error(`Detected unserializable ${pe} at "${ee}". ${Cs}#strict${pe}serializability`);throw he.value=W.value,he.unserializablePath=ee,he}function $e(W){return(0,d.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},W):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Bt({strictActionSerializability:W,strictStateSerializability:pe}){return ee=>W||pe?function(W,pe){return function(ee,he){pe.action(he)&&On(ua(he),"action");const Se=W(ee,he);return pe.state()&&On(ua(Se),"state"),Se}}(ee,{action:he=>W&&!Ar(he),state:()=>pe}):ee}function qn({strictActionImmutability:W,strictStateImmutability:pe}){return ee=>W||pe?function(W,pe){return function(ee,he){const Se=pe.action(he)?Kn(he):he,Re=W(ee,Se);return pe.state()?Kn(Re):Re}}(ee,{action:he=>W&&!Ar(he),state:()=>pe}):ee}function Ar(W){return W.type.startsWith("@ngrx")}function bn({strictActionWithinNgZone:W}){return pe=>W?function(W,pe){return function(ee,he){if(pe.action(he)&&!d.R0b.isInAngularZone())throw new Error(`Action '${he.type}' running outside NgZone. ${Cs}#strictactionwithinngzone`);return W(ee,he)}}(pe,{action:ee=>W&&!Ar(ee)}):pe}function Sr(W){return[{provide:zr,useValue:W},{provide:Ft,useFactory:Mr,deps:[zr]},{provide:Gt,deps:[Ft],useFactory:$e},{provide:Yt,multi:!0,deps:[Gt],useFactory:qn},{provide:Yt,multi:!0,deps:[Gt],useFactory:Bt},{provide:Yt,multi:!0,deps:[Gt],useFactory:bn}]}function rn(){return[{provide:qt,multi:!0,deps:[Gt],useFactory:Ii}]}function Mr(W){return W}function Ii(W){if(!W.strictActionTypeUniqueness)return;const pe=Object.entries(ue).filter(([,ee])=>ee>1).map(([ee])=>ee);if(pe.length)throw new Error(`Action types are registered more than once, ${pe.map(ee=>`"${ee}"`).join(", ")}. ${Cs}#strictactiontypeuniqueness`)}let Ze=(()=>{class W{constructor(ee,he,Se,Re,Ke,yn){}}return W.\u0275fac=function(ee){return new(ee||W)(d.LFG(ye),d.LFG(zn),d.LFG(jn),d.LFG(An),d.LFG(_t,8),d.LFG(qt,8))},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})(),Yr=(()=>{class W{constructor(ee,he,Se,Re,Ke){this.features=ee,this.featureReducers=he,this.reducerManager=Se;const yn=ee.map((Vt,Zt)=>{const sn=he.shift()[Zt];return Object.assign(Object.assign({},Vt),{reducers:sn,initialState:ci(Vt.initialState)})});Se.addFeatures(yn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return W.\u0275fac=function(ee){return new(ee||W)(d.LFG(ze),d.LFG(Je),d.LFG(Ue),d.LFG(Ze),d.LFG(qt,8))},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})(),qr=(()=>{class W{static forRoot(ee,he={}){return{ngModule:Ze,providers:[{provide:_t,useFactory:Zn,deps:[[An,new d.FiY,new d.tp0]]},{provide:yt,useValue:he.initialState},{provide:de,useFactory:ci,deps:[yt]},{provide:Ee,useValue:ee},{provide:Fe,useExisting:ee instanceof d.OlP?ee:Ee},{provide:re,deps:[d.zs3,Ee,[new d.tBr(Fe)]],useFactory:ca},{provide:ln,useValue:he.metaReducers?he.metaReducers:[]},{provide:Rt,deps:[Yt,ln],useFactory:Zr},{provide:ie,useValue:he.reducerFactory?he.reducerFactory:Gn},{provide:_e,deps:[ie,Rt],useFactory:Dr},ut,_n,Bn,gt,bt,Sr(he.runtimeChecks),rn()]}}static forFeature(ee,he,Se={}){return{ngModule:Yr,providers:[{provide:pt,multi:!0,useValue:ee instanceof Object?{}:Se},{provide:se,multi:!0,useValue:{key:ee instanceof Object?ee.name:ee,reducerFactory:Se instanceof d.OlP||!Se.reducerFactory?Gn:Se.reducerFactory,metaReducers:Se instanceof d.OlP||!Se.metaReducers?[]:Se.metaReducers,initialState:Se instanceof d.OlP||!Se.initialState?void 0:Se.initialState}},{provide:ze,deps:[d.zs3,pt,se],useFactory:wi},{provide:at,multi:!0,useValue:ee instanceof Object?ee.reducer:he},{provide:st,multi:!0,useExisting:he instanceof d.OlP?he:at},{provide:Je,multi:!0,deps:[d.zs3,at,[new d.tBr(st)]],useFactory:$n},rn()]}}}return W.\u0275fac=function(ee){return new(ee||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();function ca(W,pe){return pe instanceof d.OlP?W.get(pe):pe}function wi(W,pe,ee){return ee.map((he,Se)=>{if(pe[Se]instanceof d.OlP){const Re=W.get(pe[Se]);return{key:he.key,reducerFactory:Re.reducerFactory?Re.reducerFactory:Gn,metaReducers:Re.metaReducers?Re.metaReducers:[],initialState:Re.initialState}}return he})}function $n(W,pe){return pe.map(he=>he instanceof d.OlP?W.get(he):he)}function ci(W){return"function"==typeof W?W():W}function Zr(W,pe){return W.concat(pe)}function Zn(W){if(W)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ht(...W){return{reducer:W.pop(),types:W.map(he=>he.type)}}function ao(W,...pe){const ee=new Map;for(const he of pe)for(const Se of he.types){const Re=ee.get(Se);ee.set(Se,Re?(yn,Vt)=>he.reducer(Re(yn,Vt),Vt):he.reducer)}return function(he=W,Se){const Re=ee.get(Se.type);return Re?Re(he,Se):he}}},2329:(Q,B,D)=>{"use strict";D.d(B,{ZF:()=>d.initializeApp});var d=D(5452);(0,d.registerVersion)("firebase","9.0.1","app")},7841:(Q,B,D)=>{"use strict";D.d(B,{Z:()=>d.Z});var d=D(4486);d.Z.registerVersion("firebase","9.0.1","app-compat")},6215:(Q,B,D)=>{"use strict";D.d(B,{X:()=>Y});var d=D(9765),N=D(7971);class Y extends d.xQ{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const F=super._subscribe($);return F&&!F.closed&&$.next(this._value),F}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.N;return this._value}next($){super.next(this._value=$)}}},3098:(Q,B,D)=>{"use strict";D.d(B,{P:()=>$});var d=D(9193),N=D(5917),Y=D(205);class ${constructor(j,R,x){this.kind=j,this.value=R,this.error=x,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,R,x){switch(this.kind){case"N":return j&&j(this.value);case"E":return R&&R(this.error);case"C":return x&&x()}}accept(j,R,x){return j&&"function"==typeof j.next?this.observe(j):this.do(j,R,x)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,Y._)(this.error);case"C":return(0,d.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new $("N",j):$.undefinedValueNotification}static createError(j){return new $("E",void 0,j)}static createComplete(){return $.completeNotification}}$.completeNotification=new $("C"),$.undefinedValueNotification=new $("N",void 0)},8891:(Q,B,D)=>{"use strict";D.d(B,{y:()=>x});var d=D(7393),Y=D(9181),q=D(6490),F=D(6554),j=D(4022),R=D(2494);let x=(()=>{class k{constructor(H){this._isScalar=!1,H&&(this._subscribe=H)}lift(H){const X=new k;return X.source=this,X.operator=H,X}subscribe(H,X,Ce){const{operator:ue}=this,Ie=function(k,O,H){if(k){if(k instanceof d.L)return k;if(k[Y.b])return k[Y.b]()}return k||O||H?new d.L(k,O,H):new d.L(q.c)}(H,X,Ce);if(Ie.add(ue?ue.call(Ie,this.source):this.source||R.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),R.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(H){try{return this._subscribe(H)}catch(X){R.v.useDeprecatedSynchronousErrorHandling&&(H.syncErrorThrown=!0,H.syncErrorValue=X),function(k){for(;k;){const{closed:O,destination:H,isStopped:X}=k;if(O||X)return!1;k=H&&H instanceof d.L?H:null}return!0}(H)?H.error(X):console.warn(X)}}forEach(H,X){return new(X=S(X))((Ce,ue)=>{let Ie;Ie=this.subscribe(ce=>{try{H(ce)}catch(be){ue(be),Ie&&Ie.unsubscribe()}},ue,Ce)})}_subscribe(H){const{source:X}=this;return X&&X.subscribe(H)}[F.L](){return this}pipe(...H){return 0===H.length?this:(0,j.U)(H)(this)}toPromise(H){return new(H=S(H))((X,Ce)=>{let ue;this.subscribe(Ie=>ue=Ie,Ie=>Ce(Ie),()=>X(ue))})}}return k.create=O=>new k(O),k})();function S(k){if(k||(k=R.v.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},6490:(Q,B,D)=>{"use strict";D.d(B,{c:()=>Y});var d=D(2494),N=D(4449);const Y={closed:!0,next(q){},error(q){if(d.v.useDeprecatedSynchronousErrorHandling)throw q;(0,N.z)(q)},complete(){}}},5197:(Q,B,D)=>{"use strict";D.d(B,{L:()=>N});var d=D(7393);class N extends d.L{notifyNext(q,$,F,j,R){this.destination.next($)}notifyError(q,$){this.destination.error(q)}notifyComplete(q){this.destination.complete()}}},8229:(Q,B,D)=>{"use strict";D.d(B,{t:()=>j});var d=D(9765),N=D(7771),Y=D(5319),q=D(9746),$=D(7971),F=D(8858);class j extends d.xQ{constructor(S=Number.POSITIVE_INFINITY,k=Number.POSITIVE_INFINITY,O){super(),this.scheduler=O,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=S<1?1:S,this._windowTime=k<1?1:k,k===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(S){if(!this.isStopped){const k=this._events;k.push(S),k.length>this._bufferSize&&k.shift()}super.next(S)}nextTimeWindow(S){this.isStopped||(this._events.push(new R(this._getNow(),S)),this._trimBufferThenGetEvents()),super.next(S)}_subscribe(S){const k=this._infiniteTimeWindow,O=k?this._events:this._trimBufferThenGetEvents(),H=this.scheduler,X=O.length;let Ce;if(this.closed)throw new $.N;if(this.isStopped||this.hasError?Ce=Y.w.EMPTY:(this.observers.push(S),Ce=new F.W(this,S)),H&&S.add(S=new q.ht(S,H)),k)for(let ue=0;ue<X&&!S.closed;ue++)S.next(O[ue]);else for(let ue=0;ue<X&&!S.closed;ue++)S.next(O[ue].value);return this.hasError?S.error(this.thrownError):this.isStopped&&S.complete(),Ce}_getNow(){return(this.scheduler||N.c).now()}_trimBufferThenGetEvents(){const S=this._getNow(),k=this._bufferSize,O=this._windowTime,H=this._events,X=H.length;let Ce=0;for(;Ce<X&&!(S-H[Ce].time<O);)Ce++;return X>k&&(Ce=Math.max(Ce,X-k)),Ce>0&&H.splice(0,Ce),H}}class R{constructor(S,k){this.time=S,this.value=k}}},9765:(Q,B,D)=>{"use strict";D.d(B,{Yc:()=>j,xQ:()=>R});var d=D(8891),N=D(7393),Y=D(5319),q=D(7971),$=D(8858),F=D(9181);class j extends N.L{constructor(k){super(k),this.destination=k}}let R=(()=>{class S extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[F.b](){return new j(this)}lift(O){const H=new x(this,this);return H.operator=O,H}next(O){if(this.closed)throw new q.N;if(!this.isStopped){const{observers:H}=this,X=H.length,Ce=H.slice();for(let ue=0;ue<X;ue++)Ce[ue].next(O)}}error(O){if(this.closed)throw new q.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:H}=this,X=H.length,Ce=H.slice();for(let ue=0;ue<X;ue++)Ce[ue].error(O);this.observers.length=0}complete(){if(this.closed)throw new q.N;this.isStopped=!0;const{observers:O}=this,H=O.length,X=O.slice();for(let Ce=0;Ce<H;Ce++)X[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new q.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new q.N;return this.hasError?(O.error(this.thrownError),Y.w.EMPTY):this.isStopped?(O.complete(),Y.w.EMPTY):(this.observers.push(O),new $.W(this,O))}asObservable(){const O=new d.y;return O.source=this,O}}return S.create=(k,O)=>new x(k,O),S})();class x extends R{constructor(k,O){super(),this.destination=k,this.source=O}next(k){const{destination:O}=this;O&&O.next&&O.next(k)}error(k){const{destination:O}=this;O&&O.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:O}=this;return O?this.source.subscribe(k):Y.w.EMPTY}}},8858:(Q,B,D)=>{"use strict";D.d(B,{W:()=>N});var d=D(5319);class N extends d.w{constructor(q,$){super(),this.subject=q,this.subscriber=$,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const q=this.subject,$=q.observers;if(this.subject=null,!$||0===$.length||q.isStopped||q.closed)return;const F=$.indexOf(this.subscriber);-1!==F&&$.splice(F,1)}}},7393:(Q,B,D)=>{"use strict";D.d(B,{L:()=>j});var d=D(9105),N=D(6490),Y=D(5319),q=D(9181),$=D(2494),F=D(4449);class j extends Y.w{constructor(S,k,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!S){this.destination=N.c;break}if("object"==typeof S){S instanceof j?(this.syncErrorThrowable=S.syncErrorThrowable,this.destination=S,S.add(this)):(this.syncErrorThrowable=!0,this.destination=new R(this,S));break}default:this.syncErrorThrowable=!0,this.destination=new R(this,S,k,O)}}[q.b](){return this}static create(S,k,O){const H=new j(S,k,O);return H.syncErrorThrowable=!1,H}next(S){this.isStopped||this._next(S)}error(S){this.isStopped||(this.isStopped=!0,this._error(S))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(S){this.destination.next(S)}_error(S){this.destination.error(S),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:S}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=S,this}}class R extends j{constructor(S,k,O,H){super(),this._parentSubscriber=S;let X,Ce=this;(0,d.m)(k)?X=k:k&&(X=k.next,O=k.error,H=k.complete,k!==N.c&&(Ce=Object.create(k),(0,d.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=X,this._error=O,this._complete=H}next(S){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;$.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,S)&&this.unsubscribe():this.__tryOrUnsub(this._next,S)}}error(S){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:O}=$.v;if(this._error)O&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,S),this.unsubscribe()):(this.__tryOrUnsub(this._error,S),this.unsubscribe());else if(k.syncErrorThrowable)O?(k.syncErrorValue=S,k.syncErrorThrown=!0):(0,F.z)(S),this.unsubscribe();else{if(this.unsubscribe(),O)throw S;(0,F.z)(S)}}}complete(){if(!this.isStopped){const{_parentSubscriber:S}=this;if(this._complete){const k=()=>this._complete.call(this._context);$.v.useDeprecatedSynchronousErrorHandling&&S.syncErrorThrowable?(this.__tryOrSetError(S,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(S,k){try{S.call(this._context,k)}catch(O){if(this.unsubscribe(),$.v.useDeprecatedSynchronousErrorHandling)throw O;(0,F.z)(O)}}__tryOrSetError(S,k,O){if(!$.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,O)}catch(H){return $.v.useDeprecatedSynchronousErrorHandling?(S.syncErrorValue=H,S.syncErrorThrown=!0,!0):((0,F.z)(H),!0)}return!1}_unsubscribe(){const{_parentSubscriber:S}=this;this._context=null,this._parentSubscriber=null,S.unsubscribe()}}},5319:(Q,B,D)=>{"use strict";D.d(B,{w:()=>F});var d=D(9796),N=D(1555),Y=D(9105);const $=(()=>{function R(x){return Error.call(this),this.message=x?`${x.length} errors occurred during unsubscription:\n${x.map((S,k)=>`${k+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=x,this}return R.prototype=Object.create(Error.prototype),R})();class F{constructor(x){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,x&&(this._ctorUnsubscribe=!0,this._unsubscribe=x)}unsubscribe(){let x;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:k,_unsubscribe:O,_subscriptions:H}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof F)S.remove(this);else if(null!==S)for(let X=0;X<S.length;++X)S[X].remove(this);if((0,Y.m)(O)){k&&(this._unsubscribe=void 0);try{O.call(this)}catch(X){x=X instanceof $?j(X.errors):[X]}}if((0,d.k)(H)){let X=-1,Ce=H.length;for(;++X<Ce;){const ue=H[X];if((0,N.K)(ue))try{ue.unsubscribe()}catch(Ie){x=x||[],Ie instanceof $?x=x.concat(j(Ie.errors)):x.push(Ie)}}}if(x)throw new $(x)}add(x){let S=x;if(!x)return F.EMPTY;switch(typeof x){case"function":S=new F(x);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof F)){const H=S;S=new F,S._subscriptions=[H]}break;default:throw new Error("unrecognized teardown "+x+" added to Subscription.")}let{_parentOrParents:k}=S;if(null===k)S._parentOrParents=this;else if(k instanceof F){if(k===this)return S;S._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return S;k.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[S]:O.push(S),S}remove(x){const S=this._subscriptions;if(S){const k=S.indexOf(x);-1!==k&&S.splice(k,1)}}}var R;function j(R){return R.reduce((x,S)=>x.concat(S instanceof $?S.errors:S),[])}F.EMPTY=((R=new F).closed=!0,R)},2494:(Q,B,D)=>{"use strict";D.d(B,{v:()=>N});let d=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Y){if(Y){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=Y},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Q,B,D)=>{"use strict";D.d(B,{IY:()=>q,Ds:()=>F,ft:()=>R});var d=D(7393),N=D(8891),Y=D(7444);class q extends d.L{constructor(S){super(),this.parent=S}_next(S){this.parent.notifyNext(S)}_error(S){this.parent.notifyError(S),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends d.L{notifyNext(S){this.destination.next(S)}notifyError(S){this.destination.error(S)}notifyComplete(){this.destination.complete()}}function R(x,S){if(S.closed)return;if(x instanceof N.y)return x.subscribe(S);let k;try{k=(0,Y.s)(x)(S)}catch(O){S.error(O)}return k}},2441:(Q,B,D)=>{"use strict";D.d(B,{c:()=>$,N:()=>F});var d=D(9765),N=D(8891),Y=D(5319),q=D(1307);class $ extends N.y{constructor(k,O){super(),this.source=k,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let k=this._connection;return k||(this._isComplete=!1,k=this._connection=new Y.w,k.add(this.source.subscribe(new j(this.getSubject(),this))),k.closed&&(this._connection=null,k=Y.w.EMPTY)),k}refCount(){return(0,q.x)()(this)}}const F=(()=>{const S=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:S._subscribe},_isComplete:{value:S._isComplete,writable:!0},getSubject:{value:S.getSubject},connect:{value:S.connect},refCount:{value:S.refCount}}})();class j extends d.Yc{constructor(k,O){super(k),this.connectable=O}_error(k){this._unsubscribe(),super._error(k)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const k=this.connectable;if(k){this.connectable=null;const O=k._connection;k._refCount=0,k._subject=null,k._connection=null,O&&O.unsubscribe()}}}},9193:(Q,B,D)=>{"use strict";D.d(B,{E:()=>N,c:()=>Y});var d=D(8891);const N=new d.y($=>$.complete());function Y($){return $?function($){return new d.y(F=>$.schedule(()=>F.complete()))}($):N}},4402:(Q,B,D)=>{"use strict";D.d(B,{D:()=>Ce});var d=D(8891),N=D(7444),Y=D(5319),q=D(6554),j=D(4087),R=D(377),k=D(4072),O=D(9489);function Ce(ue,Ie){return Ie?function(ue,Ie){if(null!=ue){if(function(ue){return ue&&"function"==typeof ue[q.L]}(ue))return function(ue,Ie){return new d.y(ce=>{const be=new Y.w;return be.add(Ie.schedule(()=>{const ve=ue[q.L]();be.add(ve.subscribe({next(Oe){be.add(Ie.schedule(()=>ce.next(Oe)))},error(Oe){be.add(Ie.schedule(()=>ce.error(Oe)))},complete(){be.add(Ie.schedule(()=>ce.complete()))}}))})),be})}(ue,Ie);if((0,k.t)(ue))return function(ue,Ie){return new d.y(ce=>{const be=new Y.w;return be.add(Ie.schedule(()=>ue.then(ve=>{be.add(Ie.schedule(()=>{ce.next(ve),be.add(Ie.schedule(()=>ce.complete()))}))},ve=>{be.add(Ie.schedule(()=>ce.error(ve)))}))),be})}(ue,Ie);if((0,O.z)(ue))return(0,j.r)(ue,Ie);if(function(ue){return ue&&"function"==typeof ue[R.hZ]}(ue)||"string"==typeof ue)return function(ue,Ie){if(!ue)throw new Error("Iterable cannot be null");return new d.y(ce=>{const be=new Y.w;let ve;return be.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),be.add(Ie.schedule(()=>{ve=ue[R.hZ](),be.add(Ie.schedule(function(){if(ce.closed)return;let Oe,Ne;try{const ye=ve.next();Oe=ye.value,Ne=ye.done}catch(ye){return void ce.error(ye)}Ne?ce.complete():(ce.next(Oe),this.schedule())}))})),be})}(ue,Ie)}throw new TypeError((null!==ue&&typeof ue||ue)+" is not observable")}(ue,Ie):ue instanceof d.y?ue:new d.y((0,N.s)(ue))}},6693:(Q,B,D)=>{"use strict";D.d(B,{n:()=>q});var d=D(8891),N=D(5015),Y=D(4087);function q($,F){return F?(0,Y.r)($,F):new d.y((0,N.V)($))}},6682:(Q,B,D)=>{"use strict";D.d(B,{T:()=>$});var d=D(8891),N=D(4869),Y=D(3282),q=D(6693);function $(...F){let j=Number.POSITIVE_INFINITY,R=null,x=F[F.length-1];return(0,N.K)(x)?(R=F.pop(),F.length>1&&"number"==typeof F[F.length-1]&&(j=F.pop())):"number"==typeof x&&(j=F.pop()),null===R&&1===F.length&&F[0]instanceof d.y?F[0]:(0,Y.J)(j)((0,q.n)(F,R))}},5917:(Q,B,D)=>{"use strict";D.d(B,{of:()=>q});var d=D(4869),N=D(6693),Y=D(4087);function q(...$){let F=$[$.length-1];return(0,d.K)(F)?($.pop(),(0,Y.r)($,F)):(0,N.n)($)}},205:(Q,B,D)=>{"use strict";D.d(B,{_:()=>N});var d=D(8891);function N(q,$){return new d.y($?F=>$.schedule(Y,0,{error:q,subscriber:F}):F=>F.error(q))}function Y({error:q,subscriber:$}){$.error(q)}},5304:(Q,B,D)=>{"use strict";D.d(B,{K:()=>N});var d=D(5345);function N($){return function(j){const R=new Y($),x=j.lift(R);return R.caught=x}}class Y{constructor(F){this.selector=F}call(F,j){return j.subscribe(new q(F,this.selector,this.caught))}}class q extends d.Ds{constructor(F,j,R){super(F),this.selector=j,this.caught=R}error(F){if(!this.isStopped){let j;try{j=this.selector(F,this.caught)}catch(S){return void super.error(S)}this._unsubscribeAndRecycle();const R=new d.IY(this);this.add(R);const x=(0,d.ft)(j,R);x!==R&&this.add(x)}}}},4612:(Q,B,D)=>{"use strict";D.d(B,{b:()=>N});var d=D(9773);function N(Y,q){return(0,d.zg)(Y,q,1)}},4395:(Q,B,D)=>{"use strict";D.d(B,{b:()=>Y});var d=D(7393),N=D(3637);function Y(j,R=N.P){return x=>x.lift(new q(j,R))}class q{constructor(R,x){this.dueTime=R,this.scheduler=x}call(R,x){return x.subscribe(new $(R,this.dueTime,this.scheduler))}}class $ extends d.L{constructor(R,x,S){super(R),this.dueTime=x,this.scheduler=S,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(R){this.clearDebounce(),this.lastValue=R,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(F,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:R}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(R)}}clearDebounce(){const R=this.debouncedSubscription;null!==R&&(this.remove(R),R.unsubscribe(),this.debouncedSubscription=null)}}function F(j){j.debouncedNext()}},5435:(Q,B,D)=>{"use strict";D.d(B,{h:()=>N});var d=D(7393);function N($,F){return function(R){return R.lift(new Y($,F))}}class Y{constructor(F,j){this.predicate=F,this.thisArg=j}call(F,j){return j.subscribe(new q(F,this.predicate,this.thisArg))}}class q extends d.L{constructor(F,j,R){super(F),this.predicate=j,this.thisArg=R,this.count=0}_next(F){let j;try{j=this.predicate.call(this.thisArg,F,this.count++)}catch(R){return void this.destination.error(R)}j&&this.destination.next(F)}}},8002:(Q,B,D)=>{"use strict";D.d(B,{U:()=>N});var d=D(7393);function N($,F){return function(R){if("function"!=typeof $)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return R.lift(new Y($,F))}}class Y{constructor(F,j){this.project=F,this.thisArg=j}call(F,j){return j.subscribe(new q(F,this.project,this.thisArg))}}class q extends d.L{constructor(F,j,R){super(F),this.project=j,this.count=0,this.thisArg=R||this}_next(F){let j;try{j=this.project.call(this.thisArg,F,this.count++)}catch(R){return void this.destination.error(R)}this.destination.next(j)}}},3282:(Q,B,D)=>{"use strict";D.d(B,{J:()=>Y});var d=D(9773),N=D(4487);function Y(q=Number.POSITIVE_INFINITY){return(0,d.zg)(N.y,q)}},9773:(Q,B,D)=>{"use strict";D.d(B,{zg:()=>q});var d=D(8002),N=D(4402),Y=D(5345);function q(R,x,S=Number.POSITIVE_INFINITY){return"function"==typeof x?k=>k.pipe(q((O,H)=>(0,N.D)(R(O,H)).pipe((0,d.U)((X,Ce)=>x(O,X,H,Ce))),S)):("number"==typeof x&&(S=x),k=>k.lift(new $(R,S)))}class ${constructor(x,S=Number.POSITIVE_INFINITY){this.project=x,this.concurrent=S}call(x,S){return S.subscribe(new F(x,this.project,this.concurrent))}}class F extends Y.Ds{constructor(x,S,k=Number.POSITIVE_INFINITY){super(x),this.project=S,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(x){this.active<this.concurrent?this._tryNext(x):this.buffer.push(x)}_tryNext(x){let S;const k=this.index++;try{S=this.project(x,k)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(S)}_innerSub(x){const S=new Y.IY(this),k=this.destination;k.add(S);const O=(0,Y.ft)(x,S);O!==S&&k.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(x){this.destination.next(x)}notifyComplete(){const x=this.buffer;this.active--,x.length>0?this._next(x.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Q,B,D)=>{"use strict";D.d(B,{QV:()=>Y,ht:()=>$});var d=D(7393),N=D(3098);function Y(j,R=0){return function(S){return S.lift(new q(j,R))}}class q{constructor(R,x=0){this.scheduler=R,this.delay=x}call(R,x){return x.subscribe(new $(R,this.scheduler,this.delay))}}class $ extends d.L{constructor(R,x,S=0){super(R),this.scheduler=x,this.delay=S}static dispatch(R){const{notification:x,destination:S}=R;x.observe(S),this.unsubscribe()}scheduleMessage(R){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new F(R,this.destination)))}_next(R){this.scheduleMessage(N.P.createNext(R))}_error(R){this.scheduleMessage(N.P.createError(R)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class F{constructor(R,x){this.notification=R,this.destination=x}}},1307:(Q,B,D)=>{"use strict";D.d(B,{x:()=>N});var d=D(7393);function N(){return function(F){return F.lift(new Y(F))}}class Y{constructor(F){this.connectable=F}call(F,j){const{connectable:R}=this;R._refCount++;const x=new q(F,R),S=j.subscribe(x);return x.closed||(x.connection=R.connect()),S}}class q extends d.L{constructor(F,j){super(F),this.connectable=j}_unsubscribe(){const{connectable:F}=this;if(!F)return void(this.connection=null);this.connectable=null;const j=F._refCount;if(j<=0)return void(this.connection=null);if(F._refCount=j-1,j>1)return void(this.connection=null);const{connection:R}=this,x=F._connection;this.connection=null,x&&(!R||x===R)&&x.unsubscribe()}}},2145:(Q,B,D)=>{"use strict";D.d(B,{R:()=>N});var d=D(7393);function N($,F){let j=!1;return arguments.length>=2&&(j=!0),function(x){return x.lift(new Y($,F,j))}}class Y{constructor(F,j,R=!1){this.accumulator=F,this.seed=j,this.hasSeed=R}call(F,j){return j.subscribe(new q(F,this.accumulator,this.seed,this.hasSeed))}}class q extends d.L{constructor(F,j,R,x){super(F),this.accumulator=j,this._seed=R,this.hasSeed=x,this.index=0}get seed(){return this._seed}set seed(F){this.hasSeed=!0,this._seed=F}_next(F){if(this.hasSeed)return this._tryNext(F);this.seed=F,this.destination.next(F)}_tryNext(F){const j=this.index++;let R;try{R=this.accumulator(this.seed,F,j)}catch(x){this.destination.error(x)}this.seed=R,this.destination.next(R)}}},8819:(Q,B,D)=>{"use strict";D.d(B,{B:()=>j});var d=D(2441);var q=D(1307),$=D(9765);function F(){return new $.xQ}function j(){return R=>(0,q.x)()(function(R,x){return function(k){let O;O="function"==typeof R?R:function(){return R};const H=Object.create(k,d.N);return H.source=k,H.subjectFactory=O,H}}(F)(R))}},3653:(Q,B,D)=>{"use strict";D.d(B,{T:()=>N});var d=D(7393);function N($){return F=>F.lift(new Y($))}class Y{constructor(F){this.total=F}call(F,j){return j.subscribe(new q(F,this.total))}}class q extends d.L{constructor(F,j){super(F),this.total=j,this.count=0}_next(F){++this.count>this.total&&this.destination.next(F)}}},3101:(Q,B,D)=>{"use strict";D.d(B,{R:()=>Ie});var d=D(8891);let N=1;const Y=Promise.resolve(),q={};function $(be){return be in q&&(delete q[be],!0)}const F={setImmediate(be){const ve=N++;return q[ve]=!0,Y.then(()=>$(ve)&&be()),ve},clearImmediate(be){$(be)}};var R=D(6465),S=D(6102);const H=new class extends S.v{flush(ve){this.active=!0,this.scheduled=void 0;const{actions:Oe}=this;let Ne,ye=-1,ut=Oe.length;ve=ve||Oe.shift();do{if(Ne=ve.execute(ve.state,ve.delay))break}while(++ye<ut&&(ve=Oe.shift()));if(this.active=!1,Ne){for(;++ye<ut&&(ve=Oe.shift());)ve.unsubscribe();throw Ne}}}(class extends R.o{constructor(ve,Oe){super(ve,Oe),this.scheduler=ve,this.work=Oe}requestAsyncId(ve,Oe,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(ve,Oe,Ne):(ve.actions.push(this),ve.scheduled||(ve.scheduled=F.setImmediate(ve.flush.bind(ve,null))))}recycleAsyncId(ve,Oe,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(ve,Oe,Ne);0===ve.actions.length&&(F.clearImmediate(Oe),ve.scheduled=void 0)}});var X=D(9796);class ue extends d.y{constructor(ve,Oe=0,Ne=H){var be;super(),this.source=ve,this.delayTime=Oe,this.scheduler=Ne,(!(!(0,X.k)(be=Oe)&&be-parseFloat(be)+1>=0)||Oe<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=H)}static create(ve,Oe=0,Ne=H){return new ue(ve,Oe,Ne)}static dispatch(ve){const{source:Oe,subscriber:Ne}=ve;return this.add(Oe.subscribe(Ne))}_subscribe(ve){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:ve})}}function Ie(be,ve=0){return function(Ne){return Ne.lift(new ce(be,ve))}}class ce{constructor(ve,Oe){this.scheduler=ve,this.delay=Oe}call(ve,Oe){return new ue(Oe,this.delay,this.scheduler).subscribe(ve)}}},3190:(Q,B,D)=>{"use strict";D.d(B,{w:()=>q});var d=D(8002),N=D(4402),Y=D(5345);function q(j,R){return"function"==typeof R?x=>x.pipe(q((S,k)=>(0,N.D)(j(S,k)).pipe((0,d.U)((O,H)=>R(S,O,k,H))))):x=>x.lift(new $(j))}class ${constructor(R){this.project=R}call(R,x){return x.subscribe(new F(R,this.project))}}class F extends Y.Ds{constructor(R,x){super(R),this.project=x,this.index=0}_next(R){let x;const S=this.index++;try{x=this.project(R,S)}catch(k){return void this.destination.error(k)}this._innerSub(x)}_innerSub(R){const x=this.innerSubscription;x&&x.unsubscribe();const S=new Y.IY(this),k=this.destination;k.add(S),this.innerSubscription=(0,Y.ft)(R,S),this.innerSubscription!==S&&k.add(this.innerSubscription)}_complete(){const{innerSubscription:R}=this;(!R||R.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(R){this.destination.next(R)}}},5257:(Q,B,D)=>{"use strict";D.d(B,{q:()=>q});var d=D(7393),N=D(7108),Y=D(9193);function q(j){return R=>0===j?(0,Y.c)():R.lift(new $(j))}class ${constructor(R){if(this.total=R,this.total<0)throw new N.W}call(R,x){return x.subscribe(new F(R,this.total))}}class F extends d.L{constructor(R,x){super(R),this.total=x,this.count=0}_next(R){const x=this.total,S=++this.count;S<=x&&(this.destination.next(R),S===x&&(this.destination.complete(),this.unsubscribe()))}}},6782:(Q,B,D)=>{"use strict";D.d(B,{R:()=>N});var d=D(5345);function N($){return F=>F.lift(new Y($))}class Y{constructor(F){this.notifier=F}call(F,j){const R=new q(F),x=(0,d.ft)(this.notifier,new d.IY(R));return x&&!R.seenValue?(R.add(x),j.subscribe(R)):R}}class q extends d.Ds{constructor(F){super(F),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(Q,B,D)=>{"use strict";D.d(B,{b:()=>q});var d=D(7393);function N(){}var Y=D(9105);function q(j,R,x){return function(k){return k.lift(new $(j,R,x))}}class ${constructor(R,x,S){this.nextOrObserver=R,this.error=x,this.complete=S}call(R,x){return x.subscribe(new F(R,this.nextOrObserver,this.error,this.complete))}}class F extends d.L{constructor(R,x,S,k){super(R),this._tapNext=N,this._tapError=N,this._tapComplete=N,this._tapError=S||N,this._tapComplete=k||N,(0,Y.m)(x)?(this._context=this,this._tapNext=x):x&&(this._context=x,this._tapNext=x.next||N,this._tapError=x.error||N,this._tapComplete=x.complete||N)}_next(R){try{this._tapNext.call(this._context,R)}catch(x){return void this.destination.error(x)}this.destination.next(R)}_error(R){try{this._tapError.call(this._context,R)}catch(x){return void this.destination.error(x)}this.destination.error(R)}_complete(){try{this._tapComplete.call(this._context)}catch(R){return void this.destination.error(R)}return this.destination.complete()}}},2965:(Q,B,D)=>{"use strict";D.d(B,{V:()=>S});var d=D(3637);const Y=(()=>{function k(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return k.prototype=Object.create(Error.prototype),k})();var $=D(5345);class j{constructor(O,H,X,Ce){this.waitFor=O,this.absoluteTimeout=H,this.withObservable=X,this.scheduler=Ce}call(O,H){return H.subscribe(new R(O,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class R extends $.Ds{constructor(O,H,X,Ce,ue){super(O),this.absoluteTimeout=H,this.waitFor=X,this.withObservable=Ce,this.scheduler=ue,this.scheduleTimeout()}static dispatchTimeout(O){const{withObservable:H}=O;O._unsubscribeAndRecycle(),O.add((0,$.ft)(H,new $.IY(O)))}scheduleTimeout(){const{action:O}=this;O?this.action=O.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(R.dispatchTimeout,this.waitFor,this))}_next(O){this.absoluteTimeout||this.scheduleTimeout(),super._next(O)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var x=D(205);function S(k,O=d.P){return function(k,O,H=d.P){return X=>{let Ce=function(k){return k instanceof Date&&!isNaN(+k)}(k),ue=Ce?+k-H.now():Math.abs(k);return X.lift(new j(ue,Ce,O,H))}}(k,(0,x._)(new Y),O)}},7057:(Q,B,D)=>{"use strict";D.d(B,{M:()=>Y});var d=D(5197),N=D(509);function Y(...F){return j=>{let R;return"function"==typeof F[F.length-1]&&(R=F.pop()),j.lift(new q(F,R))}}class q{constructor(j,R){this.observables=j,this.project=R}call(j,R){return R.subscribe(new $(j,this.observables,this.project))}}class $ extends d.L{constructor(j,R,x){super(j),this.observables=R,this.project=x,this.toRespond=[];const S=R.length;this.values=new Array(S);for(let k=0;k<S;k++)this.toRespond.push(k);for(let k=0;k<S;k++)this.add((0,N.D)(this,R[k],void 0,k))}notifyNext(j,R,x){this.values[x]=R;const S=this.toRespond;if(S.length>0){const k=S.indexOf(x);-1!==k&&S.splice(k,1)}}notifyComplete(){}_next(j){if(0===this.toRespond.length){const R=[j,...this.values];this.project?this._tryProject(R):this.destination.next(R)}}_tryProject(j){let R;try{R=this.project.apply(this,j)}catch(x){return void this.destination.error(x)}this.destination.next(R)}}},4087:(Q,B,D)=>{"use strict";D.d(B,{r:()=>Y});var d=D(8891),N=D(5319);function Y(q,$){return new d.y(F=>{const j=new N.w;let R=0;return j.add($.schedule(function(){R!==q.length?(F.next(q[R++]),F.closed||j.add(this.schedule())):F.complete()})),j})}},6465:(Q,B,D)=>{"use strict";D.d(B,{o:()=>Y});var d=D(5319);class N extends d.w{constructor($,F){super()}schedule($,F=0){return this}}class Y extends N{constructor($,F){super($,F),this.scheduler=$,this.work=F,this.pending=!1}schedule($,F=0){if(this.closed)return this;this.state=$;const j=this.id,R=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(R,j,F)),this.pending=!0,this.delay=F,this.id=this.id||this.requestAsyncId(R,this.id,F),this}requestAsyncId($,F,j=0){return setInterval($.flush.bind($,this),j)}recycleAsyncId($,F,j=0){if(null!==j&&this.delay===j&&!1===this.pending)return F;clearInterval(F)}execute($,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute($,F);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,F){let R,j=!1;try{this.work($)}catch(x){j=!0,R=!!x&&x||new Error(x)}if(j)return this.unsubscribe(),R}_unsubscribe(){const $=this.id,F=this.scheduler,j=F.actions,R=j.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==R&&j.splice(R,1),null!=$&&(this.id=this.recycleAsyncId(F,$,null)),this.delay=null}}},6102:(Q,B,D)=>{"use strict";D.d(B,{v:()=>N});let d=(()=>{class Y{constructor($,F=Y.now){this.SchedulerAction=$,this.now=F}schedule($,F=0,j){return new this.SchedulerAction(this,$).schedule(j,F)}}return Y.now=()=>Date.now(),Y})();class N extends d{constructor(q,$=d.now){super(q,()=>N.delegate&&N.delegate!==this?N.delegate.now():$()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(q,$=0,F){return N.delegate&&N.delegate!==this?N.delegate.schedule(q,$,F):super.schedule(q,$,F)}flush(q){const{actions:$}=this;if(this.active)return void $.push(q);let F;this.active=!0;do{if(F=q.execute(q.state,q.delay))break}while(q=$.shift());if(this.active=!1,F){for(;q=$.shift();)q.unsubscribe();throw F}}}},3637:(Q,B,D)=>{"use strict";D.d(B,{z:()=>Y,P:()=>q});var d=D(6465);const Y=new(D(6102).v)(d.o),q=Y},7771:(Q,B,D)=>{"use strict";D.d(B,{c:()=>F,N:()=>$});var d=D(6465),Y=D(6102);const $=new class extends Y.v{}(class extends d.o{constructor(R,x){super(R,x),this.scheduler=R,this.work=x}schedule(R,x=0){return x>0?super.schedule(R,x):(this.delay=x,this.state=R,this.scheduler.flush(this),this)}execute(R,x){return x>0||this.closed?super.execute(R,x):this._execute(R,x)}requestAsyncId(R,x,S=0){return null!==S&&S>0||null===S&&this.delay>0?super.requestAsyncId(R,x,S):R.flush(this)}}),F=$},377:(Q,B,D)=>{"use strict";D.d(B,{hZ:()=>N});const N="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Q,B,D)=>{"use strict";D.d(B,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Q,B,D)=>{"use strict";D.d(B,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Q,B,D)=>{"use strict";D.d(B,{W:()=>N});const N=(()=>{function Y(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Y.prototype=Object.create(Error.prototype),Y})()},7971:(Q,B,D)=>{"use strict";D.d(B,{N:()=>N});const N=(()=>{function Y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Y.prototype=Object.create(Error.prototype),Y})()},4449:(Q,B,D)=>{"use strict";function d(N){setTimeout(()=>{throw N},0)}D.d(B,{z:()=>d})},4487:(Q,B,D)=>{"use strict";function d(N){return N}D.d(B,{y:()=>d})},9796:(Q,B,D)=>{"use strict";D.d(B,{k:()=>d});const d=Array.isArray||(N=>N&&"number"==typeof N.length)},9489:(Q,B,D)=>{"use strict";D.d(B,{z:()=>d});const d=N=>N&&"number"==typeof N.length&&"function"!=typeof N},9105:(Q,B,D)=>{"use strict";function d(N){return"function"==typeof N}D.d(B,{m:()=>d})},1555:(Q,B,D)=>{"use strict";function d(N){return null!==N&&"object"==typeof N}D.d(B,{K:()=>d})},4072:(Q,B,D)=>{"use strict";function d(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}D.d(B,{t:()=>d})},4869:(Q,B,D)=>{"use strict";function d(N){return N&&"function"==typeof N.schedule}D.d(B,{K:()=>d})},4022:(Q,B,D)=>{"use strict";D.d(B,{z:()=>N,U:()=>Y});var d=D(4487);function N(...q){return Y(q)}function Y(q){return 0===q.length?d.y:1===q.length?q[0]:function(F){return q.reduce((j,R)=>R(j),F)}}},7444:(Q,B,D)=>{"use strict";D.d(B,{s:()=>k});var d=D(5015),N=D(4449),q=D(377),F=D(6554),R=D(9489),x=D(4072),S=D(1555);const k=O=>{if(O&&"function"==typeof O[F.L])return(O=>H=>{const X=O[F.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(H)})(O);if((0,R.z)(O))return(0,d.V)(O);if((0,x.t)(O))return(O=>H=>(O.then(X=>{H.closed||(H.next(X),H.complete())},X=>H.error(X)).then(null,N.z),H))(O);if(O&&"function"==typeof O[q.hZ])return(O=>H=>{const X=O[q.hZ]();for(;;){let Ce;try{Ce=X.next()}catch(ue){return H.error(ue),H}if(Ce.done){H.complete();break}if(H.next(Ce.value),H.closed)break}return"function"==typeof X.return&&H.add(()=>{X.return&&X.return()}),H})(O);{const X=`You provided ${(0,S.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Q,B,D)=>{"use strict";D.d(B,{V:()=>d});const d=N=>Y=>{for(let q=0,$=N.length;q<$&&!Y.closed;q++)Y.next(N[q]);Y.complete()}},509:(Q,B,D)=>{"use strict";D.d(B,{D:()=>$});var d=D(7393);class N extends d.L{constructor(j,R,x){super(),this.parent=j,this.outerValue=R,this.outerIndex=x,this.index=0}_next(j){this.parent.notifyNext(this.outerValue,j,this.outerIndex,this.index++,this)}_error(j){this.parent.notifyError(j,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Y=D(7444),q=D(8891);function $(F,j,R,x,S=new N(F,R,x)){if(!S.closed)return j instanceof q.y?j.subscribe(S):(0,Y.s)(j)(S)}},1570:(Q,B,D)=>{"use strict";var d=D(7716);let N=null;function Y(){return N}const j=new d.OlP("DocumentToken");let R=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:x,token:i,providedIn:"platform"}),i})();function x(){return(0,d.LFG)(k)}const S=new d.OlP("Location Initialized");let k=(()=>{class i extends R{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){O()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){O()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=(0,d.Yz7)({factory:H,token:i,providedIn:"platform"}),i})();function O(){return!!window.history.pushState}function H(){return new k((0,d.LFG)(j))}function X(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function Ce(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ue(i){return i&&"?"!==i[0]?"?"+i:i}let Ie=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:ce,token:i,providedIn:"root"}),i})();function ce(i){const r=(0,d.LFG)(j).location;return new ve((0,d.LFG)(R),r&&r.origin||"")}const be=new d.OlP("appBaseHref");let ve=(()=>{class i extends Ie{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return X(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ue(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,f){const g=this.prepareExternalUrl(u+ue(f));this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,f){const g=this.prepareExternalUrl(u+ue(f));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(R),d.LFG(be,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i extends Ie{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=X(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,f){let g=this.prepareExternalUrl(u+ue(f));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,f){let g=this.prepareExternalUrl(u+ue(f));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(R),d.LFG(be,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ne=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ce(_t(u)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ue(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,_t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ue(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ue(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ie),d.LFG(R))},i.normalizeQueryParams=ue,i.joinWithSlash=X,i.stripTrailingSlash=Ce,i.\u0275prov=(0,d.Yz7)({factory:ye,token:i,providedIn:"root"}),i})();function ye(){return new Ne((0,d.LFG)(Ie),(0,d.LFG)(R))}function _t(i){return i.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const ai=d.kL8;class Yr{}let ca=(()=>{class i extends Yr{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(ai(o||this.locale)(e)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Zn{constructor(r,e,o,u){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ht=(()=>{class i{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((u,f,g)=>{if(null==u.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Zn(null,this._ngForOf,-1,-1),null===g?void 0:g),I=new ao(u,v);o.push(I)}else if(null==g)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const v=this._viewContainer.get(f);this._viewContainer.move(v,g);const I=new ao(u,v);o.push(I)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,f=this._viewContainer.length;u<f;u++){const g=this._viewContainer.get(u);g.context.index=u,g.context.count=f,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class ao{constructor(r,e){this.record=r,this.view=e}}let pe=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){he("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){he("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class ee{constructor(){this.$implicit=null,this.ngIf=null}}function he(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(r)}'.`)}let da=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:Yr,useClass:ca}]}),i})(),Cl=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new If((0,d.LFG)(j),window)}),i})();class If{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const g=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(g)return g}u=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=fo(this.window.history)||fo(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function fo(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class fc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new fc,N||(N=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(qi=qi||document.querySelector("base"),qi?qi.getAttribute("href"):null);return null==e?null:function(i){en=en||document.createElement("a"),en.setAttribute("href",i);const r=en.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[u,f]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let en,qi=null;const hc=new d.OlP("TRANSITION_ID"),rr=[{provide:d.ip1,useFactory:function(i,r,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=Y(),u=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<u.length;f++)o.remove(u[f])})}},deps:[hc,j,d.zs3],multi:!0}];class wl{static init(){(0,d.VLi)(new wl)}addToWindow(r){d.dqk.getAngularTestability=(o,u=!0)=>{const f=r.findTestabilityInTree(o,u);if(null==f)throw new Error("Could not find testability for element.");return f},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const u=d.dqk.getAllAngularTestabilities();let f=u.length,g=!1;const v=function(I){g=g||I,f--,0==f&&o(g)};u.forEach(function(I){I.whenStable(v)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const u=r.getTestability(e);return null!=u?u:o?Y().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let ha=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const ga=new d.OlP("EventManagerPlugins");let De=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let f=0;f<u.length;f++){const g=u[f];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(ga),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class wt{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const u=Y().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let ma=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),cn=(()=>{class i extends ma{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(f=>{const g=this._doc.createElement("style");g.textContent=f,u.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(yc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(yc))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function yc(i){Y().remove(i)}const Ti={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xr=/%COMP%/g;function Rn(i,r,e){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?Rn(i,u,e):(u=u.replace(xr,i),e.push(u))}return e}function hr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let di=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Qr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new gg(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case d.ifc.ShadowDom:return new Ec(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=Rn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(De),d.LFG(cn),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Qr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(Ti[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,u){if(u){e=u+":"+e;const f=Ti[u];f?r.setAttributeNS(f,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const u=Ti[o];u?r.removeAttributeNS(u,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,u){u&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,o,u&d.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,hr(o)):this.eventManager.addEventListener(r,e,hr(o))}}class gg extends Qr{constructor(r,e,o,u){super(r),this.component=o;const f=Rn(u+"-"+o.id,o.styles,[]);e.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(xr,u+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(xr,u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class Ec extends Qr{constructor(r,e,o,u){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Rn(u.id,u.styles,[]);for(let g=0;g<f.length;g++){const v=document.createElement("style");v.textContent=f[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Ml=(()=>{class i extends wt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const xl=["alt","control","meta","shift"],yg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ds={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let bc=(()=>{class i extends wt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const f=i.parseEventName(o),g=i.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,f.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=i._normalizeKey(o.pop());let g="";if(xl.forEach(I=>{const A=o.indexOf(I);A>-1&&(o.splice(A,1),g+=I+".")}),g+=f,0!=o.length||0===f.length)return null;const v={};return v.domEventName=u,v.fullKey=g,v}static getEventFullKey(e){let o="",u=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&Jn.hasOwnProperty(r)&&(r=Jn[r]))}return yg[r]||r}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),xl.forEach(f=>{f!=u&&Ds[f](e)&&(o+=f+".")}),o+=u,o}static eventCallback(e,o,u){return f=>{i.getEventFullKey(f)===e&&u.runGuarded(()=>o(f))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Fl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){fc.makeCurrent(),wl.init()},multi:!0},{provide:j,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Ll=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:ga,useClass:Ml,multi:!0,deps:[j,d.R0b,d.Lbi]},{provide:ga,useClass:bc,multi:!0,deps:[j]},[],{provide:di,useClass:di,deps:[De,cn,d.AFp]},{provide:d.FYo,useExisting:di},{provide:ma,useExisting:cn},{provide:cn,useClass:cn,deps:[j]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:De,useClass:De,deps:[ga,d.R0b]},{provide:class{},useClass:ha,deps:[]},[]];let lv=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:hc,useExisting:d.AFp},rr]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:Ll,imports:[da,d.hGG]}),i})();"undefined"!=typeof window&&window;var gn=D(4402),ir=D(8891),Zi=D(9796),Dt=D(8002),kf=D(1555);function Hl(i,r){return new ir.y(e=>{const o=i.length;if(0===o)return void e.complete();const u=new Array(o);let f=0,g=0;for(let v=0;v<o;v++){const I=(0,gn.D)(i[v]);let A=!1;e.add(I.subscribe({next:V=>{A||(A=!0,g++),u[v]=V},error:V=>e.error(V),complete:()=>{f++,(f===o||!A)&&(g===o&&e.next(r?r.reduce((V,U,J)=>(V[U]=u[J],V),{}):u),e.complete())}}))}})}let $l=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),Ss=(()=>{class i extends $l{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const fi=new d.OlP("NgValueAccessor"),Cg={provide:fi,useExisting:(0,d.Gpc)(()=>hi),multi:!0},Sc=new d.OlP("CompositionEventMode");let hi=(()=>{class i extends $l{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Y()?Y().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Sc,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[d._Bn([Cg]),d.qOj]}),i})();function Mi(i){return null==i||0===i.length}const xn=new d.OlP("NgValidators"),pr=new d.OlP("NgAsyncValidators"),Eo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function $t(i){return null}function zl(i){return null!=i}function Oc(i){const r=(0,d.QGY)(i)?(0,gn.D)(i):i;return(0,d.CqO)(r),r}function Rc(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function Dg(i,r){return r.map(e=>e(i))}function Tg(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function Ca(i){return null!=i?function(i){if(!i)return null;const r=i.filter(zl);return 0==r.length?null:function(e){return Rc(Dg(e,r))}}(Tg(i)):null}function Uf(i){return null!=i?function(i){if(!i)return null;const r=i.filter(zl);return 0==r.length?null:function(e){return function(...i){if(1===i.length){const r=i[0];if((0,Zi.k)(r))return Hl(r,null);if((0,kf.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return Hl(e.map(o=>r[o]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return Hl(i=1===i.length&&(0,Zi.k)(i[0])?i[0]:i,null).pipe((0,Dt.U)(e=>r(...e)))}return Hl(i,null)}(Dg(e,r).map(Oc)).pipe((0,Dt.U)(Rc))}}(Tg(i)):null}function Nc(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function dn(i){return i?Array.isArray(i)?i:[i]:[]}function xs(i,r){return Array.isArray(i)?i.includes(r):i===r}function ba(i,r){const e=dn(r);return dn(i).forEach(u=>{xs(e,u)||e.push(u)}),e}function Ag(i,r){return dn(r).filter(e=>!xs(i,e))}let Kl=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ca(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Uf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})(),Qt=(()=>{class i extends Kl{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class Nn extends Kl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ia{constructor(r){this._cd=r}is(r){var e,o,u;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let Io=(()=>{class i extends Ia{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Nn,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),kc=(()=>{class i extends Ia{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Qt,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function Ta(i,r){Zl(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&$f(i,r)})}(i,r),function(i,r){const e=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&$f(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function Do(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Zl(i,r){const e=function(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(Nc(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(Nc(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();Do(r._rawValidators,u),Do(r._rawAsyncValidators,u)}function $f(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ma(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const mr="VALID",ns="INVALID",To="PENDING",Ao="DISABLED";function Wf(i){return(_r(i)?i.validators:i)||null}function Ls(i){return Array.isArray(i)?Ca(i):i||null}function Pr(i,r){return(_r(r)?r.asyncValidators:i)||null}function So(i){return Array.isArray(i)?Uf(i):i||null}function _r(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class jc{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Ls(this._rawValidators),this._composedAsyncValidatorFn=So(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===mr}get invalid(){return this.status===ns}get pending(){return this.status==To}get disabled(){return this.status===Ao}get enabled(){return this.status!==Ao}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Ls(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=So(r)}addValidators(r){this.setValidators(ba(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(ba(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Ag(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Ag(r,this._rawAsyncValidators))}hasValidator(r){return xs(this._rawValidators,r)}hasAsyncValidator(r){return xs(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=To,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Ao,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=mr,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mr||this.status===To)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ao:mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=To,this._hasOwnPendingAsyncValidator=!0;const e=Oc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(u=>{o=o instanceof Ra?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof Xl&&o.at(u)||null}),o}(this,r)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ao:this.errors?ns:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(To)?To:this._anyControlsHaveStatus(ns)?ns:mr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){_r(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Oa extends jc{constructor(r=null,e,o){super(Wf(e),Pr(o,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ma(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ma(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Ra extends jc{constructor(r,e,o){super(Wf(e),Pr(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e instanceof Oa?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((u,f)=>{o=e(o,u,f)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Xl extends jc{constructor(r,e,o){super(Wf(e),Pr(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof Oa?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const Gf={provide:Qt,useExisting:(0,d.Gpc)(()=>gi)},xa=(()=>Promise.resolve(null))();let gi=(()=>{class i extends Qt{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new Ra({},Ca(e),Uf(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xa.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Ta(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xa.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Ma(this._directives,e)})}addFormGroup(e){xa.then(()=>{const o=this._findContainer(e.path),u=new Ra({});(function(i,r){Zl(i,r)})(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xa.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){xa.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(xn,10),d.Y36(pr,10))},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Gf]),d.qOj]}),i})();const Og={provide:Nn,useExisting:(0,d.Gpc)(()=>Mo)},Pa=(()=>Promise.resolve(null))();let Mo=(()=>{class i extends Nn{constructor(e,o,u,f){super(),this.control=new Oa,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(i,r){if(!r)return null;let e,o,u;return Array.isArray(r),r.forEach(f=>{f.constructor===hi?e=f:function(i){return Object.getPrototypeOf(i.constructor)===Ss}(f)?o=f:u=f}),u||o||e||null}(0,f)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ta(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Pa.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;Pa.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Qt,9),d.Y36(xn,10),d.Y36(pr,10),d.Y36(fi,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Og]),d.qOj,d.TTD]}),i})(),mi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),nu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const qf={provide:xn,useExisting:(0,d.Gpc)(()=>ou),multi:!0};let ou=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(i){return Mi(i.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[d._Bn([qf])]}),i})();const jA={provide:xn,useExisting:(0,d.Gpc)(()=>bv),multi:!0};let bv=(()=>{class i{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?function(i){return Mi(i.value)||Eo.test(i.value)?null:{email:!0}}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d._Bn([jA])]}),i})();const Iv={provide:xn,useExisting:(0,d.Gpc)(()=>Fg),multi:!0};let Fg=(()=>{class i{constructor(){this._validator=$t}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?function(i){return r=>Mi(r.value)||!function(i){return null!=i&&"number"==typeof i.length}(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null}(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.minlength)):$t}enabled(){return null!=this.minlength}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("minlength",o.enabled()?o.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([Iv]),d.TTD]}),i})(),Tv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[nu]]}),i})(),In=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[Tv]}),i})();var rt=D(5917),Oi=D(6215),Sv=D(4869),sI=D(5197),oI=D(509),HA=D(6693);const aI={};class yr{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new Ug(r,this.resultSelector))}}class Ug extends sI.L{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(aI),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add((0,oI.D)(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const u=this.values,g=this.toRespond?u[o]===aI?--this.toRespond:this.toRespond:0;u[o]=e,0===g&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const Kc=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var kn=D(3282);function qc(...i){return(0,kn.J)(1)((0,rt.of)(...i))}var Fa=D(9193);function Mv(i){return new ir.y(r=>{let e;try{e=i()}catch(u){return void r.error(u)}return(e?(0,gn.D)(e):(0,Fa.c)()).subscribe(r)})}var Ov=D(2441),Ro=D(9765),Fn=D(3190),Zc=D(5257),xv=D(2145),as=D(5435),xo=D(5304),au=D(4612),Ri=D(7393),Pv=D(7108);function jg(i){return function(e){return 0===i?(0,Fa.c)():e.lift(new $A(i))}}class $A{constructor(r){if(this.total=r,this.total<0)throw new Pv.W}call(r,e){return e.subscribe(new Nv(r,this.total))}}class Nv extends Ri.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(r):e[u%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let f=0;f<o;f++){const g=e++%o;r.next(u[g])}}r.complete()}}function Qc(i=lu){return r=>r.lift(new uI(i))}class uI{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new cI(r,this.errorFactory))}}class cI extends Ri.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function lu(){return new Kc}function kv(i=null){return r=>r.lift(new dI(i))}class dI{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new fI(r,this.defaultValue))}}class fI extends Ri.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fv=D(4487);function ls(i,r){const e=arguments.length>=2;return o=>o.pipe(i?(0,as.h)((u,f)=>i(u,f,o)):Fv.y,(0,Zc.q)(1),e?kv(r):Qc(()=>new Kc))}var tn=D(9773),vr=D(3342),pI=D(1307),Bg=D(5319);class WA{constructor(r){this.callback=r}call(r,e){return e.subscribe(new Vv(r,this.callback))}}class Vv extends Ri.L{constructor(r,e){super(r),this.add(new Bg.w(e))}}class Vs{constructor(r,e){this.id=r,this.url=e}}class Hg extends Vs{constructor(r,e,o="imperative",u=null){super(r,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jc extends Vs{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class La extends Vs{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class us extends Vs{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GA extends Vs{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zA extends Vs{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uv extends Vs{constructor(r,e,o,u,f){super(r,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KA extends Vs{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Vs{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qf{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jf{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gI{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jv{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bv{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $g{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class Wg{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Va(i){return new Wg(i)}const mI="ngNavigationCancelingError";function Po(i){const r=Error("NavigationCancelingError: "+i);return r[mI]=!0,r}function Hv(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const u={};for(let f=0;f<o.length;f++){const g=o[f],v=i[f];if(g.startsWith(":"))u[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function yi(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let f=0;f<e.length;f++)if(u=e[f],!$v(i[u],r[u]))return!1;return!0}function $v(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((u,f)=>o[f]===u)}return i===r}function Wv(i){return Array.prototype.concat.apply([],i)}function Gv(i){return i.length>0?i[i.length-1]:null}function Xn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function ds(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,gn.D)(Promise.resolve(i)):(0,rt.of)(i)}const zg={exact:function Kv(i,r,e){if(!Lo(i.segments,r.segments)||!ed(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!Kv(i.children[o],r.children[o],e))return!1;return!0},subset:Yg},Kg={exact:function(i,r){return yi(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>$v(i[e],r[e]))},ignored:()=>!0};function Xf(i,r,e){return zg[e.paths](i.root,r.root,e.matrixParams)&&Kg[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function Yg(i,r,e){return No(i,r,r.segments,e)}function No(i,r,e,o){if(i.segments.length>e.length){const u=i.segments.slice(0,e.length);return!(!Lo(u,e)||r.hasChildren()||!ed(u,e,o))}if(i.segments.length===e.length){if(!Lo(i.segments,e)||!ed(i.segments,e,o))return!1;for(const u in r.children)if(!i.children[u]||!Yg(i.children[u],r.children[u],o))return!1;return!0}{const u=e.slice(0,i.segments.length),f=e.slice(i.segments.length);return!!(Lo(i.segments,u)&&ed(i.segments,u,o)&&i.children[vt])&&No(i.children[vt],r,f,o)}}function ed(i,r,e){return r.every((o,u)=>Kg[e](i[u].parameters,o.parameters))}class ko{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return Zv.serialize(this)}}class St{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Xn(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ua(this)}}class Fo{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Va(this.parameters)),this._parameterMap}toString(){return Zg(this)}}function Lo(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class eh{}class th{parse(r){const e=new nE(r);return new ko(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){var i;return`${`/${Vo(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(u=>`${uu(e)}=${uu(u)}`).join("&"):`${uu(e)}=${uu(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const Zv=new th;function Ua(i){return i.segments.map(r=>Zg(r)).join("/")}function Vo(i,r){if(!i.hasChildren())return Ua(i);if(r){const e=i.children[vt]?Vo(i.children[vt],!1):"",o=[];return Xn(i.children,(u,f)=>{f!==vt&&o.push(`${f}:${Vo(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return Xn(i.children,(o,u)=>{u===vt&&(e=e.concat(r(o,u)))}),Xn(i.children,(o,u)=>{u!==vt&&(e=e.concat(r(o,u)))}),e}(i,(o,u)=>u===vt?[Vo(i.children[vt],!1)]:[`${u}:${Vo(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vt]?`${Ua(i)}/${e[0]}`:`${Ua(i)}/(${e.join("//")})`}}function qg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(i){return qg(i).replace(/%3B/gi,";")}function td(i){return qg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uo(i){return decodeURIComponent(i)}function Jv(i){return Uo(i.replace(/\+/g,"%20"))}function Zg(i){return`${td(i.path)}${function(i){return Object.keys(i).map(r=>`;${td(r)}=${td(i[r])}`).join("")}(i.parameters)}`}const Xv=/^[^\/()?;=#]+/;function cu(i){const r=i.match(Xv);return r?r[0]:""}const eE=/^[^=?&#]+/,tE=/^[^?&#]+/;class nE{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[vt]=new St(r,e)),o}parseSegment(){const r=cu(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Fo(Uo(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=cu(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=cu(this.remaining);u&&(o=u,this.capture(o))}r[Uo(e)]=Uo(o)}parseQueryParam(r){const e=function(i){const r=i.match(eE);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function(i){const r=i.match(tE);return r?r[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const u=Jv(e),f=Jv(o);if(r.hasOwnProperty(u)){let g=r[u];Array.isArray(g)||(g=[g],r[u]=g),g.push(f)}else r[u]=f}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=cu(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=vt);const g=this.parseChildren();e[f]=1===Object.keys(g).length?g[vt]:new St([],g),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class rE{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=Qg(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=Qg(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Xr(r,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Xr(r,this._root).map(e=>e.value)}}function Qg(i,r){if(i===r.value)return r;for(const e of r.children){const o=Qg(i,e);if(o)return o}return null}function Xr(i,r){if(i===r.value)return[r];for(const e of r.children){const o=Xr(i,e);if(o.length)return o.unshift(r),o}return[]}class Us{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function du(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class iE extends rE{constructor(r,e){super(r),this.snapshot=e,tt(this,r)}toString(){return this.snapshot.toString()}}function sE(i,r){const e=function(i,r){const g=new nh([],{},{},"",{},vt,r,null,i.root,-1,{});return new oE("",new Us(g,[]))}(i,r),o=new Oi.X([new Fo("",{})]),u=new Oi.X({}),f=new Oi.X({}),g=new Oi.X({}),v=new Oi.X(""),I=new fu(o,u,g,v,f,vt,r,e.root);return I.snapshot=e.root,new iE(new Us(I,[]),e)}class fu{constructor(r,e,o,u,f,g,v,I){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=g,this.component=v,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(r=>Va(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(r=>Va(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jg(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const u=e[o],f=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class nh{constructor(r,e,o,u,f,g,v,I,A,V,U){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=g,this.component=v,this.routeConfig=I,this._urlSegment=A,this._lastPathIndex=V,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oE extends rE{constructor(r,e){super(e),this.url=r,tt(this,e)}toString(){return Xg(this._root)}}function tt(i,r){r.value._routerState=i,r.children.forEach(e=>tt(i,e))}function Xg(i){const r=i.children.length>0?` { ${i.children.map(Xg).join(", ")} } `:"";return`${i.value}${r}`}function rh(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,yi(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),yi(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!yi(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),yi(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function hu(i,r){return yi(i.params,r.params)&&function(i,r){return Lo(i,r)&&i.every((e,o)=>yi(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||hu(i.parent,r.parent))}function nd(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const u=function(i,r,e){return r.children.map(o=>{for(const u of e.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return nd(i,o,u);return nd(i,o)})}(i,r,e);return new Us(o,u)}{if(i.shouldAttach(r.value)){const f=i.retrieve(r.value);if(null!==f){const g=f.route;return aE(r,g),g}}const o=function(i){return new fu(new Oi.X(i.url),new Oi.X(i.params),new Oi.X(i.queryParams),new Oi.X(i.fragment),new Oi.X(i.data),i.outlet,i.component,i)}(r.value),u=r.children.map(f=>nd(i,f));return new Us(o,u)}}function aE(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)aE(i.children[e],r.children[e])}function rd(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ja(i){return"object"==typeof i&&null!=i&&i.outlets}function lE(i,r,e,o,u){let f={};return o&&Xn(o,(g,v)=>{f[v]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),new ko(e.root===i?r:nm(e.root,i,r),f,u)}function nm(i,r,e){const o={};return Xn(i.children,(u,f)=>{o[f]=u===r?e:nm(u,r,e)}),new St(i.segments,o)}class DI{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&rd(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(ja);if(u&&u!==Gv(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function uE(i,r,e){if(i||(i=new St([],{})),0===i.segments.length&&i.hasChildren())return id(i,r,e);const o=function(i,r,e){let o=0,u=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=e.length)return f;const g=i.segments[u],v=e[o];if(ja(v))break;const I=`${v}`,A=o<e.length-1?e[o+1]:null;if(u>0&&void 0===I)break;if(I&&A&&"object"==typeof A&&void 0===A.outlets){if(!om(I,A,g))return f;o+=2}else{if(!om(I,{},g))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,r,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new St(i.segments.slice(0,o.pathIndex),{});return f.children[vt]=new St(i.segments.slice(o.pathIndex),i.children),id(f,0,u)}return o.match&&0===u.length?new St(i.segments,{}):o.match&&!i.hasChildren()?im(i,r,e):o.match?id(i,0,u):im(i,r,e)}function id(i,r,e){if(0===e.length)return new St(i.segments,{});{const o=function(i){return ja(i[0])?i[0].outlets:{[vt]:i}}(e),u={};return Xn(o,(f,g)=>{"string"==typeof f&&(f=[f]),null!==f&&(u[g]=uE(i.children[g],r,f))}),Xn(i.children,(f,g)=>{void 0===o[g]&&(u[g]=f)}),new St(i.segments,u)}}function im(i,r,e){const o=i.segments.slice(0,r);let u=0;for(;u<e.length;){const f=e[u];if(ja(f)){const I=JA(f.outlets);return new St(o,I)}if(0===u&&rd(e[0])){o.push(new Fo(i.segments[r].path,sm(e[0]))),u++;continue}const g=ja(f)?f.outlets[vt]:`${f}`,v=u<e.length-1?e[u+1]:null;g&&v&&rd(v)?(o.push(new Fo(g,sm(v))),u+=2):(o.push(new Fo(g,{})),u++)}return new St(o,{})}function JA(i){const r={};return Xn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=im(new St([],{}),0,e))}),r}function sm(i){const r={};return Xn(i,(e,o)=>r[o]=`${e}`),r}function om(i,r,e){return i==e.path&&yi(r,e.parameters)}class am{constructor(r,e,o,u){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),rh(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const u=du(e);r.children.forEach(f=>{const g=f.value.outlet;this.deactivateRoutes(f,u[g],o),delete u[g]}),Xn(u,(f,g)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(u===f)if(u.component){const g=o.getContext(u.outlet);g&&this.deactivateChildRoutes(r,e,g.children)}else this.deactivateChildRoutes(r,e,o);else f&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:f})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,f=du(r);for(const g of Object.keys(f))this.deactivateRouteAndItsChildren(f[g],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const u=du(e);r.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new Bv(f.value.snapshot))}),r.children.length&&this.forwardEvent(new jv(r.value.snapshot))}activateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(rh(u),u===f)if(u.component){const g=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,e,g.children)}else this.activateChildRoutes(r,e,o);else if(u.component){const g=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),AI(v.route)}else{const v=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),I=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=u,g.resolver=I,g.outlet&&g.outlet.activateWith(u,I),this.activateChildRoutes(r,null,g.children)}}else this.activateChildRoutes(r,null,o)}}function AI(i){rh(i.value),i.children.forEach(AI)}class cE{constructor(r,e){this.routes=r,this.module=e}}function Ba(i){return"function"==typeof i}function gu(i){return i instanceof ko}const sh=Symbol("INITIAL_VALUE");function vi(){return(0,Fn.w)(i=>function(...i){let r,e;return(0,Sv.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,Zi.k)(i[0])&&(i=i[0]),(0,HA.n)(i,e).lift(new yr(r))}(i.map(r=>r.pipe((0,Zc.q)(1),function(...i){const r=i[i.length-1];return(0,Sv.K)(r)?(i.pop(),e=>qc(i,e,r)):e=>qc(i,e)}(sh)))).pipe((0,xv.R)((r,e)=>{let o=!1;return e.reduce((u,f,g)=>u!==sh?u:(f===sh&&(o=!0),o||!1!==f&&g!==e.length-1&&!gu(f)?u:f),r)},sh),(0,as.h)(r=>r!==sh),(0,Dt.U)(r=>gu(r)?r:!0===r),(0,Zc.q)(1)))}let oh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[Pi]},encapsulation:2}),i})();function dE(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];fE(o,lm(r,o))}}function fE(i,r){i.children&&dE(i.children,r)}function lm(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function ah(i){const r=i.children&&i.children.map(ah),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==vt&&(e.component=oh),e}function Nr(i){return i.outlet||vt}function hE(i,r){const e=i.filter(o=>Nr(o)===r);return e.push(...i.filter(o=>Nr(o)!==r)),e}const Hs={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sd(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Hs):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||Hv)(e,i,r);if(!f)return Object.assign({},Hs);const g={};Xn(f.posParams,(I,A)=>{g[A]=I.path});const v=f.consumed.length>0?Object.assign(Object.assign({},g),f.consumed[f.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:v,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function lh(i,r,e,o,u="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>uh(i,r,o)&&Nr(o)!==vt)}(i,e,o)){const g=new St(r,function(i,r,e,o){const u={};u[vt]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const f of e)if(""===f.path&&Nr(f)!==vt){const g=new St([],{});g._sourceSegment=i,g._segmentIndexShift=r.length,u[Nr(f)]=g}return u}(i,r,o,new St(e,i.children)));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>uh(i,r,o))}(i,e,o)){const g=new St(i.segments,function(i,r,e,o,u,f){const g={};for(const v of o)if(uh(i,e,v)&&!u[Nr(v)]){const I=new St([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===f?i.segments.length:r.length,g[Nr(v)]=I}return Object.assign(Object.assign({},u),g)}(i,r,e,o,i.children,u));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:e}}const f=new St(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}function uh(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function gE(i,r,e,o){return!!(Nr(i)===o||o!==vt&&uh(r,e,i))&&("**"===i.path||sd(r,i,e).matched)}function mu(i,r,e){return 0===r.length&&!i.children[e]}class fs{constructor(r){this.segmentGroup=r||null}}class ch{constructor(r){this.urlTree=r}}function $s(i){return new ir.y(r=>r.error(new fs(i)))}function _u(i){return new ir.y(r=>r.error(new ch(i)))}function yu(i){return new ir.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class _E{constructor(r,e,o,u,f){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=lh(this.urlTree.root,[],[],this.config).segmentGroup,e=new St(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vt).pipe((0,Dt.U)(f=>this.createUrlTree(od(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,xo.K)(f=>{if(f instanceof ch)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof fs?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,vt).pipe((0,Dt.U)(u=>this.createUrlTree(od(u),r.queryParams,r.fragment))).pipe((0,xo.K)(u=>{throw u instanceof fs?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const u=r.segments.length>0?new St([],{[vt]:r}):r;return new ko(u,e,o)}expandSegmentGroup(r,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,Dt.U)(f=>new St([],f))):this.expandSegment(r,o,e,o.segments,u,!0)}expandChildren(r,e,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,gn.D)(u).pipe((0,au.b)(f=>{const g=o.children[f],v=hE(e,f);return this.expandSegmentGroup(r,v,g,f).pipe((0,Dt.U)(I=>({segment:I,outlet:f})))}),(0,xv.R)((f,g)=>(f[g.outlet]=g.segment,f),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?(0,as.h)((u,f)=>i(u,f,o)):Fv.y,jg(1),e?kv(r):Qc(()=>new Kc))}())}expandSegment(r,e,o,u,f,g){return(0,gn.D)(o).pipe((0,au.b)(v=>this.expandSegmentAgainstRoute(r,e,o,v,u,f,g).pipe((0,xo.K)(A=>{if(A instanceof fs)return(0,rt.of)(null);throw A}))),ls(v=>!!v),(0,xo.K)((v,I)=>{if(v instanceof Kc||"EmptyError"===v.name){if(mu(e,u,f))return(0,rt.of)(new St([],{}));throw new fs(e)}throw v}))}expandSegmentAgainstRoute(r,e,o,u,f,g,v){return gE(u,e,f,g)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,e,u,f,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,g):$s(e):$s(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,g){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,g):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,u){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?_u(f):this.lineralizeSegments(o,f).pipe((0,tn.zg)(g=>{const v=new St(g,{});return this.expandSegment(r,v,e,g,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,g){const{matched:v,consumedSegments:I,lastChild:A,positionalParamSegments:V}=sd(e,u,f);if(!v)return $s(e);const U=this.applyRedirectCommands(I,u.redirectTo,V);return u.redirectTo.startsWith("/")?_u(U):this.lineralizeSegments(u,U).pipe((0,tn.zg)(J=>this.expandSegment(r,e,o,J.concat(f.slice(A)),g,!1)))}matchSegmentAgainstRoute(r,e,o,u,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Dt.U)(J=>(o._loadedConfig=J,new St(u,{})))):(0,rt.of)(new St(u,{}));const{matched:g,consumedSegments:v,lastChild:I}=sd(e,o,u);if(!g)return $s(e);const A=u.slice(I);return this.getChildConfig(r,o,u).pipe((0,tn.zg)(U=>{const J=U.module,ge=U.routes,{segmentGroup:Te,slicedSegments:Le}=lh(e,v,A,ge),Be=new St(Te.segments,Te.children);if(0===Le.length&&Be.hasChildren())return this.expandChildren(J,ge,Be).pipe((0,Dt.U)(Wt=>new St(v,Wt)));if(0===ge.length&&0===Le.length)return(0,rt.of)(new St(v,{}));const Nt=Nr(o)===f;return this.expandSegment(J,Be,ge,Le,Nt?vt:f,!0).pipe((0,Dt.U)(ft=>new St(v.concat(ft.segments),ft.children)))}))}getChildConfig(r,e,o){return e.children?(0,rt.of)(new cE(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,rt.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,tn.zg)(u=>{return u?this.configLoader.load(r.injector,e).pipe((0,Dt.U)(f=>(e._loadedConfig=f,f))):(i=e,new ir.y(r=>r.error(Po(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,rt.of)(new cE([],r))}runCanLoadGuards(r,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,rt.of)(!0);const f=u.map(g=>{const v=r.get(g);let I;if((i=v)&&Ba(i.canLoad))I=v.canLoad(e,o);else{if(!Ba(v))throw new Error("Invalid CanLoad guard");I=v(e,o)}var i;return ds(I)});return(0,rt.of)(f).pipe(vi(),(0,vr.b)(g=>{if(!gu(g))return;const v=Po(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,Dt.U)(g=>!0===g))}lineralizeSegments(r,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,rt.of)(o);if(u.numberOfChildren>1||!u.children[vt])return yu(r.redirectTo);u=u.children[vt]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,u){const f=this.createSegmentGroup(r,e.root,o,u);return new ko(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return Xn(r,(u,f)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);o[f]=e[v]}else o[f]=u}),o}createSegmentGroup(r,e,o,u){const f=this.createSegments(r,e.segments,o,u);let g={};return Xn(e.children,(v,I)=>{g[I]=this.createSegmentGroup(r,v,o,u)}),new St(f,g)}createSegments(r,e,o,u){return e.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,u):this.findOrReturn(f,o))}findPosParam(r,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return u}findOrReturn(r,e){let o=0;for(const u of e){if(u.path===r.path)return e.splice(o),u;o++}return r}}function od(i){const r={};for(const o of Object.keys(i.children)){const f=od(i.children[o]);(f.segments.length>0||f.hasChildren())&&(r[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[vt]){const r=i.children[vt];return new St(i.segments.concat(r.segments),r.children)}return i}(new St(i.segments,r))}class ad{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class dh{constructor(r,e){this.component=r,this.route=e}}function vE(i,r,e){const o=i._root;return ud(o,r?r._root:null,e,[o.value])}function ld(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function ud(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=du(r);return i.children.forEach(g=>{(function(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,g=r?r.value:null,v=e?e.getContext(i.value.outlet):null;if(g&&f.routeConfig===g.routeConfig){const I=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!Lo(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Lo(i.url,r.url)||!yi(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hu(i,r)||!yi(i.queryParams,r.queryParams);case"paramsChange":default:return!hu(i,r)}}(g,f,f.routeConfig.runGuardsAndResolvers);I?u.canActivateChecks.push(new ad(o)):(f.data=g.data,f._resolvedData=g._resolvedData),ud(i,r,f.component?v?v.children:null:e,o,u),I&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new dh(v.outlet.component,g))}else g&&cd(r,v,u),u.canActivateChecks.push(new ad(o)),ud(i,null,f.component?v?v.children:null:e,o,u)})(g,f[g.value.outlet],e,o.concat([g.value]),u),delete f[g.value.outlet]}),Xn(f,(g,v)=>cd(g,e.getContext(v),u)),u}function cd(i,r,e){const o=du(i),u=i.value;Xn(o,(f,g)=>{cd(f,u.component?r?r.children.getContext(g):null:r,e)}),e.canDeactivateChecks.push(new dh(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class dm{}function fm(i){return new ir.y(r=>r.error(i))}class kI{constructor(r,e,o,u,f,g){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=g}recognize(){const r=lh(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,vt);if(null===e)return null;const o=new nh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Us(o,e),f=new oE(this.url,u);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const e=r.value,o=Jg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const f of Object.keys(e.children)){const g=e.children[f],v=hE(r,f),I=this.processSegmentGroup(v,g,f);if(null===I)return null;o.push(...I)}const u=hm(o);return u.sort((r,e)=>r.value.outlet===vt?-1:e.value.outlet===vt?1:r.value.outlet.localeCompare(e.value.outlet)),u}processSegment(r,e,o,u){for(const f of r){const g=this.processSegmentAgainstRoute(f,e,o,u);if(null!==g)return g}return mu(e,o,u)?[]:null}processSegmentAgainstRoute(r,e,o,u){if(r.redirectTo||!gE(r,e,o,u))return null;let f,g=[],v=[];if("**"===r.path){const ge=o.length>0?Gv(o).parameters:{};f=new nh(o,ge,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gm(r),Nr(r),r.component,r,wE(e),pm(e)+o.length,DE(r))}else{const ge=sd(e,r,o);if(!ge.matched)return null;g=ge.consumedSegments,v=o.slice(ge.lastChild),f=new nh(g,ge.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gm(r),Nr(r),r.component,r,wE(e),pm(e)+g.length,DE(r))}const I=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:V}=lh(e,g,v,I.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);var i;if(0===V.length&&A.hasChildren()){const ge=this.processChildren(I,A);return null===ge?null:[new Us(f,ge)]}if(0===I.length&&0===V.length)return[new Us(f,[])];const U=Nr(r)===u,J=this.processSegment(I,A,V,U?vt:u);return null===J?null:[new Us(f,J)]}}function LI(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function hm(i){const r=[],e=new Set;for(const o of i){if(!LI(o)){r.push(o);continue}const u=r.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):r.push(o)}for(const o of e){const u=hm(o.children);r.push(new Us(o.value,u))}return r.filter(o=>!e.has(o))}function wE(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function pm(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function gm(i){return i.data||{}}function DE(i){return i.resolve||{}}function fh(i){return(0,Fn.w)(r=>{const e=i(r);return e?(0,gn.D)(e).pipe((0,Dt.U)(()=>r)):(0,rt.of)(r)})}class HI extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const dd=new d.OlP("ROUTES");class TE{constructor(r,e,o,u){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,Dt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=f.create(r);return new cE(Wv(g.injector.get(dd,void 0,d.XFs.Self|d.XFs.Optional)).map(ah),g)}),(0,xo.K)(f=>{throw e._loader$=void 0,f}));return e._loader$=new Ov.c(u,()=>new Ro.xQ).pipe((0,pI.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,gn.D)(this.loader.load(r)):ds(r()).pipe((0,tn.zg)(e=>e instanceof d.YKP?(0,rt.of)(e):(0,gn.D)(this.compiler.compileModuleAsync(e))))}}class $I{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ws,this.attachRef=null}}class Ws{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new $I,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class WI{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function ym(i){throw i}function vm(i,r,e){return r.parse("/")}function Em(i,r){return(0,rt.of)(null)}const GI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tn=(()=>{class i{constructor(e,o,u,f,g,v,I,A){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=f,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ro.xQ,this.errorHandler=ym,this.malformedUriErrorHandler=vm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Em,afterPreactivation:Em},this.urlHandlingStrategy=new WI,this.routeReuseStrategy=new HI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(d.h0i),this.console=g.get(d.c2e);const J=g.get(d.R0b);this.isNgZoneEnabled=J instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new ko(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TE(v,I,ge=>this.triggerEvent(new Qf(ge)),ge=>this.triggerEvent(new Jf(ge))),this.routerState=sE(this.currentUrlTree,this.rootComponentType),this.transitions=new Oi.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe((0,as.h)(u=>0!==u.id),(0,Dt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),(0,Fn.w)(u=>{let f=!1,g=!1;return(0,rt.of)(u).pipe((0,vr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Fn.w)(v=>{const I=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString(),A=("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl);if(hh(v.source)&&(this.browserUrlTree=v.rawUrl),A)return(0,rt.of)(v).pipe((0,Fn.w)(V=>{const U=this.transitions.getValue();return o.next(new Hg(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),U!==this.transitions.getValue()?Fa.E:Promise.resolve(V)}),function(i,r,e,o){return(0,Fn.w)(u=>function(i,r,e,o,u){return new _E(i,r,e,o,u).apply()}(i,r,e,u.extractedUrl,o).pipe((0,Dt.U)(f=>Object.assign(Object.assign({},u),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vr.b)(V=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function(i,r,e,o,u){return(0,tn.zg)(f=>function(i,r,e,o,u="emptyOnly",f="legacy"){try{const g=new kI(i,r,e,o,u,f).recognize();return null===g?fm(new dm):(0,rt.of)(g)}catch(g){return fm(g)}}(i,r,f.urlAfterRedirects,e(f.urlAfterRedirects),o,u).pipe((0,Dt.U)(g=>Object.assign(Object.assign({},f),{targetSnapshot:g}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vr.b)(V=>{"eager"===this.urlUpdateStrategy&&(V.extras.skipLocationChange||this.setBrowserUrl(V.urlAfterRedirects,V),this.browserUrlTree=V.urlAfterRedirects);const U=new GA(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);o.next(U)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:J,source:ge,restoredState:Te,extras:Le}=v,Be=new Hg(U,this.serializeUrl(J),ge,Te);o.next(Be);const Nt=sE(J,this.rootComponentType).snapshot;return(0,rt.of)(Object.assign(Object.assign({},v),{targetSnapshot:Nt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Fa.E}),fh(v=>{const{targetSnapshot:I,id:A,extractedUrl:V,rawUrl:U,extras:{skipLocationChange:J,replaceUrl:ge}}=v;return this.hooks.beforePreactivation(I,{navigationId:A,appliedUrlTree:V,rawUrlTree:U,skipLocationChange:!!J,replaceUrl:!!ge})}),(0,vr.b)(v=>{const I=new zA(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),(0,Dt.U)(v=>Object.assign(Object.assign({},v),{guards:vE(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(i,r){return(0,tn.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:g}}=e;return 0===g.length&&0===f.length?(0,rt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,gn.D)(i).pipe((0,tn.zg)(u=>function(i,r,e,o,u){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,rt.of)(!0);const g=f.map(v=>{const I=ld(v,r,u);let A;if(function(i){return i&&Ba(i.canDeactivate)}(I))A=ds(I.canDeactivate(i,r,e,o));else{if(!Ba(I))throw new Error("Invalid CanDeactivate guard");A=ds(I(i,r,e,o))}return A.pipe(ls())});return(0,rt.of)(g).pipe(vi())}(u.component,u.route,e,r,o)),ls(u=>!0!==u,!0))}(g,o,u,i).pipe((0,tn.zg)(v=>v&&function(i){return"boolean"==typeof i}(v)?function(i,r,e,o){return(0,gn.D)(r).pipe((0,au.b)(u=>qc(function(i,r){return null!==i&&r&&r(new gI(i)),(0,rt.of)(!0)}(u.route.parent,o),function(i,r){return null!==i&&r&&r(new Xc(i)),(0,rt.of)(!0)}(u.route,o),function(i,r,e){const o=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(g=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(g)).filter(g=>null!==g).map(g=>Mv(()=>{const v=g.guards.map(I=>{const A=ld(I,g.node,e);let V;if(function(i){return i&&Ba(i.canActivateChild)}(A))V=ds(A.canActivateChild(o,i));else{if(!Ba(A))throw new Error("Invalid CanActivateChild guard");V=ds(A(o,i))}return V.pipe(ls())});return(0,rt.of)(v).pipe(vi())}));return(0,rt.of)(f).pipe(vi())}(i,u.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,rt.of)(!0);const u=o.map(f=>Mv(()=>{const g=ld(f,r,e);let v;if(function(i){return i&&Ba(i.canActivate)}(g))v=ds(g.canActivate(r,i));else{if(!Ba(g))throw new Error("Invalid CanActivate guard");v=ds(g(r,i))}return v.pipe(ls())}));return(0,rt.of)(u).pipe(vi())}(i,u.route,e))),ls(u=>!0!==u,!0))}(o,f,i,r):(0,rt.of)(v)),(0,Dt.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,vr.b)(v=>{if(gu(v.guardsResult)){const A=Po(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw A.url=v.guardsResult,A}const I=new Uv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(I)}),(0,as.h)(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),fh(v=>{if(v.guards.canActivateChecks.length)return(0,rt.of)(v).pipe((0,vr.b)(I=>{const A=new KA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}),(0,Fn.w)(I=>{let A=!1;return(0,rt.of)(I).pipe(function(i,r){return(0,tn.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,rt.of)(e);let f=0;return(0,gn.D)(u).pipe((0,au.b)(g=>function(i,r,e,o){return function(i,r,e,o){const u=Object.keys(i);if(0===u.length)return(0,rt.of)({});const f={};return(0,gn.D)(u).pipe((0,tn.zg)(g=>function(i,r,e,o){const u=ld(i,r,o);return ds(u.resolve?u.resolve(r,e):u(r,e))}(i[g],r,e,o).pipe((0,vr.b)(v=>{f[g]=v}))),jg(1),(0,tn.zg)(()=>Object.keys(f).length===u.length?(0,rt.of)(f):Fa.E))}(i._resolve,i,r,o).pipe((0,Dt.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),Jg(i,e).resolve),null)))}(g.route,o,i,r)),(0,vr.b)(()=>f++),jg(1),(0,tn.zg)(g=>f===u.length?(0,rt.of)(e):Fa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,vr.b)(I=>{const A=new cs(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}))}),fh(v=>{const{targetSnapshot:I,id:A,extractedUrl:V,rawUrl:U,extras:{skipLocationChange:J,replaceUrl:ge}}=v;return this.hooks.afterPreactivation(I,{navigationId:A,appliedUrlTree:V,rawUrlTree:U,skipLocationChange:!!J,replaceUrl:!!ge})}),(0,Dt.U)(v=>{const I=function(i,r,e){const o=nd(i,r._root,e?e._root:void 0);return new iE(o,r)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:I})}),(0,vr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((i,r,e)=>(0,Dt.U)(o=>(new am(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,vr.b)({next(){f=!0},complete(){f=!0}}),function(i){return r=>r.lift(new WA(i))}(()=>{if(!f&&!g){const v=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,v)):this.cancelNavigationTransition(u,v)}this.currentNavigation=null}),(0,xo.K)(v=>{if(g=!0,function(i){return i&&i[mI]}(v)){const I=gu(v.url);I||(this.navigated=!0,this.restoreHistory(u,!0));const A=new La(u.id,this.serializeUrl(u.extractedUrl),v.message);o.next(A),I?setTimeout(()=>{const V=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),U={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hh(u.source)};this.scheduleNavigation(V,"imperative",null,U,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const I=new us(u.id,this.serializeUrl(u.extractedUrl),v);o.next(I);try{u.resolve(this.errorHandler(v))}catch(A){u.reject(A)}}return Fa.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:f,urlTree:g}=o,v={replaceUrl:!0};if(f){const I=Object.assign({},f);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(v.state=I)}this.scheduleNavigation(g,u,f,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){dE(e),this.config=e.map(ah),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:f,fragment:g,queryParamsHandling:v,preserveFragment:I}=o,A=u||this.routerState.root,V=I?this.currentUrlTree.fragment:g;let U=null;switch(v){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=f||null}return null!==U&&(U=this.removeEmptyProps(U)),function(i,r,e,o,u){if(0===e.length)return lE(r.root,r.root,r,o,u);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new DI(!0,0,i);let r=0,e=!1;const o=i.reduce((u,f,g)=>{if("object"==typeof f&&null!=f){if(f.outlets){const v={};return Xn(f.outlets,(I,A)=>{v[A]="string"==typeof I?I.split("/"):I}),[...u,{outlets:v}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===g?(f.split("/").forEach((v,I)=>{0==I&&"."===v||(0==I&&""===v?e=!0:".."===v?r++:""!=v&&u.push(v))}),u):[...u,f]},[]);return new DI(e,r,o)}(e);if(f.toRoot())return lE(r.root,new St([],{}),r,o,u);const g=function(i,r,e){if(i.isAbsolute)return new pu(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const f=e.snapshot._urlSegment;return new pu(f,f===r.root,0)}const o=rd(i.commands[0])?0:1;return function(i,r,e){let o=i,u=r,f=e;for(;f>u;){if(f-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new pu(o,!1,u-f)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,r,i),v=g.processChildren?id(g.segmentGroup,g.index,f.commands):uE(g.segmentGroup,g.index,f.commands);return lE(g.segmentGroup,v,r,o,u)}(A,this.currentUrlTree,e,U,null!=V?V:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=gu(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},GI):!1===o?Object.assign({},zI):o,gu(e))return Xf(this.currentUrlTree,e,u);const f=this.parseUrl(e);return Xf(this.currentUrlTree,f,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const f=e[u];return null!=f&&(o[u]=f),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Jc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,u,f,g){var v,I;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),V=hh(o)&&A&&!hh(A.source),ge=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===e.toString();if(V&&ge)return Promise.resolve(!0);let Te,Le,Be;g?(Te=g.resolve,Le=g.reject,Be=g.promise):Be=new Promise((ft,Wt)=>{Te=ft,Le=Wt});const Nt=++this.navigationId;let Ot;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Ot=u&&u.\u0275routerPageId?u.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):Ot=0,this.setTransition({id:Nt,targetPageId:Ot,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:Te,reject:Le,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(ft=>Promise.reject(ft))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",f):this.location.go(u,"",f)}restoreHistory(e,o=!1){var u,f;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===g?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new La(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(eh),d.LFG(Ws),d.LFG(Ne),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function hh(i){return"imperative"!==i}let Pi=(()=>{class i{constructor(e,o,u,f,g){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=f||vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,I=new mh(e,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Ws),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class mh{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===fu?this.route:r===Ws?this.childContexts:this.parent.get(r,e)}}class ME{}class YI{preload(r,e){return(0,rt.of)(null)}}let $a=(()=>{class i{constructor(e,o,u,f,g){this.router=e,this.injector=f,this.preloadingStrategy=g,this.loader=new TE(o,u,A=>e.triggerEvent(new Qf(A)),A=>e.triggerEvent(new Jf(A)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,as.h)(e=>e instanceof Jc),(0,au.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const g=f._loadedConfig;u.push(this.processRoutes(g.module,g.routes))}else f.loadChildren&&!f.canLoad?u.push(this.preloadConfig(e,f)):f.children&&u.push(this.processRoutes(e,f.children));return(0,gn.D)(u).pipe((0,kn.J)(),(0,Dt.U)(f=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,tn.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Tn),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(ME))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),_h=(()=>{class i{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $g&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new $g(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Tn),d.LFG(Cl),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Ni=new d.OlP("ROUTER_CONFIGURATION"),OE=new d.OlP("ROUTER_FORROOT_GUARD"),RE=[Ne,{provide:eh,useClass:th},{provide:Tn,useFactory:function(i,r,e,o,u,f,g,v={},I,A){const V=new Tn(null,i,r,e,o,u,f,Wv(g));return I&&(V.urlHandlingStrategy=I),A&&(V.routeReuseStrategy=A),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(v,V),v.enableTracing&&V.events.subscribe(U=>{var J,ge;null===(J=console.group)||void 0===J||J.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(ge=console.groupEnd)||void 0===ge||ge.call(console)}),V},deps:[eh,Ws,Ne,d.zs3,d.v3s,d.Sil,dd,Ni,[class{},new d.FiY],[class{},new d.FiY]]},Ws,{provide:fu,useFactory:function(i){return i.routerState.root},deps:[Tn]},{provide:d.v3s,useClass:d.EAV},$a,YI,class{preload(r,e){return e().pipe((0,xo.K)(()=>(0,rt.of)(null)))}},{provide:Ni,useValue:{enableTracing:!1}}];function qI(){return new d.PXZ("Router",Tn)}let bm=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[RE,xE(e),{provide:OE,useFactory:QI,deps:[[Tn,new d.FiY,new d.tp0]]},{provide:Ni,useValue:o||{}},{provide:Ie,useFactory:Im,deps:[R,[new d.tBr(be),new d.FiY],Ni]},{provide:_h,useFactory:ZI,deps:[Tn,Cl,Ni]},{provide:ME,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:YI},{provide:d.PXZ,multi:!0,useFactory:qI},[wm,{provide:d.ip1,multi:!0,useFactory:JI,deps:[wm]},{provide:kE,useFactory:Eu,deps:[wm]},{provide:d.tb,multi:!0,useExisting:kE}]]}}static forChild(e){return{ngModule:i,providers:[xE(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(OE,8),d.LFG(Tn,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function ZI(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new _h(i,r,e)}function Im(i,r,e={}){return e.useHash?new Oe(i,r):new ve(i,r)}function QI(i){return"guarded"}function xE(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:dd,multi:!0,useValue:i}]}let wm=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ro.xQ}appInitializer(){return this.injector.get(S,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(v=>o=v),f=this.injector.get(Tn),g=this.injector.get(Ni);return"disabled"===g.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(Ni),u=this.injector.get($a),f=this.injector.get(_h),g=this.injector.get(Tn),v=this.injector.get(d.z2F);e===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),u.setUpPreloading(),f.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function JI(i){return i.appInitializer.bind(i)}function Eu(i){return i.bootstrapListener.bind(i)}const kE=new d.OlP("Router Initializer");var Gs=D(5676),ae=D(4685),Wa=D(5452),Dm=D(300),Jt=D(6034),ct=D(4220);const fd=(0,ct.PH)("[AUTH] Sign Up Start",(0,ct.Ky)()),vh=(0,ct.PH)("[AUTH] Sign Up Success",(0,ct.Ky)()),FE=(0,ct.PH)("[AUTH] Log In",(0,ct.Ky)());function ew(i,r){1&i&&(d.TgZ(0,"span"),d._uU(1,"Passwords don't match"),d.qZA())}function LE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",3,4),d.NdJ("ngSubmit",function(){d.CHM(e);const u=d.MAs(1);return d.oxw().signupSubmit(u)}),d.TgZ(2,"label",5),d._uU(3,"Enter your Email"),d.qZA(),d._UZ(4,"input",6),d.TgZ(5,"label",7),d._uU(6,"Enter your Username"),d.qZA(),d._UZ(7,"input",8),d.TgZ(8,"label",9),d._uU(9,"Enter your password"),d.qZA(),d._UZ(10,"input",10),d.TgZ(11,"label",11),d._uU(12,"Repeat your password"),d.qZA(),d._UZ(13,"input",12),d.YNc(14,ew,2,0,"span",13),d.TgZ(15,"button",14),d._uU(16,"Submit"),d.qZA(),d.qZA()}if(2&i){const e=d.MAs(1),o=d.oxw();d.xp6(14),d.Q6J("ngIf",o.hackyWayOfValidation),d.xp6(1),d.Q6J("disabled",e.invalid)}}function VE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",3,15),d.NdJ("ngSubmit",function(){d.CHM(e);const u=d.MAs(1);return d.oxw().loginSubmit(u)}),d.TgZ(2,"label",5),d._uU(3,"Enter your Email"),d.qZA(),d._UZ(4,"input",6),d.TgZ(5,"label",9),d._uU(6,"Enter your password"),d.qZA(),d._UZ(7,"input",10),d.TgZ(8,"button",14),d._uU(9,"Submit"),d.qZA(),d.qZA()}if(2&i){const e=d.MAs(1);d.xp6(8),d.Q6J("disabled",e.invalid)}}function UE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"span",16),d.NdJ("click",function(){d.CHM(e);const u=d.oxw();return u.signupMode=!u.signupMode}),d._uU(1,"Allready have an account?"),d.qZA()}}function jE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"span",16),d.NdJ("click",function(){d.CHM(e);const u=d.oxw();return u.signupMode=!u.signupMode}),d._uU(1,"Don't have an account?"),d.qZA()}}let tw=(()=>{class i{constructor(e,o){this.store=e,this.router=o,this.auth=(0,Gs.n)(),this.hackyWayOfValidation=!1,this.signupMode=!1}ngOnInit(){}signupSubmit(e){console.log(e),e.value.password!==e.value.rePassword&&(this.hackyWayOfValidation=!0,console.log("mismatch")),this.store.dispatch(fd({payload:{email:e.value.email,password:e.value.password,username:e.value.username}})),this.store.select("auth").subscribe(o=>{console.log(o)}),this.router.navigate(["messenger"])}loginSubmit(e){console.log(e),this.store.dispatch(FE({payload:{email:e.value.email,password:e.value.password}}))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ct.yh),d.Y36(Tn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-auth"]],decls:5,vars:4,consts:[[1,"form-container"],["class","form",3,"ngSubmit",4,"ngIf"],[3,"click",4,"ngIf"],[1,"form",3,"ngSubmit"],["signupForm","ngForm"],["for","email"],["id","email","type","email","ngModel","","name","email","required","","email",""],["for","userName"],["id","userName","type","text","ngModel","","name","username","required",""],["for","password"],["id","password","type","password","ngModel","","name","password","minlength","6","required",""],["for","rePassword"],["id","rePassword","type","password","ngModel","","name","rePassword","required",""],[4,"ngIf"],["type","submit",3,"disabled"],["loginForm","ngForm"],[3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.YNc(1,LE,17,2,"form",1),d.YNc(2,VE,10,1,"form",1),d.YNc(3,UE,2,0,"span",2),d.YNc(4,jE,2,0,"span",2),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",o.signupMode),d.xp6(1),d.Q6J("ngIf",!o.signupMode),d.xp6(1),d.Q6J("ngIf",o.signupMode),d.xp6(1),d.Q6J("ngIf",!o.signupMode))},directives:[pe,mi,kc,gi,hi,Io,Mo,ou,bv,Fg],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-container[_ngcontent-%COMP%]{background:#0f0c29;background:linear-gradient(to right,#24243e,#302b63,#0f0c29);display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;color:#ffebcd;box-shadow:2px 2px 15px 3px #fff3;background-color:#0006;border-radius:5px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 15px;width:400px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 5px}"]}),i})();var nw=D(8239);let Eh="";class HE{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,ae.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,ae.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class $E{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,ae.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const WE=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new HE(r)}}catch(r){}return new $E},Ga=WE("localStorage"),Sm=WE("sessionStorage"),Cu=new Dm.Yd("@firebase/database"),Mm=function(){let i=1;return function(){return i++}}(),rw=function(i){const r=(0,ae.dS)(i),e=new ae.gQ;e.update(r);const o=e.digest();return ae.US.encodeByteArray(o)},bu=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=bu.apply(null,o):r+="object"==typeof o?(0,ae.Pz)(o):o,r+=" "}return r};let za=null,GE=!0;const er=function(...i){if(!0===GE&&(GE=!1,null===za&&!0===Sm.get("logging_enabled")&&function(i,r){(0,ae.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Cu.logLevel=Dm.in.VERBOSE,za=Cu.log.bind(Cu),r&&Sm.set("logging_enabled",!0)):"function"==typeof i?za=i:(za=null,Sm.remove("logging_enabled"))}(!0)),za){const r=bu.apply(null,i);za(r)}},Ka=function(i){return function(...r){er(i,...r)}},Om=function(...i){const r="FIREBASE INTERNAL ERROR: "+bu(...i);Cu.error(r)},ki=function(...i){const r=`FIREBASE FATAL ERROR: ${bu(...i)}`;throw Cu.error(r),new Error(r)},sr=function(...i){const r="FIREBASE WARNING: "+bu(...i);Cu.warn(r)},kr=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},jo="[MIN_NAME]",Ks="[MAX_NAME]",Bo=function(i,r){if(i===r)return 0;if(i===jo||r===Ks)return-1;if(r===jo||i===Ks)return 1;{const e=bh(i),o=bh(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},zE=function(i,r){return i===r?0:i<r?-1:1},Iu=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,ae.Pz)(r))},Rm=function(i){if("object"!=typeof i||null===i)return(0,ae.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,ae.Pz)(r[o]),e+=":",e+=Rm(i[r[o]]);return e+="}",e},sw=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let u=0;u<e;u+=r)o.push(i.substring(u,u+r>e?e:u+r));return o};function Ln(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const Ch=function(i){(0,ae.hu)(!kr(i),"Invalid JSON number");const o=1023;let u,f,g,v,I;0===i?(f=0,g=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(v=Math.min(Math.floor(Math.log(i)/Math.LN2),o),f=v+o,g=Math.round(i*Math.pow(2,52-v)-Math.pow(2,52))):(f=0,g=Math.round(i/Math.pow(2,-1074))));const A=[];for(I=52;I;I-=1)A.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)A.push(f%2?1:0),f=Math.floor(f/2);A.push(u?1:0),A.reverse();const V=A.join("");let U="";for(I=0;I<64;I+=8){let J=parseInt(V.substr(I,8),2).toString(16);1===J.length&&(J="0"+J),U+=J}return U.toLowerCase()},lw=new RegExp("^-?(0*)\\d{1,10}$"),bh=function(i){if(lw.test(i)){const r=Number(i);if(r>=-2147483648&&r<=2147483647)return r}return null},wu=function(i){try{i()}catch(r){setTimeout(()=>{throw sr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ps=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class YE{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fi{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sr(r)}}let Ys=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const tr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ah="websocket",Ya="long_polling";class qa{constructor(r,e,o,u,f=!1,g="",v=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Za(i,r,e){let o;if((0,ae.hu)("string"==typeof r,"typeof type must == string"),(0,ae.hu)("object"==typeof e,"typeof params must == object"),r===Ah)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==Ya)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const u=[];return Ln(e,(f,g)=>{u.push(f+"="+g)}),o+u.join("&")}class Au{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,ae.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,ae.p$)(this.counters_)}}const $o={},Wo={};function Go(i){const r=i.toString();return $o[r]||($o[r]=new Au),$o[r]}class ZE{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&wu(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mu{constructor(r,e,o,u,f,g,v){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ka(r),this.stats_=Go(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),Za(e,Ya,I))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ZE(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,ae.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sh((...f)=>{const[g,v,I,A,V]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[g,v]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&tr.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mu.forceAllow_=!0}static forceDisallow(){Mu.forceDisallow_=!0}static isAvailable(){return!((0,ae.Yr)()||!Mu.forceAllow_&&(Mu.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,ae.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,ae.h$)(e),u=sw(o,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,ae.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,ae.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Sh{constructor(r,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ae.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Mm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Sh.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){er("frame writing exception"),v.stack&&er(v.stack),er(v)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||er("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+u+"="+g.seg+"&ts"+u+"="+g.ts+"&d"+u+"="+g.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(u),o()})}addTag(r,e){(0,ae.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{er("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Mh=null;"undefined"!=typeof MozWebSocket?Mh=MozWebSocket:"undefined"!=typeof WebSocket&&(Mh=WebSocket);let pd=(()=>{class i{constructor(e,o,u,f,g,v,I){this.connId=e,this.applicationId=u,this.appCheckToken=f,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ka(this.connId),this.stats_=Go(o),this.connURL=i.connectionURL_(o,v,I,f),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,f){const g={v:"5"};return!(0,ae.Yr)()&&"undefined"!=typeof location&&location.hostname&&tr.test(location.hostname)&&(g.r="f"),o&&(g.s=o),u&&(g.ls=u),f&&(g.ac=f),Za(e,Ah,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{if((0,ae.Yr)()){const f={headers:{"User-Agent":`Firebase/5/${Eh}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(f.proxy={origin:v}),this.mySock=new Mh(this.connURL,[],f)}else this.mySock=new Mh(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==Mh&&!i.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||!0===Ga.get("previous_websocket_failure")}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,ae.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ae.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,ae.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=sw(o,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Oh{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[Mu,pd]}initTransports_(r){const e=pd&&pd.isAvailable();let o=e&&!pd.previouslyFailed();if(r.webSocketOnly&&(e||sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[pd];else{const u=this.transports_=[];for(const f of Oh.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class lC{constructor(r,e,o,u,f,g,v,I,A,V){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=I,this.onKill_=A,this.lastSessionId=V,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ka("c:"+this.id+":"),this.transportManager_=new Oh(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=Iu("t",r),o=Iu("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=Iu("t",r),o=Iu("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=Iu("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Om("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Om("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,u=r.h;this.sessionId=r.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ew{put(r,e,o,u){}merge(r,e,o,u){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class uC{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,ae.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const u=this.getInitialEvent(r);u&&e.apply(o,u)}off(r,e,o){this.validateEventType_(r);const u=this.listeners_[r]||[];for(let f=0;f<u.length;f++)if(u[f].callback===e&&(!o||o===u[f].context))return void u.splice(f,1)}validateEventType_(r){(0,ae.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class qs extends uC{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ae.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qs}getInitialEvent(r){return(0,ae.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Kt{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function Ut(){return new Kt("")}function ht(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zo(i){return i.pieces_.length-i.pieceNum_}function Xt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Kt(i.pieces_,r)}function Bm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function gd(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function dC(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new Kt(r,0)}function mn(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof Kt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new Kt(e,0)}function Et(i){return i.pieceNum_>=i.pieces_.length}function Er(i,r){const e=ht(i),o=ht(r);if(null===e)return r;if(e===o)return Er(Xt(i),Xt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function xh(i,r){if(zo(i)!==zo(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function Lr(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(zo(i)>zo(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class CS{constructor(r,e){this.errorPrefix_=e,this.parts_=gd(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,ae.ug)(this.parts_[o]);Iw(this)}}function Iw(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vi(i))}function Vi(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class $m extends uC{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new $m}getInitialEvent(r){return(0,ae.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Qa=1e3;let md,Ja=(()=>{class i extends Ew{constructor(e,o,u,f,g,v,I,A){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=I,this.authOverride_=A,this.id=i.nextPersistentConnectionId_++,this.log_=Ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,ae.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$m.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&qs.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const f=++this.requestNumber_,g={r:f,a:e,b:o};this.log_((0,ae.Pz)(g)),(0,ae.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),u&&(this.requestCBHash_[f]=u)}get(e){this.initConnection_();const o=new ae.BH,u={p:e._path.toString(),q:e._queryObject},f={action:"g",request:u,onComplete:v=>{const I=v.d;"ok"===v.s?(this.onDataUpdate_(u.p,I,!1,null),o.resolve(I)):o.reject(I)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const v=this.outstandingGets_[g];void 0===v||f!==v||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(e,o,u,f){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ae.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const I={onComplete:f,hashFn:o,query:e,tag:u};this.listens.get(v).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+u+" for "+f);const g={p:u};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const A=I.d,V=I.s;i.warnOnListenWarnings_(A,o),(this.listens.get(u)&&this.listens.get(u).get(f))===e&&(this.log_("listen response",I),"ok"!==V&&this.removeListen_(u,f),e.onComplete&&e.onComplete(V,A))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,ae.r3)(e,"w")){const u=(0,ae.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ae.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,ae.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,f=>{const g=f.s,v=f.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,e._queryObject,o)}sendUnlisten_(e,o,u,f){this.log_("Unlisten on "+e+" for "+o);const g={p:e};f&&(g.q=u,g.t=f),this.sendRequest("n",g)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,f){const g={p:o,d:u};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{f&&setTimeout(()=>{f(v.s,v.d)},Math.floor(0))})}put(e,o,u,f){this.putInternal("p",e,o,u,f)}merge(e,o,u,f){this.putInternal("m",e,o,u,f)}putInternal(e,o,u,f,g){this.initConnection_();const v={p:o,d:u};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ae.Pz)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Om("Unrecognized action received from server: "+(0,ae.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ae.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,nw.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+i.nextConnectionId_++,v=e.lastSessionId;let I=!1,A=null;const V=function(){A?A.close():(I=!0,f())};e.realtime_={close:V,sendRequest:function(ge){(0,ae.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(ge)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ge,Te]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);I?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),e.authToken_=ge&&ge.accessToken,e.appCheckToken_=Te&&Te.token,A=new lC(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,f,Le=>{sr(Le+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(ge){e.log_("Failed to get token: "+ge),I||(e.repoInfo_.nodeAdmin&&sr(ge),V())}}})()}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ae.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(g=>Rm(g)).join("$"):"default";const f=this.removeListen_(e,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,o){const u=new Kt(e).toString();let f;if(this.listens.has(u)){const g=this.listens.get(u);f=g.get(o),g.delete(o),0===g.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(e,o){er("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){er("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,ae.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Eh.replace(/\./g,"-")]=1,(0,ae.uI)()?e["framework.cordova"]=1:(0,ae.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qs.getInstance().currentlyOnline();return(0,ae.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class It{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new It(r,e)}}class Nh{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new It(jo,r),u=new It(jo,e);return 0!==this.compare(o,u)}minPost(){return It.MIN}}class kh extends Nh{static get __EMPTY_NODE(){return md}static set __EMPTY_NODE(r){md=r}compare(r,e){return Bo(r.name,e.name)}isDefinedOn(r){throw(0,ae.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return It.MIN}maxPost(){return new It(Ks,md)}makePost(r,e){return(0,ae.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new It(r,md)}toString(){return".key"}}const Ui=new kh;class Ou{constructor(r,e,o,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let g=1;for(;!r.isEmpty();)if(r=r,g=e?o(r.key,e):1,u&&(g*=-1),g<0)r=this.isReverse_?r.left:r.right;else{if(0===g){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let _d,ti=(()=>{class i{constructor(e,o,u,f,g){this.key=e,this.value=o,this.color=null!=u?u:i.RED,this.left=null!=f?f:Vr.EMPTY_NODE,this.right=null!=g?g:Vr.EMPTY_NODE}copy(e,o,u,f,g){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let f=this;const g=u(e,f.key);return f=g<0?f.copy(null,null,null,f.left.insert(e,o,u),null):0===g?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(e,o,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,f;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return Vr.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Vr{constructor(r,e=Vr.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new Vr(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,ti.BLACK,null,null))}remove(r){return new Vr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,ti.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Ou(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Ou(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Ou(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Ou(this.root_,null,this.comparator_,!0,r)}}function mC(i,r){return Bo(i.name,r.name)}function Fh(i,r){return Bo(i,r)}Vr.EMPTY_NODE=new class{copy(r,e,o,u,f){return this}insert(r,e,o){return new ti(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yC=function(i){return"number"==typeof i?"number:"+Ch(i):"string:"+i},zm=function(i){if(i.isLeafNode()){const r=i.val();(0,ae.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,ae.r3)(r,".sv"),"Priority must be a string or number.")}else(0,ae.hu)(i===_d||i.isEmpty(),"priority of unexpected type.");(0,ae.hu)(i===_d||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Km,Lh,Ym,Xa=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,ae.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zm(this.priorityNode_)}static set __childrenNodeConstructor(e){Km=e}static get __childrenNodeConstructor(){return Km}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===ht(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=ht(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,ae.hu)(".priority"!==u||1===zo(e),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yC(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Ch(this.value_):this.value_,this.lazyHash_=rw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,ae.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,f=i.VALUE_TYPE_ORDER.indexOf(o),g=i.VALUE_TYPE_ORDER.indexOf(u);return(0,ae.hu)(f>=0,"Unknown leaf type: "+o),(0,ae.hu)(g>=0,"Unknown leaf type: "+u),f===g?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const nn=new class extends Nh{compare(r,e){const o=r.node.getPriority(),u=e.node.getPriority(),f=o.compareTo(u);return 0===f?Bo(r.name,e.name):f}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return It.MIN}maxPost(){return new It(Ks,new Xa("[PRIORITY-POST]",Ym))}makePost(r,e){const o=Lh(r);return new It(e,new Xa("[PRIORITY-POST]",o))}toString(){return".priority"}},bC=Math.log(2);class IC{constructor(r){this.count=parseInt(Math.log(r+1)/bC,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&u}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const yd=function(i,r,e,o){i.sort(r);const u=function(I,A){const V=A-I;let U,J;if(0===V)return null;if(1===V)return U=i[I],J=e?e(U):U,new ti(J,U.node,ti.BLACK,null,null);{const ge=parseInt(V/2,10)+I,Te=u(I,ge),Le=u(ge+1,A);return U=i[ge],J=e?e(U):U,new ti(J,U.node,ti.BLACK,Te,Le)}},v=function(I){let A=null,V=null,U=i.length;const J=function(Te,Le){const Be=U-Te,Nt=U;U-=Te;const Ot=u(Be+1,Nt),ft=i[Be],Wt=e?e(ft):ft;ge(new ti(Wt,ft.node,Le,null,Ot))},ge=function(Te){A?(A.left=Te,A=Te):(V=Te,A=Te)};for(let Te=0;Te<I.count;++Te){const Le=I.nextBitIsOne(),Be=Math.pow(2,I.count-(Te+1));Le?J(Be,ti.BLACK):(J(Be,ti.BLACK),J(Be,ti.RED))}return V}(new IC(i.length));return new Vr(o||r,v)};let wC;const Ru={};class Zs{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,ae.hu)(Ru&&nn,"ChildrenNode.ts has not been loaded"),wC=wC||new Zs({".priority":Ru},{".priority":nn}),wC}get(r){const e=(0,ae.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof Vr?e:null}hasIndex(r){return(0,ae.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,ae.hu)(r!==Ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const f=e.getIterator(It.Wrap);let v,g=f.getNext();for(;g;)u=u||r.isDefinedOn(g.node),o.push(g),g=f.getNext();v=u?yd(o,r.getCompare()):Ru;const I=r.toString(),A=Object.assign({},this.indexSet_);A[I]=r;const V=Object.assign({},this.indexes_);return V[I]=v,new Zs(V,A)}addToIndexes(r,e){const o=(0,ae.UI)(this.indexes_,(u,f)=>{const g=(0,ae.DV)(this.indexSet_,f);if((0,ae.hu)(g,"Missing index implementation for "+f),u===Ru){if(g.isDefinedOn(r.node)){const v=[],I=e.getIterator(It.Wrap);let A=I.getNext();for(;A;)A.name!==r.name&&v.push(A),A=I.getNext();return v.push(r),yd(v,g.getCompare())}return Ru}{const v=e.get(r.name);let I=u;return v&&(I=I.remove(new It(r.name,v))),I.insert(r,r.node)}});return new Zs(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,ae.UI)(this.indexes_,u=>{if(u===Ru)return u;{const f=e.get(r.name);return f?u.remove(new It(r.name,f)):u}});return new Zs(o,this.indexSet_)}}let xu,dt=(()=>{class i{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&zm(this.priorityNode_),this.children_.isEmpty()&&(0,ae.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xu||(xu=new i(new Vr(Fh),null,Zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xu}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?xu:o}}getChild(e){const o=ht(e);return null===o?this:this.getImmediateChild(o).getChild(Xt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,ae.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new It(e,o);let f,g;o.isEmpty()?(f=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(u,this.children_));const v=f.isEmpty()?xu:this.priorityNode_;return new i(f,v,g)}}updateChild(e,o){const u=ht(e);if(null===u)return o;{(0,ae.hu)(".priority"!==ht(e)||1===zo(e),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(Xt(e),o);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,f=0,g=!0;if(this.forEachChild(nn,(v,I)=>{o[v]=I.val(e),u++,g&&i.INTEGER_REGEXP_.test(v)?f=Math.max(f,Number(v)):g=!1}),!e&&g&&f<2*u){const v=[];for(const I in o)v[I]=o[I];return v}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yC(this.getPriority().val())+":"),this.forEachChild(nn,(o,u)=>{const f=u.hash();""!==f&&(e+=":"+o+":"+f)}),this.lazyHash_=""===e?"":rw(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const f=this.resolveIndex_(u);if(f){const g=f.getPredecessorKey(new It(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new It(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new It(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,It.Wrap);let g=f.peek();for(;null!=g&&o.compare(g,e)<0;)f.getNext(),g=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,It.Wrap);let g=f.peek();for(;null!=g&&o.compare(g,e)>0;)f.getNext(),g=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pu?-1:0}withIndex(e){if(e===Ui||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(nn),f=o.getIterator(nn);let g=u.getNext(),v=f.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=u.getNext(),v=f.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===Ui?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Pu=new class extends dt{constructor(){super(new Vr(Fh),dt.EMPTY_NODE,Zs.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return dt.EMPTY_NODE}isEmpty(){return!1}};function En(i,r=null){if(null===i)return dt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,ae.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Xa(i,En(r));if(i instanceof Array){let e=dt.EMPTY_NODE;return Ln(i,(o,u)=>{if((0,ae.r3)(i,o)&&"."!==o.substring(0,1)){const f=En(u);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(o,f))}}),e.updatePriority(En(r))}{const e=[];let o=!1;if(Ln(i,(g,v)=>{if("."!==g.substring(0,1)){const I=En(v);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new It(g,I)))}}),0===e.length)return dt.EMPTY_NODE;const f=yd(e,mC,g=>g.name,Fh);if(o){const g=yd(e,nn.getCompare());return new dt(f,En(r),new Zs({".priority":g},{".priority":nn}))}return new dt(f,En(r),Zs.Default)}}Object.defineProperties(It,{MIN:{value:new It(jo,dt.EMPTY_NODE)},MAX:{value:new It(Ks,Pu)}}),kh.__EMPTY_NODE=dt.EMPTY_NODE,Xa.__childrenNodeConstructor=dt,_d=Pu,Ym=Pu,function(i){Lh=i}(En);class Vh extends Nh{constructor(r){super(),this.indexPath_=r,(0,ae.hu)(!Et(r)&&".priority"!==ht(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),u=this.extractChild(e.node),f=o.compareTo(u);return 0===f?Bo(r.name,e.name):f}makePost(r,e){const o=En(r),u=dt.EMPTY_NODE.updateChild(this.indexPath_,o);return new It(e,u)}maxPost(){const r=dt.EMPTY_NODE.updateChild(this.indexPath_,Pu);return new It(Ks,r)}toString(){return gd(this.indexPath_,0).join("/")}}const Uh=new class extends Nh{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?Bo(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return It.MIN}maxPost(){return It.MAX}makePost(r,e){const o=En(r);return new It(e,o)}toString(){return".value"}},el="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",AC=function(){let i=0;const r=[];return function(e){const o=e===i;let u;i=e;const f=new Array(8);for(u=7;u>=0;u--)f[u]=el.charAt(e%64),e=Math.floor(e/64);(0,ae.hu)(0===e,"Cannot push at time == 0");let g=f.join("");if(o){for(u=11;u>=0&&63===r[u];u--)r[u]=0;r[u]++}else for(u=0;u<12;u++)r[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)g+=el.charAt(r[u]);return(0,ae.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();function Aw(i){return{type:"value",snapshotNode:i}}function tl(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function nl(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Ur(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class Zm{constructor(r){this.index_=r}updateChild(r,e,o,u,f,g){(0,ae.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=r.getImmediateChild(e);return v.getChild(u).equals(o.getChild(u))&&v.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?r.hasChild(e)?g.trackChildChange(nl(e,v)):(0,ae.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(tl(e,o)):g.trackChildChange(Ur(e,o,v))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(nn,(u,f)=>{e.hasChild(u)||o.trackChildChange(nl(u,f))}),e.isLeafNode()||e.forEachChild(nn,(u,f)=>{if(r.hasChild(u)){const g=r.getImmediateChild(u);g.equals(f)||o.trackChildChange(Ur(u,f,g))}else o.trackChildChange(tl(u,f))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?dt.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jr{constructor(r){this.indexedFilter_=new Zm(r.getIndex()),this.index_=r.getIndex(),this.startPost_=jr.getStartPost_(r),this.endPost_=jr.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,u,f,g){return this.matches(new It(e,o))||(o=dt.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,u,f,g)}updateFullNode(r,e,o){e.isLeafNode()&&(e=dt.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(dt.EMPTY_NODE);const f=this;return e.forEachChild(nn,(g,v)=>{f.matches(new It(g,v))||(u=u.updateImmediateChild(g,dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class ji{constructor(r){this.rangedFilter_=new jr(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,u,f,g){return this.rangedFilter_.matches(new It(e,o))||(o=dt.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,u,f,g):this.fullLimitUpdateChild_(r,e,o,f,g)}updateFullNode(r,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;u=dt.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;f.hasNext()&&g<this.limit_;){const v=f.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!I)break;u=u.updateImmediateChild(v.name,v.node),g++}}else{let f,g,v,I;if(u=e.withIndex(this.index_),u=u.updatePriority(dt.EMPTY_NODE),this.reverse_){I=u.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();v=(J,ge)=>U(ge,J)}else I=u.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let A=0,V=!1;for(;I.hasNext();){const U=I.getNext();!V&&v(f,U)<=0&&(V=!0),V&&A<this.limit_&&v(U,g)<=0?A++:u=u.updateImmediateChild(U.name,dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,u,f){let g;if(this.reverse_){const U=this.index_.getCompare();g=(J,ge)=>U(ge,J)}else g=this.index_.getCompare();const v=r;(0,ae.hu)(v.numChildren()===this.limit_,"");const I=new It(e,o),A=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),V=this.rangedFilter_.matches(I);if(v.hasChild(e)){const U=v.getImmediateChild(e);let J=u.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=J&&(J.name===e||v.hasChild(J.name));)J=u.getChildAfterChild(this.index_,J,this.reverse_);const ge=null==J?1:g(J,I);if(V&&!o.isEmpty()&&ge>=0)return null!=f&&f.trackChildChange(Ur(e,o,U)),v.updateImmediateChild(e,o);{null!=f&&f.trackChildChange(nl(e,U));const Le=v.updateImmediateChild(e,dt.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(null!=f&&f.trackChildChange(tl(J.name,J.node)),Le.updateImmediateChild(J.name,J.node)):Le}}return o.isEmpty()?r:V&&g(A,I)>=0?(null!=f&&(f.trackChildChange(nl(A.name,A.node)),f.trackChildChange(tl(e,o))),v.updateImmediateChild(e,o).updateImmediateChild(A.name,dt.EMPTY_NODE)):r}}class ni{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ae.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){const r=new ni;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function RC(i){const r={};if(i.isDefault())return r;let e;return i.index_===nn?e="$priority":i.index_===Uh?e="$value":i.index_===Ui?e="$key":((0,ae.hu)(i.index_ instanceof Vh,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,ae.Pz)(e),i.startSet_&&(r.startAt=(0,ae.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,ae.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,ae.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,ae.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function e_(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==nn&&(r.i=i.index_.toString()),r}class jh extends Ew{constructor(r,e,o,u){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Ka("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,ae.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,u){const f=r._path.toString();this.log_("Listen called for "+f+" "+r._queryIdentifier);const g=jh.getListenId_(r,o),v={};this.listens_[g]=v;const I=RC(r._queryParams);this.restRequest_(f+".json",I,(A,V)=>{let U=V;if(404===A&&(U=null,A=null),null===A&&this.onDataUpdate_(f,U,!1,o),(0,ae.DV)(this.listens_,g)===v){let J;J=A?401===A?"permission_denied":"rest_error:"+A:"ok",u(J,null)}})}unlisten(r,e){const o=jh.getListenId_(r,e);delete this.listens_[o]}get(r){const e=RC(r._queryParams),o=r._path.toString(),u=new ae.BH;return this.restRequest_(o+".json",e,(f,g)=>{let v=g;404===f&&(v=null,f=null),null===f?(this.onDataUpdate_(o,v,!1,null),u.resolve(v)):u.reject(new Error(v))}),u.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(e.auth=u.accessToken),f&&f.token&&(e.ac=f.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,ae.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(o&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let I=null;if(v.status>=200&&v.status<300){try{I=(0,ae.cI)(v.responseText)}catch(A){sr("Failed to parse JSON response for "+g+": "+v.responseText)}o(null,I)}else 401!==v.status&&404!==v.status&&sr("Got unsuccessful REST response for "+g+" Status: "+v.status),o(v.status);o=null}},v.open("GET",g,!0),v.send()})}}class xC{constructor(){this.rootNode_=dt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function vd(){return{value:null,children:new Map}}function Qs(i,r,e){if(Et(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=ht(r);i.children.has(o)||i.children.set(o,vd()),Qs(i.children.get(o),r=Xt(r),e)}}function Bh(i,r,e){null!==i.value?e(r,i.value):function(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,u)=>{Bh(u,new Kt(r.toString()+"/"+o),e)})}class n_{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&Ln(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=r,e}}class FC{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new n_(r);const o=1e4+2e4*Math.random();ps(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;Ln(r,(u,f)=>{f>0&&(0,ae.r3)(this.statsToReport_,u)&&(e[u]=f,o=!0)}),o&&this.server_.reportStats(e),ps(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ri=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ri||(ri={})),ri))();function Wh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Cd{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=ri.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,ae.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Kt(r));return new Cd(Ut(),e,this.revert)}}return(0,ae.hu)(ht(this.path)===r,"operationForChild called for unrelated child."),new Cd(Xt(this.path),this.affectedTree,this.revert)}}class bd{constructor(r,e){this.source=r,this.path=e,this.type=ri.LISTEN_COMPLETE}operationForChild(r){return Et(this.path)?new bd(this.source,Ut()):new bd(this.source,Xt(this.path))}}class rl{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=ri.OVERWRITE}operationForChild(r){return Et(this.path)?new rl(this.source,Ut(),this.snap.getImmediateChild(r)):new rl(this.source,Xt(this.path),this.snap)}}class Nu{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=ri.MERGE}operationForChild(r){if(Et(this.path)){const e=this.children.subtree(new Kt(r));return e.isEmpty()?null:e.value?new rl(this.source,Ut(),e.value):new Nu(this.source,Ut(),e)}return(0,ae.hu)(ht(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Nu(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qo{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Et(r))return this.isFullyInitialized()&&!this.filtered_;const e=ht(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Rw{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Id(i,r,e,o,u,f){const g=o.filter(v=>v.type===e);g.sort((v,I)=>function(i,r,e){if(null==r.childName||null==e.childName)throw(0,ae.g5)("Should only compare child_ events.");const o=new It(r.childName,r.snapshotNode),u=new It(e.childName,e.snapshotNode);return i.index_.compare(o,u)}(i,v,I)),g.forEach(v=>{const I=function(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,v,f);u.forEach(A=>{A.respondsTo(v.type)&&r.push(A.createEvent(I,i.query_))})})}function Gh(i,r){return{eventCache:i,serverCache:r}}function wd(i,r,e,o){return Gh(new qo(r,e,o),i.serverCache)}function LC(i,r,e,o){return Gh(i.eventCache,new qo(r,e,o))}function zh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function il(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let r_;class an{constructor(r,e=(()=>(r_||(r_=new Vr(zE)),r_))()){this.value=r,this.children=e}static fromObject(r){let e=new an(null);return Ln(r,(o,u)=>{e=e.set(new Kt(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:Ut(),value:this.value};if(Et(r))return null;{const o=ht(r),u=this.children.get(o);if(null!==u){const f=u.findRootMostMatchingPathAndValue(Xt(r),e);return null!=f?{path:mn(new Kt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Et(r))return this;{const e=ht(r),o=this.children.get(e);return null!==o?o.subtree(Xt(r)):new an(null)}}set(r,e){if(Et(r))return new an(e,this.children);{const o=ht(r),f=(this.children.get(o)||new an(null)).set(Xt(r),e),g=this.children.insert(o,f);return new an(this.value,g)}}remove(r){if(Et(r))return this.children.isEmpty()?new an(null):new an(null,this.children);{const e=ht(r),o=this.children.get(e);if(o){const u=o.remove(Xt(r));let f;return f=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&f.isEmpty()?new an(null):new an(this.value,f)}return this}}get(r){if(Et(r))return this.value;{const e=ht(r),o=this.children.get(e);return o?o.get(Xt(r)):null}}setTree(r,e){if(Et(r))return e;{const o=ht(r),f=(this.children.get(o)||new an(null)).setTree(Xt(r),e);let g;return g=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new an(this.value,g)}}fold(r){return this.fold_(Ut(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((u,f)=>{o[u]=f.fold_(mn(r,u),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,Ut(),e)}findOnPath_(r,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(Et(r))return null;{const f=ht(r),g=this.children.get(f);return g?g.findOnPath_(Xt(r),mn(e,f),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,Ut(),e)}foreachOnPath_(r,e,o){if(Et(r))return this;{this.value&&o(e,this.value);const u=ht(r),f=this.children.get(u);return f?f.foreachOnPath_(Xt(r),mn(e,u),o):new an(null)}}foreach(r){this.foreach_(Ut(),r)}foreach_(r,e){this.children.inorderTraversal((o,u)=>{u.foreach_(mn(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class Bi{constructor(r){this.writeTree_=r}static empty(){return new Bi(new an(null))}}function ku(i,r,e){if(Et(r))return new Bi(new an(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const u=o.path;let f=o.value;const g=Er(u,r);return f=f.updateChild(g,e),new Bi(i.writeTree_.set(u,f))}{const u=new an(e),f=i.writeTree_.setTree(r,u);return new Bi(f)}}}function Kh(i,r,e){let o=i;return Ln(e,(u,f)=>{o=ku(o,mn(r,u),f)}),o}function i_(i,r){if(Et(r))return Bi.empty();{const e=i.writeTree_.setTree(r,new an(null));return new Bi(e)}}function Yh(i,r){return null!=Zo(i,r)}function Zo(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(Er(e.path,r)):null}function s_(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(nn,(o,u)=>{r.push(new It(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&r.push(new It(o,u.value))}),r}function Js(i,r){if(Et(r))return i;{const e=Zo(i,r);return new Bi(null!=e?new an(e):i.writeTree_.subtree(r))}}function qh(i){return i.writeTree_.isEmpty()}function sl(i,r){return Zh(Ut(),i.writeTree_,r)}function Zh(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((u,f)=>{".priority"===u?((0,ae.hu)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):e=Zh(mn(i,u),f,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(mn(i,".priority"),o)),e}}function Dd(i,r){return VC(r,i)}function IS(i,r){if(i.snap)return Lr(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Lr(mn(i.path,e),r))return!0;return!1}function wS(i){return i.visible}function a_(i,r,e){let o=Bi.empty();for(let u=0;u<i.length;++u){const f=i[u];if(r(f)){const g=f.path;let v;if(f.snap)Lr(e,g)?(v=Er(e,g),o=ku(o,v,f.snap)):Lr(g,e)&&(v=Er(g,e),o=ku(o,Ut(),f.snap.getChild(v)));else{if(!f.children)throw(0,ae.g5)("WriteRecord should have .snap or .children");if(Lr(e,g))v=Er(e,g),o=Kh(o,v,f.children);else if(Lr(g,e))if(v=Er(g,e),Et(v))o=Kh(o,Ut(),f.children);else{const I=(0,ae.DV)(f.children,ht(v));if(I){const A=I.getChild(Xt(v));o=ku(o,Ut(),A)}}}}}return o}function l_(i,r,e,o,u){if(o||u){const f=Js(i.visibleWrites,r);return!u&&qh(f)?e:u||null!=e||Yh(f,Ut())?sl(a_(i.allWrites,function(A){return(A.visible||u)&&(!o||!~o.indexOf(A.writeId))&&(Lr(A.path,r)||Lr(r,A.path))},r),e||dt.EMPTY_NODE):null}{const f=Zo(i.visibleWrites,r);if(null!=f)return f;{const g=Js(i.visibleWrites,r);return qh(g)?e:null!=e||Yh(g,Ut())?sl(g,e||dt.EMPTY_NODE):null}}}function Jh(i,r,e,o){return l_(i.writeTree,i.treePath,r,e,o)}function Lu(i,r){return function(i,r,e){let o=dt.EMPTY_NODE;const u=Zo(i.visibleWrites,r);if(u)return u.isLeafNode()||u.forEachChild(nn,(f,g)=>{o=o.updateImmediateChild(f,g)}),o;if(e){const f=Js(i.visibleWrites,r);return e.forEachChild(nn,(g,v)=>{const I=sl(Js(f,new Kt(g)),v);o=o.updateImmediateChild(g,I)}),s_(f).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return s_(Js(i.visibleWrites,r)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(i.writeTree,i.treePath,r)}function Td(i,r,e,o){return function(i,r,e,o,u){(0,ae.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const f=mn(r,e);if(Yh(i.visibleWrites,f))return null;{const g=Js(i.visibleWrites,f);return qh(g)?u.getChild(e):sl(g,u.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function pn(i,r){return function(i,r){return Zo(i.visibleWrites,r)}(i.writeTree,mn(i.treePath,r))}function Xh(i,r,e){return function(i,r,e,o){const u=mn(r,e),f=Zo(i.visibleWrites,u);return null!=f?f:o.isCompleteForChild(e)?sl(Js(i.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function ep(i,r){return VC(mn(i.treePath,r),i.writeTree)}function VC(i,r){return{treePath:i,writeTree:r}}class UC{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,ae.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ae.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const f=u.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(o,Ur(o,r.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(o,nl(o,u.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(o,tl(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,ae.g5)("Illegal combination of changes: "+r+" occurred after "+u);this.changeMap.set(o,Ur(o,r.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const u_=new class{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class tp{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new qo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xh(this.writes_,r,o)}}getChildAfterChild(r,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:il(this.viewCache_),f=function(i,r,e,o,u,f){return function(i,r,e,o,u,f,g){let v;const I=Js(i.visibleWrites,r),A=Zo(I,Ut());if(null!=A)v=A;else{if(null==e)return[];v=sl(I,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const V=[],U=g.getCompare(),J=f?v.getReverseIteratorFrom(o,g):v.getIteratorFrom(o,g);let ge=J.getNext();for(;ge&&V.length<u;)0!==U(ge,o)&&V.push(ge),ge=J.getNext();return V}}(i.writeTree,i.treePath,r,e,o,u,f)}(this.writes_,u,e,1,o,r);return 0===f.length?null:f[0]}}function BC(i,r,e,o,u,f){const g=r.eventCache;if(null!=pn(o,e))return r;{let v,I;if(Et(e))if((0,ae.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const A=il(r),U=Lu(o,A instanceof dt?A:dt.EMPTY_NODE);v=i.filter.updateFullNode(r.eventCache.getNode(),U,f)}else{const A=Jh(o,il(r));v=i.filter.updateFullNode(r.eventCache.getNode(),A,f)}else{const A=ht(e);if(".priority"===A){(0,ae.hu)(1===zo(e),"Can't have a priority with additional path components");const V=g.getNode();I=r.serverCache.getNode();const U=Td(o,e,V,I);v=null!=U?i.filter.updatePriority(V,U):g.getNode()}else{const V=Xt(e);let U;if(g.isCompleteForChild(A)){I=r.serverCache.getNode();const J=Td(o,e,g.getNode(),I);U=null!=J?g.getNode().getImmediateChild(A).updateChild(V,J):g.getNode().getImmediateChild(A)}else U=Xh(o,A,r.serverCache);v=null!=U?i.filter.updateChild(g.getNode(),A,U,V,u,f):g.getNode()}}return wd(r,v,g.isFullyInitialized()||Et(e),i.filter.filtersNodes())}}function np(i,r,e,o,u,f,g,v){const I=r.serverCache;let A;const V=g?i.filter:i.filter.getIndexedFilter();if(Et(e))A=V.updateFullNode(I.getNode(),o,null);else if(V.filtersNodes()&&!I.isFiltered()){const ge=I.getNode().updateChild(e,o);A=V.updateFullNode(I.getNode(),ge,null)}else{const ge=ht(e);if(!I.isCompleteForPath(e)&&zo(e)>1)return r;const Te=Xt(e),Be=I.getNode().getImmediateChild(ge).updateChild(Te,o);A=".priority"===ge?V.updatePriority(I.getNode(),Be):V.updateChild(I.getNode(),ge,Be,Te,u_,null)}const U=LC(r,A,I.isFullyInitialized()||Et(e),V.filtersNodes());return BC(i,U,e,u,new tp(u,U,f),v)}function c_(i,r,e,o,u,f,g){const v=r.eventCache;let I,A;const V=new tp(u,r,f);if(Et(e))A=i.filter.updateFullNode(r.eventCache.getNode(),o,g),I=wd(r,A,!0,i.filter.filtersNodes());else{const U=ht(e);if(".priority"===U)A=i.filter.updatePriority(r.eventCache.getNode(),o),I=wd(r,A,v.isFullyInitialized(),v.isFiltered());else{const J=Xt(e),ge=v.getNode().getImmediateChild(U);let Te;if(Et(J))Te=o;else{const Le=V.getCompleteChild(U);Te=null!=Le?".priority"===Bm(J)&&Le.getChild(dC(J)).isEmpty()?Le:Le.updateChild(J,o):dt.EMPTY_NODE}I=ge.equals(Te)?r:wd(r,i.filter.updateChild(v.getNode(),U,Te,J,V,g),v.isFullyInitialized(),i.filter.filtersNodes())}}return I}function Sd(i,r){return i.eventCache.isCompleteForChild(r)}function d_(i,r,e){return e.foreach((o,u)=>{r=r.updateChild(o,u)}),r}function rp(i,r,e,o,u,f,g,v){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let A,I=r;A=Et(e)?o:new an(null).setTree(e,o);const V=r.serverCache.getNode();return A.children.inorderTraversal((U,J)=>{if(V.hasChild(U)){const Te=d_(0,r.serverCache.getNode().getImmediateChild(U),J);I=np(i,I,new Kt(U),Te,u,f,g,v)}}),A.children.inorderTraversal((U,J)=>{const ge=!r.serverCache.isCompleteForChild(U)&&void 0===J.value;if(!V.hasChild(U)&&!ge){const Le=d_(0,r.serverCache.getNode().getImmediateChild(U),J);I=np(i,I,new Kt(U),Le,u,f,g,v)}}),I}class Gw{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Zm(o.getIndex()),f=function(i){return i.loadsAllData()?new Zm(i.getIndex()):i.hasLimit()?new ji(i):new jr(i)}(o);this.processor_=function(i){return{filter:i}}(f);const g=e.serverCache,v=e.eventCache,I=u.updateFullNode(dt.EMPTY_NODE,g.getNode(),null),A=f.updateFullNode(dt.EMPTY_NODE,v.getNode(),null),V=new qo(I,g.isFullyInitialized(),u.filtersNodes()),U=new qo(A,v.isFullyInitialized(),f.filtersNodes());this.viewCache_=Gh(U,V),this.eventGenerator_=new Rw(this.query_)}get query(){return this.query_}}function $C(i,r){const e=il(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Et(r)&&!e.getImmediateChild(ht(r)).isEmpty())?e.getChild(r):null}function f_(i){return 0===i.eventRegistrations_.length}function GC(i,r,e){const o=[];if(e){(0,ae.hu)(null==r,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(f=>{const g=f.createCancelEvent(e,u);g&&o.push(g)})}if(r){let u=[];for(let f=0;f<i.eventRegistrations_.length;++f){const g=i.eventRegistrations_[f];if(g.matches(r)){if(r.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(f+1));break}}else u.push(g)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function h_(i,r,e,o){r.type===ri.MERGE&&null!==r.source.queryId&&((0,ae.hu)(il(i.viewCache_),"We should always have a full cache before handling merges"),(0,ae.hu)(zh(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,f=function(i,r,e,o,u){const f=new UC;let g,v;if(e.type===ri.OVERWRITE){const A=e;A.source.fromUser?g=c_(i,r,A.path,A.snap,o,u,f):((0,ae.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||r.serverCache.isFiltered()&&!Et(A.path),g=np(i,r,A.path,A.snap,o,u,v,f))}else if(e.type===ri.MERGE){const A=e;A.source.fromUser?g=function(i,r,e,o,u,f,g){let v=r;return o.foreach((I,A)=>{const V=mn(e,I);Sd(r,ht(V))&&(v=c_(i,v,V,A,u,f,g))}),o.foreach((I,A)=>{const V=mn(e,I);Sd(r,ht(V))||(v=c_(i,v,V,A,u,f,g))}),v}(i,r,A.path,A.children,o,u,f):((0,ae.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||r.serverCache.isFiltered(),g=rp(i,r,A.path,A.children,o,u,v,f))}else if(e.type===ri.ACK_USER_WRITE){const A=e;g=A.revert?function(i,r,e,o,u,f){let g;if(null!=pn(o,e))return r;{const v=new tp(o,r,u),I=r.eventCache.getNode();let A;if(Et(e)||".priority"===ht(e)){let V;if(r.serverCache.isFullyInitialized())V=Jh(o,il(r));else{const U=r.serverCache.getNode();(0,ae.hu)(U instanceof dt,"serverChildren would be complete if leaf node"),V=Lu(o,U)}V=V,A=i.filter.updateFullNode(I,V,f)}else{const V=ht(e);let U=Xh(o,V,r.serverCache);null==U&&r.serverCache.isCompleteForChild(V)&&(U=I.getImmediateChild(V)),A=null!=U?i.filter.updateChild(I,V,U,Xt(e),v,f):r.eventCache.getNode().hasChild(V)?i.filter.updateChild(I,V,dt.EMPTY_NODE,Xt(e),v,f):I,A.isEmpty()&&r.serverCache.isFullyInitialized()&&(g=Jh(o,il(r)),g.isLeafNode()&&(A=i.filter.updateFullNode(A,g,f)))}return g=r.serverCache.isFullyInitialized()||null!=pn(o,Ut()),wd(r,A,g,i.filter.filtersNodes())}}(i,r,A.path,o,u,f):function(i,r,e,o,u,f,g){if(null!=pn(u,e))return r;const v=r.serverCache.isFiltered(),I=r.serverCache;if(null!=o.value){if(Et(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return np(i,r,e,I.getNode().getChild(e),u,f,v,g);if(Et(e)){let A=new an(null);return I.getNode().forEachChild(Ui,(V,U)=>{A=A.set(new Kt(V),U)}),rp(i,r,e,A,u,f,v,g)}return r}{let A=new an(null);return o.foreach((V,U)=>{const J=mn(e,V);I.isCompleteForPath(J)&&(A=A.set(V,I.getNode().getChild(J)))}),rp(i,r,e,A,u,f,v,g)}}(i,r,A.path,A.affectedTree,o,u,f)}else{if(e.type!==ri.LISTEN_COMPLETE)throw(0,ae.g5)("Unknown operation type: "+e.type);g=function(i,r,e,o,u){const f=r.serverCache;return BC(i,LC(r,f.getNode(),f.isFullyInitialized()||Et(e),f.isFiltered()),e,o,u_,u)}(i,r,e.path,o,f)}const I=f.getChanges();return function(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=zh(i);(e.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&e.push(Aw(zh(r)))}}(r,g,I),{viewCache:g,changes:I}}(i.processor_,u,r,e,o);return function(i,r){(0,ae.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,ae.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,f.viewCache),(0,ae.hu)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=f.viewCache,zC(i,f.changes,f.viewCache.eventCache.getNode(),null)}function zC(i,r,e,o){return function(i,r,e,o){const u=[],f=[];return r.forEach(g=>{"child_changed"===g.type&&i.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&f.push(function(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(g.childName,g.snapshotNode))}),Id(i,u,"child_removed",r,o,e),Id(i,u,"child_added",r,o,e),Id(i,u,"child_moved",f,o,e),Id(i,u,"child_changed",r,o,e),Id(i,u,"value",r,o,e),u}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let p_,Rd;class qw{constructor(){this.views=new Map}}function Vu(i,r,e,o){const u=r.source.queryId;if(null!==u){const f=i.views.get(u);return(0,ae.hu)(null!=f,"SyncTree gave us an op for an invalid query."),h_(f,r,e,o)}{let f=[];for(const g of i.views.values())f=f.concat(h_(g,r,e,o));return f}}function Zw(i,r,e,o,u,f){const g=function(i,r,e,o,u){const g=i.views.get(r._queryIdentifier);if(!g){let v=Jh(e,u?o:null),I=!1;v?I=!0:o instanceof dt?(v=Lu(e,o),I=!1):(v=dt.EMPTY_NODE,I=!1);const A=Gh(new qo(v,I,!1),new qo(o,u,!1));return new Gw(r,A)}return g}(i,r,o,u,f);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,g),function(i,r){i.eventRegistrations_.push(r)}(g,e),function(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(nn,(f,g)=>{o.push(tl(f,g))}),e.isFullyInitialized()&&o.push(Aw(e.getNode())),zC(i,o,e.getNode(),r)}(g,e)}function Uu(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function Qo(i,r){let e=null;for(const o of i.views.values())e=e||$C(o,r);return e}function ZC(i,r){return r._queryParams.loadsAllData()?ip(i):i.views.get(r._queryIdentifier)}function QC(i,r){return null!=ZC(i,r)}function Jo(i){return null!=ip(i)}function ip(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let ju=1;class JC{constructor(r){this.listenProvider_=r,this.syncPointTree_=new an(null),this.pendingWriteTree_={visibleWrites:Bi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sp(i,r,e,o,u){return function(i,r,e,o,u){(0,ae.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:u}),u&&(i.visibleWrites=ku(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,u),u?Xo(i,new rl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Xs(i,r,e=!1){const o=function(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function(i,r){const e=i.allWrites.findIndex(v=>v.writeId===r);(0,ae.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let u=o.visible,f=!1,g=i.allWrites.length-1;for(;u&&g>=0;){const v=i.allWrites[g];v.visible&&(g>=e&&IS(v,o.path)?u=!1:Lr(o.path,v.path)&&(f=!0)),g--}return!!u&&(f?(function(i){i.visibleWrites=a_(i.allWrites,wS,Ut()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=i_(i.visibleWrites,o.path):Ln(o.children,I=>{i.visibleWrites=i_(i.visibleWrites,mn(o.path,I))}),!0))}(i.pendingWriteTree_,r)){let f=new an(null);return null!=o.snap?f=f.set(Ut(),!0):Ln(o.children,g=>{f=f.set(new Kt(g),!0)}),Xo(i,new Cd(o.path,f,e))}return[]}function xd(i,r,e){return Xo(i,new rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function m_(i,r,e,o){const u=r._path,f=i.syncPointTree_.get(u);let g=[];if(f&&("default"===r._queryIdentifier||QC(f,r))){const v=function(i,r,e,o){const u=r._queryIdentifier,f=[];let g=[];const v=Jo(i);if("default"===u)for(const[I,A]of i.views.entries())g=g.concat(GC(A,e,o)),f_(A)&&(i.views.delete(I),A.query._queryParams.loadsAllData()||f.push(A.query));else{const I=i.views.get(u);I&&(g=g.concat(GC(I,e,o)),f_(I)&&(i.views.delete(u),I.query._queryParams.loadsAllData()||f.push(I.query)))}return v&&!Jo(i)&&f.push(new((0,ae.hu)(p_,"Reference.ts has not been loaded"),p_)(r._repo,r._path)),{removed:f,events:g}}(f,r,e,o);(function(i){return 0===i.views.size})(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const I=v.removed;g=v.events;const A=-1!==I.findIndex(U=>U._queryParams.loadsAllData()),V=i.syncPointTree_.findOnPath(u,(U,J)=>Jo(J));if(A&&!V){const U=i.syncPointTree_.subtree(u);if(!U.isEmpty()){const J=function(i){return i.fold((r,e,o)=>{if(e&&Jo(e))return[ip(e)];{let u=[];return e&&(u=Uu(e)),Ln(o,(f,g)=>{u=u.concat(g)}),u}})}(U);for(let ge=0;ge<J.length;++ge){const Te=J[ge],Le=Te.query,Be=ib(i,Te);i.listenProvider_.startListening(Pd(Le),ap(i,Le),Be.hashFn,Be.onComplete)}}}if(!V&&I.length>0&&!o)if(A){const U=null;i.listenProvider_.stopListening(Pd(r),U)}else I.forEach(U=>{const J=i.queryToTagMap.get(lp(U));i.listenProvider_.stopListening(Pd(U),J)});!function(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const u=lp(o),f=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(f)}}}(i,I)}return g}function nb(i,r,e){const o=r._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(U,J)=>{const ge=Er(U,o);u=u||Qo(J,ge),f=f||Jo(J)});let v,g=i.syncPointTree_.get(o);g?(f=f||Jo(g),u=u||Qo(g,Ut())):(g=new qw,i.syncPointTree_=i.syncPointTree_.set(o,g)),null!=u?v=!0:(v=!1,u=dt.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((J,ge)=>{const Te=Qo(ge,Ut());Te&&(u=u.updateImmediateChild(J,Te))}));const I=QC(g,r);if(!I&&!r._queryParams.loadsAllData()){const U=lp(r);(0,ae.hu)(!i.queryToTagMap.has(U),"View does not exist, but we have a tag");const J=ju++;i.queryToTagMap.set(U,J),i.tagToQueryMap.set(J,U)}let V=Zw(g,r,e,Dd(i.pendingWriteTree_,o),u,v);if(!I&&!f){const U=ZC(g,r);V=V.concat(function(i,r,e){const o=r._path,u=ap(i,r),f=ib(i,e),g=i.listenProvider_.startListening(Pd(r),u,f.hashFn,f.onComplete),v=i.syncPointTree_.subtree(o);if(u)(0,ae.hu)(!Jo(v.value),"If we're adding a query, it shouldn't be shadowed");else{const I=v.fold((A,V,U)=>{if(!Et(A)&&V&&Jo(V))return[ip(V).query];{let J=[];return V&&(J=J.concat(Uu(V).map(ge=>ge.query))),Ln(U,(ge,Te)=>{J=J.concat(Te)}),J}});for(let A=0;A<I.length;++A){const V=I[A];i.listenProvider_.stopListening(Pd(V),ap(i,V))}}return g}(i,r,U))}return V}function op(i,r,e){const u=i.pendingWriteTree_,f=i.syncPointTree_.findOnPath(r,(g,v)=>{const A=Qo(v,Er(g,r));if(A)return A});return l_(u,r,f,e,!0)}function Xo(i,r){return rb(r,i.syncPointTree_,null,Dd(i.pendingWriteTree_,Ut()))}function rb(i,r,e,o){if(Et(i.path))return __(i,r,e,o);{const u=r.get(Ut());null==e&&null!=u&&(e=Qo(u,Ut()));let f=[];const g=ht(i.path),v=i.operationForChild(g),I=r.children.get(g);if(I&&v){const A=e?e.getImmediateChild(g):null,V=ep(o,g);f=f.concat(rb(v,I,A,V))}return u&&(f=f.concat(Vu(u,i,o,e))),f}}function __(i,r,e,o){const u=r.get(Ut());null==e&&null!=u&&(e=Qo(u,Ut()));let f=[];return r.children.inorderTraversal((g,v)=>{const I=e?e.getImmediateChild(g):null,A=ep(o,g),V=i.operationForChild(g);V&&(f=f.concat(__(V,v,I,A)))}),u&&(f=f.concat(Vu(u,i,o,e))),f}function ib(i,r){const e=r.query,o=ap(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(r)||dt.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function(i,r,e){const o=y_(i,e);if(o){const u=v_(o),f=u.path,g=u.queryId,v=Er(f,r);return E_(i,f,new bd(Wh(g),v))}return[]}(i,e._path,o):function(i,r){return Xo(i,new bd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const f=function(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(u,e);return m_(i,e,null,f)}}}}function ap(i,r){const e=lp(r);return i.queryToTagMap.get(e)}function lp(i){return i._path.toString()+"$"+i._queryIdentifier}function y_(i,r){return i.tagToQueryMap.get(r)}function v_(i){const r=i.indexOf("$");return(0,ae.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Kt(i.substr(0,r))}}function E_(i,r,e){const o=i.syncPointTree_.get(r);return(0,ae.hu)(o,"Missing sync point for query tag that we're tracking"),Vu(o,e,Dd(i.pendingWriteTree_,r),null)}function Pd(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,ae.hu)(Rd,"Reference.ts has not been loaded"),Rd)(i._repo,i._path):i}class C_{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new C_(e)}node(){return this.node_}}class up{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=mn(this.path_,r);return new up(this.syncTree_,e)}node(){return op(this.syncTree_,this.path_)}}const ab=function(i,r,e){return i&&"object"==typeof i?((0,ae.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?sD(i[".sv"],r,e):"object"==typeof i[".sv"]?b_(i[".sv"],r):void(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},sD=function(i,r,e){switch(i){case"timestamp":return e.timestamp;default:(0,ae.hu)(!1,"Unexpected server value: "+i)}},b_=function(i,r,e){i.hasOwnProperty("increment")||(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,ae.hu)(!1,"Unexpected increment value: "+o);const u=r.node();if((0,ae.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const g=u.getValue();return"number"!=typeof g?o:g+o},dp=function(i,r,e){return Nd(i,new C_(r),e)};function Nd(i,r,e){const o=i.getPriority().val(),u=ab(o,r.getImmediateChild(".priority"),e);let f;if(i.isLeafNode()){const g=i,v=ab(g.getValue(),r,e);return v!==g.getValue()||u!==g.getPriority().val()?new Xa(v,En(u)):i}{const g=i;return f=g,u!==g.getPriority().val()&&(f=f.updatePriority(new Xa(u))),g.forEachChild(nn,(v,I)=>{const A=Nd(I,r.getImmediateChild(v),e);A!==I&&(f=f.updateImmediateChild(v,A))}),f}}class I_{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function fp(i,r){let e=r instanceof Kt?r:new Kt(r),o=i,u=ht(e);for(;null!==u;){const f=(0,ae.DV)(o.node.children,u)||{children:{},childCount:0};o=new I_(u,o,f),e=Xt(e),u=ht(e)}return o}function eo(i){return i.node.value}function w_(i,r){i.node.value=r,A_(i)}function D_(i){return i.node.childCount>0}function kd(i,r){Ln(i.node.children,(e,o)=>{r(new I_(e,i,o))})}function T_(i,r,e,o){e&&!o&&r(i),kd(i,u=>{T_(u,r,!0,o)}),e&&o&&r(i)}function hp(i){return new Kt(null===i.parent?i.name:hp(i.parent)+"/"+i.name)}function A_(i){null!==i.parent&&function(i,r,e){const o=function(i){return void 0===eo(i)&&!D_(i)}(e),u=(0,ae.r3)(i.node.children,r);o&&u?(delete i.node.children[r],i.node.childCount--,A_(i)):!o&&!u&&(i.node.children[r]=e.node,i.node.childCount++,A_(i))}(i.parent,i.name,i)}const MS=/[\[\].#$\/\u0000-\u001F\u007F]/,S_=/[\[\].#$\u0000-\u001F\u007F]/,Bu=10485760,pp=function(i){return"string"==typeof i&&0!==i.length&&!MS.test(i)},ll=function(i){return"string"==typeof i&&0!==i.length&&!S_.test(i)},gs=function(i,r,e,o){o&&void 0===r||Br((0,ae.gK)(i,"value"),r,e)},Br=function(i,r,e){const o=e instanceof Kt?new CS(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+Vi(o));if("function"==typeof r)throw new Error(i+"contains a function "+Vi(o)+" with contents = "+r.toString());if(kr(r))throw new Error(i+"contains "+r.toString()+" "+Vi(o));if("string"==typeof r&&r.length>Bu/3&&(0,ae.ug)(r)>Bu)throw new Error(i+"contains a string greater than "+Bu+" utf8 bytes "+Vi(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let u=!1,f=!1;if(Ln(r,(g,v)=>{if(".value"===g)u=!0;else if(".priority"!==g&&".sv"!==g&&(f=!0,!pp(g)))throw new Error(i+" contains an invalid key ("+g+") "+Vi(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,ae.ug)(r),Iw(i)})(o,g),Br(i,v,o),function(i){const r=i.parts_.pop();i.byteLength_-=(0,ae.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&f)throw new Error(i+' contains ".value" child '+Vi(o)+" in addition to actual children.")}},M_=function(i,r,e,o){if(!(o&&void 0===e||ll(e)))throw new Error((0,ae.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ms=function(i,r){if(".info"===ht(r))throw new Error(i+" failed = Can't modify data under /.info/")};class uD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $u(i,r){let e=null;for(let o=0;o<r.length;o++){const u=r[o],f=u.getPath();null!==e&&!xh(f,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(u)}e&&i.eventLists_.push(e)}function mp(i,r,e){$u(i,e),O_(i,o=>xh(o,r))}function Hr(i,r,e){$u(i,e),O_(i,o=>Lr(o,r)||Lr(r,o))}function O_(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(r(u.path)?(cD(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function cD(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();za&&er("event: "+e.toString()),wu(o)}}}class hD{constructor(r,e,o,u){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vd(),this.transactionQueueTree_=new I_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R_(i){const e=i.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wu(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:R_(i)})}function x_(i,r,e,o,u){i.dataUpdateCount++;const f=new Kt(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let g=[];if(u)if(o){const I=(0,ae.UI)(e,A=>En(A));g=function(i,r,e,o){const u=y_(i,o);if(u){const f=v_(u),g=f.path,v=f.queryId,I=Er(g,r),A=an.fromObject(e);return E_(i,g,new Nu(Wh(v),I,A))}return[]}(i.serverSyncTree_,f,I,u)}else{const I=En(e);g=function(i,r,e,o){const u=y_(i,o);if(null!=u){const f=v_(u),g=f.path,v=f.queryId,I=Er(g,r);return E_(i,g,new rl(Wh(v),I,e))}return[]}(i.serverSyncTree_,f,I,u)}else if(o){const I=(0,ae.UI)(e,A=>En(A));g=function(i,r,e){const o=an.fromObject(e);return Xo(i,new Nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,f,I)}else{const I=En(e);g=xd(i.serverSyncTree_,f,I)}let v=f;g.length>0&&(v=zu(i,f)),Hr(i.eventQueue_,v,g)}function db(i,r){_p(i,"connected",r),!1===r&&function(i){Gu(i,"onDisconnectEvents");const r=Wu(i),e=vd();Bh(i.onDisconnect_,Ut(),(u,f)=>{const g=function(i,r,e,o){return Nd(r,new up(e,i),o)}(u,f,i.serverSyncTree_,r);Qs(e,u,g)});let o=[];Bh(e,Ut(),(u,f)=>{o=o.concat(xd(i.serverSyncTree_,u,f));const g=to(i,u);zu(i,g)}),i.onDisconnect_=vd(),Hr(i.eventQueue_,Ut(),o)}(i)}function _p(i,r,e){const o=new Kt("/.info/"+r),u=En(e);i.infoData_.updateSnapshot(o,u);const f=xd(i.infoSyncTree_,o,u);Hr(i.eventQueue_,o,f)}function ul(i){return i.nextWriteId_++}function yp(i,r,e,o,u){Gu(i,"set",{path:r.toString(),value:e,priority:o});const f=Wu(i),g=En(e,o),v=op(i.serverSyncTree_,r),I=dp(g,v,f),A=ul(i),V=sp(i.serverSyncTree_,r,I,A,!0);$u(i.eventQueue_,V),i.server_.put(r.toString(),g.val(!0),(J,ge)=>{const Te="ok"===J;Te||sr("set at "+r+" failed: "+J);const Le=Xs(i.serverSyncTree_,A,!Te);Hr(i.eventQueue_,r,Le),function(i,r,e,o){r&&wu(()=>{if("ok"===e)r(null);else{const u=(e||"error").toUpperCase();let f=u;o&&(f+=": "+o);const g=new Error(f);g.code=u,r(g)}})}(0,u,J,ge)});const U=to(i,r);zu(i,U),Hr(i.eventQueue_,U,[])}function P_(i,r,e){let o;o=".info"===ht(r._path)?m_(i.infoSyncTree_,r,e):m_(i.serverSyncTree_,r,e),mp(i.eventQueue_,r._path,o)}function Gu(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),er(e,...r)}function N_(i,r,e){return op(i.serverSyncTree_,r,e)||dt.EMPTY_NODE}function Cp(i,r=i.transactionQueueTree_){if(r||cl(i,r),eo(r)){const e=gb(i,r);(0,ae.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function(i,r,e){const o=e.map(A=>A.currentWriteId),u=N_(i,r,o);let f=u;const g=u.hash();for(let A=0;A<e.length;A++){const V=e[A];(0,ae.hu)(0===V.status,"tryToSendTransactionQueue_: items in queue should all be run."),V.status=1,V.retryCount++;const U=Er(r,V.path);f=f.updateChild(U,V.currentOutputSnapshotRaw)}const v=f.val(!0),I=r;i.server_.put(I.toString(),v,A=>{Gu(i,"transaction put response",{path:I.toString(),status:A});let V=[];if("ok"===A){const U=[];for(let J=0;J<e.length;J++)e[J].status=2,V=V.concat(Xs(i.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&U.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();cl(i,fp(i.transactionQueueTree_,r)),Cp(i,i.transactionQueueTree_),Hr(i.eventQueue_,r,V);for(let J=0;J<U.length;J++)wu(U[J])}else{if("datastale"===A)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{sr("transaction at "+I.toString()+" failed: "+A);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=A}zu(i,r)}},g)}(i,hp(r),e)}else D_(r)&&kd(r,e=>{Cp(i,e)})}function zu(i,r){const e=pb(i,r),o=hp(e);return function(i,r,e){if(0===r.length)return;const o=[];let u=[];const g=r.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<r.length;v++){const I=r[v],A=Er(e,I.path);let U,V=!1;if((0,ae.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)V=!0,U=I.abortReason,u=u.concat(Xs(i.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)V=!0,U="maxretry",u=u.concat(Xs(i.serverSyncTree_,I.currentWriteId,!0));else{const J=N_(i,I.path,g);I.currentInputSnapshot=J;const ge=r[v].update(J.val());if(void 0!==ge){Br("transaction failed: Data returned ",ge,I.path);let Te=En(ge);"object"==typeof ge&&null!=ge&&(0,ae.r3)(ge,".priority")||(Te=Te.updatePriority(J.getPriority()));const Be=I.currentWriteId,Nt=Wu(i),Ot=dp(Te,J,Nt);I.currentOutputSnapshotRaw=Te,I.currentOutputSnapshotResolved=Ot,I.currentWriteId=ul(i),g.splice(g.indexOf(Be),1),u=u.concat(sp(i.serverSyncTree_,I.path,Ot,I.currentWriteId,I.applyLocally)),u=u.concat(Xs(i.serverSyncTree_,Be,!0))}else V=!0,U="nodata",u=u.concat(Xs(i.serverSyncTree_,I.currentWriteId,!0))}Hr(i.eventQueue_,e,u),u=[],V&&(r[v].status=2,setTimeout(r[v].unwatcher,Math.floor(0)),r[v].onComplete&&o.push("nodata"===U?()=>r[v].onComplete(null,!1,r[v].currentInputSnapshot):()=>r[v].onComplete(new Error(U),!1,null)))}cl(i,i.transactionQueueTree_);for(let v=0;v<o.length;v++)wu(o[v]);Cp(i,i.transactionQueueTree_)}(i,gb(i,e),o),o}function pb(i,r){let e,o=i.transactionQueueTree_;for(e=ht(r);null!==e&&void 0===eo(o);)o=fp(o,e),e=ht(r=Xt(r));return o}function gb(i,r){const e=[];return mb(i,r,e),e.sort((o,u)=>o.order-u.order),e}function mb(i,r,e){const o=eo(r);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);kd(r,u=>{mb(i,u,e)})}function cl(i,r){const e=eo(r);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,w_(r,e.length>0?e:void 0)}kd(r,o=>{cl(i,o)})}function to(i,r){const e=hp(pb(i,r)),o=fp(i.transactionQueueTree_,r);return function(i,r,e){let o=i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,u=>{bp(i,u)}),bp(i,o),T_(o,u=>{bp(i,u)}),e}function bp(i,r){const e=eo(r);if(e){const o=[];let u=[],f=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,ae.hu)(f===g-1,"All SENT items should be at beginning of queue."),f=g,e[g].status=3,e[g].abortReason="set"):((0,ae.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),u=u.concat(Xs(i.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===f?w_(r,void 0):e.length=f+1,Hr(i.eventQueue_,hp(r),u);for(let g=0;g<o.length;g++)wu(o[g])}}const k_=function(i,r){const e=Ip(i),o=e.namespace;return"firebase.com"===e.domain&&ki(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qa(e.host,e.secure,o,r,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new Kt(e.pathString)}},Ip=function(i){let r="",e="",o="",u="",f="",g=!0,v="https",I=443;if("string"==typeof i){let A=i.indexOf("//");A>=0&&(v=i.substring(0,A-1),i=i.substring(A+2));let V=i.indexOf("/");-1===V&&(V=i.length);let U=i.indexOf("?");-1===U&&(U=i.length),r=i.substring(0,Math.min(V,U)),V<U&&(u=function(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(f){}r+="/"+u}return r}(i.substring(V,U)));const J=function(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):sr(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,U)));A=r.indexOf(":"),A>=0?(g="https"===v||"wss"===v,I=parseInt(r.substring(A+1),10)):A=r.length;const ge=r.slice(0,A);if("localhost"===ge.toLowerCase())e="localhost";else if(ge.split(".").length<=2)e=ge;else{const Te=r.indexOf(".");o=r.substring(0,Te).toLowerCase(),e=r.substring(Te+1),f=o}"ns"in J&&(f=J.ns)}return{host:r,port:I,domain:e,subdomain:o,secure:g,scheme:v,pathString:u,namespace:f}};class _b{constructor(r,e,o,u){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ae.Pz)(this.snapshot.exportVal())}}class yb{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class F_{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,ae.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Cr{constructor(r,e,o,u){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return Et(this._path)?null:Bm(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const r=e_(this._queryParams),e=Rm(r);return"{}"===e?"default":e}get _queryObject(){return e_(this._queryParams)}isEqual(r){if(!((r=(0,ae.m9)(r))instanceof Cr))return!1;const e=this._repo===r._repo,o=xh(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}class Hi extends Cr{constructor(r,e){super(r,e,new ni,!1)}get parent(){const r=dC(this._path);return null===r?null:new Hi(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class ta{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Kt(r),o=io(this.ref,r);return new ta(this._node.getChild(e),o,nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>r(new ta(u,io(this.ref,o),nn)))}hasChild(r){const e=new Kt(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ro(i,r){return(i=(0,ae.m9)(i))._checkNotDeleted("ref"),void 0!==r?io(i._root,r):i._root}function io(i,r){return null===ht((i=(0,ae.m9)(i))._path)?((e=r)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),M_("child","path",e,!1)):M_("child","path",r,!1),new Hi(i._repo,mn(i._path,r));var e}function ID(i,r){i=(0,ae.m9)(i),ms("push",i._path),gs("push",r,i._path,!0);const e=R_(i._repo),o=AC(e),u=io(i,o),f=io(i,o);let g;return g=null!=r?Pt(f,r).then(()=>f):Promise.resolve(f),u.then=g.then.bind(g),u.catch=g.then.bind(g,void 0),u}function Pt(i,r){i=(0,ae.m9)(i),ms("set",i._path),gs("set",r,i._path,!1);const e=new ae.BH;return yp(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}class et{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new _b("value",this,new ta(r.snapshotNode,new Hi(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new yb(this,r,e):null}matches(r){return r instanceof et&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class br{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new yb(this,r,e):null}createEvent(r,e){(0,ae.hu)(null!=r.childName,"Child events should have a childName.");const o=io(new Hi(e._repo,e._path),r.childName),u=e._queryParams.getIndex();return new _b(r.type,this,new ta(r.snapshotNode,o,u),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof br&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _s(i,r,e,o){return function(i,r,e,o,u){let f;if("object"==typeof o&&(f=void 0,u=o),"function"==typeof o&&(f=o),u&&u.onlyOnce){const I=e,A=(V,U)=>{P_(i._repo,i,v),I(V,U)};A.userCallback=e.userCallback,A.context=e.context,e=A}const g=new F_(e,f||void 0),v="value"===r?new et(g):new br(r,g);return function(i,r,e){let o;o=".info"===ht(r._path)?nb(i.infoSyncTree_,r,e):nb(i.serverSyncTree_,r,e),mp(i.eventQueue_,r._path,o)}(i._repo,i,v),()=>P_(i._repo,i,v)}(i,"value",r,e,o)}(function(i){(0,ae.hu)(!p_,"__referenceConstructor has already been defined"),p_=i})(Hi),function(i){(0,ae.hu)(!Rd,"__referenceConstructor has already been defined"),Rd=i}(Hi);const j_={};function VS(i,r,e,o,u){let f=o||i.options.databaseURL;void 0===f&&(i.options.projectId||ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",i.options.projectId),f=`${i.options.projectId}-default-rtdb.firebaseio.com`);let I,A,g=k_(f,u),v=g.repoInfo;"undefined"!=typeof process&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(I=!0,f=`http://${A}?ns=${v.namespace}`,g=k_(f,u),v=g.repoInfo):I=!g.repoInfo.secure;const V=u&&I?new Ys(Ys.OWNER):new Fi(i.name,i.options,r);(function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!pp(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ll(i)}(e))throw new Error((0,ae.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",g),Et(g.path)||ki("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function(i,r,e,o){let u=j_[r.name];u||(u={},j_[r.name]=u);let f=u[i.toURLString()];return f&&ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new hD(i,false,e,o),u[i.toURLString()]=f,f}(v,i,V,new YE(i.name,e));return new Gd(U,i)}class Gd{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,r,e){if(i.stats_=Go(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new jh(i.repoInfo_,(o,u,f,g)=>{x_(i,o,u,f,g)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>db(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ae.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Ja(i.repoInfo_,r,(o,u,f,g)=>{x_(i,o,u,f,g)},o=>{db(i,o)},o=>{!function(i,r){Ln(r,(e,o)=>{_p(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,r){const e=i.toString();return Wo[e]||(Wo[e]=r()),Wo[e]}(i.repoInfo_,()=>new FC(i.stats_,i.server_)),i.infoData_=new xC,i.infoSyncTree_=new JC({startListening:(o,u,f,g)=>{let v=[];const I=i.infoData_.getNode(o._path);return I.isEmpty()||(v=xd(i.infoSyncTree_,o._path,I),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),_p(i,"connected",!1),i.serverSyncTree_=new JC({startListening:(o,u,f,g)=>(i.server_.listen(o,f,u,(v,I)=>{const A=g(v,I);Hr(i.eventQueue_,o._path,A)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,r){const e=j_[r];(!e||e[i.key]!==i)&&ki(`Database ${r}(${i.repoInfo_}) has already been deleted.`),function(i){i.persistentConnection_&&i.persistentConnection_.interrupt("repo_interrupt")}(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&ki("Cannot call "+r+" on a deleted database.")}}function Mp(i=(0,Wa.getApp)(),r){return(0,Wa._getProvider)(i,"database").getImmediate({identifier:r})}Ja.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},Ja.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},function(i){Eh=i}(Wa.SDK_VERSION),(0,Wa._registerComponent)(new Jt.wA("database",(r,{instanceIdentifier:e})=>VS(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Wa.registerVersion)("@firebase/database","0.12.0",void 0);class xD{constructor(r,e,o,u){this.text=r,this.date=e,this.to=o,this.from=u}}(0,ct.PH)("[DATA] Get Users");const LD=(0,ct.PH)("[DATA] Set Users",(0,ct.Ky)()),VD=(0,ct.PH)("[DATA] Select User",(0,ct.Ky)()),Sb=(0,ct.PH)("[DATA] Store Messages",(0,ct.Ky)()),W_=(0,ct.PH)("[DATA] Send Message",(0,ct.Ky)()),Mb=(0,ct.PH)("[DATA] Store All Messages",(0,ct.Ky)());function UD(i,r){if(1&i&&(d.TgZ(0,"span",16),d._uU(1),d.qZA()),2&i){const e=d.oxw().$implicit,o=d.oxw();d.xp6(1),d.hij(" ",o.guja[e[0]][1].text," ")}}function jD(i,r){1&i&&(d.TgZ(0,"span",17),d._uU(1,"No messages yet"),d.qZA())}function BD(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div",9,10),d.NdJ("click",function(){const f=d.CHM(e).$implicit;return d.oxw().selectChat(f)}),d._UZ(2,"div",11),d.TgZ(3,"div",12),d.TgZ(4,"span",13),d._uU(5),d.qZA(),d.YNc(6,UD,2,1,"span",14),d.YNc(7,jD,2,0,"span",15),d.qZA(),d.qZA()}if(2&i){const e=r.$implicit,o=d.oxw();d.xp6(5),d.hij(" ",e[1].username," "),d.xp6(1),d.Q6J("ngIf",o.guja[e[0]]),d.xp6(1),d.Q6J("ngIf",!o.guja[e[0]])}}function zd(i,r){1&i&&(d.TgZ(0,"div",18),d.TgZ(1,"span",19),d._uU(2,"Select someone to chat"),d.qZA(),d.qZA())}function HD(i,r){if(1&i&&(d.TgZ(0,"span",30),d._uU(1),d.qZA()),2&i){const e=d.oxw().$implicit;d.xp6(1),d.Oqu(e.text)}}function $D(i,r){if(1&i&&(d.TgZ(0,"span",31),d._uU(1),d.qZA()),2&i){const e=d.oxw().$implicit;d.xp6(1),d.Oqu(e.text)}}function Ob(i,r){if(1&i&&(d.TgZ(0,"div",27),d.YNc(1,HD,2,1,"span",28),d.YNc(2,$D,2,1,"span",29),d.qZA()),2&i){const e=r.index,o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",o.messages[e].from===o.selectedUser),d.xp6(1),d.Q6J("ngIf",o.messages[e].from!==o.selectedUser)}}function Kd(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div",20),d.YNc(1,Ob,3,2,"div",21),d.TgZ(2,"form",22,23),d.NdJ("ngSubmit",function(){d.CHM(e);const u=d.MAs(3);return d.oxw().send(u)}),d._UZ(4,"input",24),d.TgZ(5,"button",25),d._UZ(6,"i",26),d.qZA(),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngForOf",e.messages)}}let YS=(()=>{class i{constructor(e,o){this.store=e,this.router=o,this.db=Mp(),this.dbRef=ro(this.db),this.auth=(0,Gs.n)(),this.userMessages=[]}ngOnInit(){this.store.select("auth").subscribe(e=>{console.log("getting active user UID oninit from store"),this.activeUser=e.uid}),_s(this.dbRef,e=>{this.users=e.val().users,this.userMessages=Object.entries(this.users[this.activeUser].messages),delete this.users[this.activeUser],this.users=Object.entries(this.users),this.userMessages.forEach((o,u)=>{this.userMessages[u][1]=Object.entries(o[1]),this.userMessages[u][1]=this.userMessages[u][1][this.userMessages[u][1].length-1]}),this.guja=Object.fromEntries(this.userMessages),console.log(this.guja),console.log(this.userMessages)}),this.store.select("data").subscribe(e=>{this.messages=e.messages,this.messages&&(this.messages=Object.values(this.messages))}),_s(this.dbRef,e=>{this.allMsg=e.val().users[this.activeUser].messages,this.store.dispatch(Mb({payload:{allMessages:this.allMsg}})),this.getData()})}getData(){let e;this.store.select("data").subscribe(o=>{console.log("got new data in getData()"),e=o.allMessages[o.selectedUser]}),this.store.dispatch(Sb({payload:{messages:e}}))}selectChat(e){this.store.dispatch(VD({payload:{selectedUser:e[0]}})),this.getData(),this.store.select("data").subscribe(o=>{this.selectedUser=o.selectedUser})}send(e){let o=new xD(e.value.text,new Date,this.selectedUser,this.activeUser);console.log(o),this.store.dispatch(W_({message:o})),e.reset(),this.getData()}logOut(){(0,Gs.x)(this.auth).then(()=>{this.router.navigate(["auth"])})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ct.yh),d.Y36(Tn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-messenger"]],decls:11,vars:3,consts:[[1,"container"],[3,"click"],[1,"users-display"],[1,"heading"],[1,"heading-text"],["class","available-chat",3,"click",4,"ngFor","ngForOf"],[1,"messenger-display"],["class","no-user-screen",4,"ngIf"],["class","open-chat",4,"ngIf"],[1,"available-chat",3,"click"],["info",""],[1,"image"],[1,"texts"],[1,"username"],["class","message-preview",4,"ngIf"],["class","message-preview no-messages",4,"ngIf"],[1,"message-preview"],[1,"message-preview","no-messages"],[1,"no-user-screen"],[1,"info-message"],[1,"open-chat"],["class","message-box",4,"ngFor","ngForOf"],[1,"send-message-box",3,"ngSubmit"],["msgForm","ngForm"],["autocomplete","off","id","text","type","text","ngModel","","name","text",1,"send-message-input"],["type","submit",1,"send-btn"],[1,"fab","fa-telegram-plane","send-icon"],[1,"message-box"],["class","from-chat chat-message",4,"ngIf"],["class","to-chat chat-message",4,"ngIf"],[1,"from-chat","chat-message"],[1,"to-chat","chat-message"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return o.logOut()}),d._uU(2,"Log Out"),d.qZA(),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"span",4),d._uU(6,"Messages"),d.qZA(),d.qZA(),d.YNc(7,BD,8,3,"div",5),d.qZA(),d.TgZ(8,"div",6),d.YNc(9,zd,3,0,"div",7),d.YNc(10,Kd,7,1,"div",8),d.qZA(),d.qZA()),2&e&&(d.xp6(7),d.Q6J("ngForOf",o.users),d.xp6(2),d.Q6J("ngIf",!o.selectedUser),d.xp6(1),d.Q6J("ngIf",o.selectedUser))},directives:[Ht,pe,mi,kc,gi,hi,Io,Mo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;height:100vh}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px 20px}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .heading-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:65vw;border:1px solid yellow;overflow-y:auto}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .no-user-screen[_ngcontent-%COMP%]{background:#e1eec3;background:linear-gradient(to right,#C9D6FF,#E2E2E2);display:flex;justify-content:center;align-items:center;height:100%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .no-user-screen[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{font-size:25px}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:7px 0}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{padding:12px;color:#fdfdfd}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .from-chat[_ngcontent-%COMP%]{background-color:#b2b2b2;align-items:flex-start;margin-right:10%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .to-chat[_ngcontent-%COMP%]{background-color:#f03e32;align-items:flex-end;margin-left:10%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#f5f1f0}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-message-input[_ngcontent-%COMP%]{width:100%;padding:10px 25px;background-color:transparent;outline:none;border:none}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{border:none;background-color:transparent}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]   .send-icon[_ngcontent-%COMP%]{font-size:20px;align-self:center;padding-right:8px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:0 5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#000;align-self:center;margin:5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-weight:bold}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .message-preview[_ngcontent-%COMP%]{color:gray}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]{font-style:italic;font-weight:200}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .active-chat[_ngcontent-%COMP%]{background-color:#f5fcfe}"]}),i})();var Rb=D(4022),G_=D(6682),Op=D(9746),WD=D(8229);function xb(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let u,g,f=0,v=!1,I=!1;return function(V){let U;f++,!u||v?(v=!1,u=new WD.t(i,r,o),U=u.subscribe(this),g=V.subscribe({next(J){u.next(J)},error(J){v=!0,u.error(J)},complete(){I=!0,g=void 0,u.complete()}}),I&&(g=void 0)):U=u.subscribe(this),this.add(()=>{f--,U.unsubscribe(),U=void 0,g&&!I&&e&&0===f&&(g.unsubscribe(),g=void 0,u=void 0)})}}(o))}function z_(i,r){return r?(0,Fn.w)(()=>i,r):(0,Fn.w)(()=>i)}var K_=D(3101),Y_=D(7667),Yd=D(8939);D(7841);const q_=new d.OlP("angularfire2.auth.use-emulator"),zD=new d.OlP("angularfire2.auth.settings"),KD=new d.OlP("angularfire2.auth.tenant-id"),YD=new d.OlP("angularfire2.auth.langugage-code"),qD=new d.OlP("angularfire2.auth.use-device-language"),ZD=new d.OlP("angularfire.auth.persistence");let Z_=(()=>{class i{constructor(e,o,u,f,g,v,I,A,V,U,J){const ge=new Ro.xQ,Te=(0,rt.of)(void 0).pipe((0,Op.QV)(g.outsideAngular),(0,Fn.w)(()=>f.runOutsideAngular(()=>D.e(828).then(D.bind(D,4828)))),(0,Dt.U)(()=>(0,Yd.on)(e,f,o)),(0,Dt.U)(Le=>((i,r,e,o,u,f,g,v)=>(0,Y_.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const I=r.runOutsideAngular(()=>i.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=u,f&&I.useDeviceLanguage(),g)for(const[A,V]of Object.entries(g))I.settings[A]=V;return v&&I.setPersistence(v),I},[e,o,u,f,g,v]))(Le,f,v,A,V,U,I,J)),xb({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{Te.pipe(ls()).subscribe();const Be=Te.pipe((0,Fn.w)(ft=>ft.getRedirectResult().then(Wt=>Wt,()=>null)),Y_.iC,xb({bufferSize:1,refCount:!1})),Nt=Te.pipe((0,Fn.w)(ft=>new ir.y(Wt=>({unsubscribe:f.runOutsideAngular(()=>ft.onAuthStateChanged(lr=>Wt.next(lr),lr=>Wt.error(lr),()=>Wt.complete()))})))),Ot=Te.pipe((0,Fn.w)(ft=>new ir.y(Wt=>({unsubscribe:f.runOutsideAngular(()=>ft.onIdTokenChanged(lr=>Wt.next(lr),lr=>Wt.error(lr),()=>Wt.complete()))}))));this.authState=Be.pipe(z_(Nt),(0,K_.R)(g.outsideAngular),(0,Op.QV)(g.insideAngular)),this.user=Be.pipe(z_(Ot),(0,K_.R)(g.outsideAngular),(0,Op.QV)(g.insideAngular)),this.idToken=this.user.pipe((0,Fn.w)(ft=>ft?(0,gn.D)(ft.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe((0,Fn.w)(ft=>ft?(0,gn.D)(ft.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,G_.T)(Be,ge,this.authState.pipe((0,as.h)(ft=>!ft))).pipe((0,Dt.U)(ft=>(null==ft?void 0:ft.user)?ft:null),(0,K_.R)(g.outsideAngular),(0,Op.QV)(g.insideAngular))}return(0,Yd.pX)(this,Te,f,{spy:{apply:(Le,Be,Nt)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&Nt.then(Ot=>ge.next(Ot))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Yd.Dh),d.LFG(Yd.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Y_.HU),d.LFG(q_,8),d.LFG(zD,8),d.LFG(KD,8),d.LFG(YD,8),d.LFG(qD,8),d.LFG(ZD,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();const Q_=(0,Dt.U)(i=>!!i);const nT=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:tw},{path:"messenger",component:YS,canActivate:[(()=>{class i{constructor(e,o){this.router=e,this.auth=o,this.canActivate=(u,f)=>{const g=u.data.authGuardPipe||(()=>Q_);return this.auth.user.pipe((0,Zc.q)(1),g(u,f),(0,Dt.U)(v=>"boolean"==typeof v?v:Array.isArray(v)?this.router.createUrlTree(v):this.router.parseUrl(v)))}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Tn),d.LFG(Z_))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()],data:{authGuardPipe:()=>(i=>(0,Rb.z)(Q_,(0,Dt.U)(r=>r||i)))(["auth"])}}];let Fb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[bm.forRoot(nT)],bm]}),i})();const Ku_firebase={apiKey:"AIzaSyDYv0H5RXmoYQduJjudu_-ckWqLLDUHKhk",authDomain:"test-96155.firebaseapp.com",databaseURL:"https://test-96155-default-rtdb.firebaseio.com",projectId:"test-96155",storageBucket:"test-96155.appspot.com",messagingSenderId:"6579512422",appId:"1:6579512422:web:83151b2eb41bbcc35d79a7",measurementId:"G-9402P23G8N"};let JS=(()=>{class i{constructor(e,o){this.store=e,this.router=o,this.title="ngChat",this.app=(0,Wa.initializeApp)(Ku_firebase),this.db=Mp(),this.starCountRef=ro(this.db)}writeUserData(){Pt(ro(this.db,"users/"),{username:"name",email:"email",profile_picture:"imageUrl"})}funkyFuncTest(){_s(this.starCountRef,e=>{const o=e.val();console.log(o)})}ngOnInit(){const e=(0,Gs.n)();(0,Gs.t)(e,o=>{o?((0,Gs.ah)(o),console.log("IF BLOCK"),console.log(o),this.store.dispatch(vh({payload:{email:o.email,uid:o.uid,username:"need something",tokenExpDate:new Date,token:"",messages:[]}}))):console.log("ELSE BLOCK")})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ct.yh),d.Y36(Tn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:[Pi],styles:[""]}),i})();class iT{call(r,e){return e.subscribe(new Yu(r))}}class Yu extends Ri.L{_next(r){}}var Lb=D(3098);class sT{call(r,e){return e.subscribe(new XS(r))}}class XS extends Ri.L{constructor(r){super(r)}_next(r){this.destination.next(Lb.P.createNext(r))}_error(r){const e=this.destination;e.next(Lb.P.createError(r)),e.complete()}_complete(){const r=this.destination;r.next(Lb.P.createComplete()),r.complete()}}function J_(i,r,e,o){return u=>u.lift(new oT(i,r,e,o))}class oT{constructor(r,e,o,u){this.keySelector=r,this.elementSelector=e,this.durationSelector=o,this.subjectSelector=u}call(r,e){return e.subscribe(new X_(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class X_ extends Ri.L{constructor(r,e,o,u,f){super(r),this.keySelector=e,this.elementSelector=o,this.durationSelector=u,this.subjectSelector=f,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let e;try{e=this.keySelector(r)}catch(o){return void this.error(o)}this._group(r,e)}_group(r,e){let o=this.groups;o||(o=this.groups=new Map);let f,u=o.get(e);if(this.elementSelector)try{f=this.elementSelector(r)}catch(g){this.error(g)}else f=r;if(!u){u=this.subjectSelector?this.subjectSelector():new Ro.xQ,o.set(e,u);const g=new Ub(e,u,this);if(this.destination.next(g),this.durationSelector){let v;try{v=this.durationSelector(new Ub(e,u))}catch(I){return void this.error(I)}this.add(v.subscribe(new aT(e,u,this)))}}u.closed||u.next(f)}_error(r){const e=this.groups;e&&(e.forEach((o,u)=>{o.error(r)}),e.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((e,o)=>{e.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class aT extends Ri.L{constructor(r,e,o){super(e),this.key=r,this.group=e,this.parent=o}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:e}=this;this.key=this.parent=null,r&&r.removeGroup(e)}}class Ub extends ir.y{constructor(r,e,o){super(),this.key=r,this.groupSubject=e,this.refCountSubscription=o}_subscribe(r){const e=new Bg.w,{refCountSubscription:o,groupSubject:u}=this;return o&&!o.closed&&e.add(new lT(o)),e.add(u.subscribe(r)),e}}class lT extends Bg.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var ey=D(5345);function jb(i,r){return r?e=>e.pipe(jb((o,u)=>(0,gn.D)(i(o,u)).pipe((0,Dt.U)((f,g)=>r(o,f,u,g))))):e=>e.lift(new uT(i))}class uT{constructor(r){this.project=r}call(r,e){return e.subscribe(new cT(r,this.project))}}class cT extends ey.Ds{constructor(r,e){super(r),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(r){this.hasSubscription||this.tryNext(r)}tryNext(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(u){return void this.destination.error(u)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(r){const e=new ey.IY(this),o=this.destination;o.add(e);const u=(0,ey.ft)(r,e);u!==e&&o.add(u)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class fT{call(r,e){return e.subscribe(new hT(r))}}class hT extends Ri.L{constructor(r){super(r)}_next(r){r.observe(this.destination)}}const qu={dispatch:!0,useEffectsErrorHandler:!0},qd="__@ngrx/effects_create__";function Zd(i,r){const e=i(),o=Object.assign(Object.assign({},qu),r);return Object.defineProperty(e,qd,{value:o}),e}function Bb(i){return Object.getOwnPropertyNames(i).filter(o=>!(!i[o]||!i[o].hasOwnProperty(qd))&&i[o][qd].hasOwnProperty("dispatch")).map(o=>Object.assign({propertyName:o},i[o][qd]))}function Rp(i){return Object.getPrototypeOf(i)}const Qd="__@ngrx/effects__";function pT(i){return(0,ct.qC)(mT,Rp)(i)}function mT(i){return function(i){return i.constructor.hasOwnProperty(Qd)}(i)?i.constructor[Qd]:[]}function Jd(i,r,e){const o=Rp(i).constructor.name,u=function(i){return[pT,Bb].reduce((e,o)=>e.concat(o(i)),[])}(i).map(({propertyName:f,dispatch:g,useEffectsErrorHandler:v})=>{const I="function"==typeof i[f]?i[f]():i[f],A=v?e(I,r):I;return!1===g?A.pipe(function(r){return r.lift(new iT)}):A.pipe(function(r){return r.lift(new sT)}).pipe((0,Dt.U)(U=>({effect:i[f],notification:U,propertyName:f,sourceName:o,sourceInstance:i})))});return(0,G_.T)(...u)}function Wb(i,r,e=10){return i.pipe((0,xo.K)(o=>(r&&r.handleError(o),e<=1?i:Wb(i,r,e-1))))}let ef=(()=>{class i extends ir.y{constructor(e){super(),e&&(this.source=e)}lift(e){const o=new i;return o.source=this,o.operator=e,o}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(ct.Y$))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function si(...i){return(0,as.h)(r=>i.some(e=>"string"==typeof e?e===r.type:e.type===r.type))}function iy(i){return sy(i,"ngrxOnInitEffects")}function sy(i,r){return i&&r in i&&"function"==typeof i[r]}const zb=new d.OlP("@ngrx/effects Internal Root Guard"),Pp=new d.OlP("@ngrx/effects User Provided Effects"),oy=new d.OlP("@ngrx/effects Internal Root Effects"),ay=new d.OlP("@ngrx/effects Root Effects"),Np=new d.OlP("@ngrx/effects Internal Feature Effects"),ly=new d.OlP("@ngrx/effects Feature Effects"),Kb=new d.OlP("@ngrx/effects Effects Error Handler");let kp=(()=>{class i extends Ro.xQ{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(J_(Rp),(0,tn.zg)(e=>e.pipe(J_(Yb))),(0,tn.zg)(e=>{const o=e.pipe(jb(f=>function(i,r){return e=>{const o=Jd(e,i,r);return function(i){return sy(i,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(o):o}}(this.errorHandler,this.effectsErrorHandler)(f)),(0,Dt.U)(f=>(function(i,r){if("N"===i.notification.kind){const e=i.notification.value;!function(i){return"function"!=typeof i&&i&&i.type&&"string"==typeof i.type}(e)&&r.handleError(new Error(`Effect ${function({propertyName:i,sourceInstance:r,sourceName:e}){const o="function"==typeof r[i];return`"${e}.${String(i)}${o?"()":""}"`}(i)} dispatched an invalid action: ${function(i){try{return JSON.stringify(i)}catch(r){return i}}(e)}`))}}(f,this.errorHandler),f.notification)),(0,as.h)(f=>"N"===f.kind&&null!=f.value),function(r){return r.lift(new fT)}),u=e.pipe((0,Zc.q)(1),(0,as.h)(iy),(0,Dt.U)(f=>f.ngrxOnInitEffects()));return(0,G_.T)(o,u)}))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.qLn),d.LFG(Kb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Yb(i){return function(i){return sy(i,"ngrxOnIdentifyEffects")}(i)?i.ngrxOnIdentifyEffects():""}let Fp=(()=>{class i{constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(kp),d.LFG(ct.yh))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const uy="@ngrx/effects/init";(0,ct.PH)(uy);let cy=(()=>{class i{constructor(e,o,u,f,g,v,I){this.sources=e,o.start(),f.forEach(A=>e.addEffects(A)),u.dispatch({type:uy})}addEffects(e){this.sources.addEffects(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(kp),d.LFG(Fp),d.LFG(ct.yh),d.LFG(ay),d.LFG(ct.cr,8),d.LFG(ct.CK,8),d.LFG(zb,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),CT=(()=>{class i{constructor(e,o,u,f){o.forEach(g=>g.forEach(v=>e.addEffects(v)))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cy),d.LFG(ly),d.LFG(ct.cr,8),d.LFG(ct.CK,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),iM=(()=>{class i{static forFeature(e=[]){return{ngModule:CT,providers:[e,{provide:Np,multi:!0,useValue:e},{provide:Pp,multi:!0,useValue:[]},{provide:ly,multi:!0,useFactory:ar,deps:[d.zs3,Np,Pp]}]}}static forRoot(e=[]){return{ngModule:cy,providers:[{provide:Kb,useValue:Wb},Fp,kp,ef,e,{provide:oy,useValue:[e]},{provide:zb,useFactory:bT,deps:[[Fp,new d.FiY,new d.tp0],[oy,new d.PiD]]},{provide:Pp,multi:!0,useValue:[]},{provide:ay,useFactory:ar,deps:[d.zs3,oy,Pp]}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function ar(i,r,e){const o=[];for(const u of r)o.push(...u);for(const u of e)o.push(...u);return function(i,r){return r.map(e=>i.get(e))}(i,o)}function bT(i,r){if((1!==r.length||0!==r[0].length)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}(0,Wa.initializeApp)(Ku_firebase);const qb=(0,Gs.n)(),Vp=Mp();ro(Vp);let Zb=(()=>{class i{constructor(e,o,u){this.actions$=e,this.store=o,this.router=u,this.authSignup=Zd(()=>this.actions$.pipe(si(fd),(0,Fn.w)(f=>(0,Gs.a4)(qb,f.payload.email,f.payload.password).then(g=>(Pt(ro(Vp,"users/"+g.user.uid),{email:g.user.email,username:f.payload.username,uid:g.user.uid,messages:[""]}),vh({payload:{email:g.user.email,uid:g.user.uid,username:f.payload.username,token:"res.user.getIdToken()",tokenExpDate:new Date,messages:[]}})))))),this.authLogin=Zd(()=>this.actions$.pipe(si(FE),(0,Fn.w)(f=>(0,Gs.a5)(qb,f.payload.email,f.payload.password).then(g=>vh({payload:{email:g.user.email,uid:g.user.uid,username:"get this somehow",messages:void 0,token:"",tokenExpDate:new Date}}))))),this.authSuccessFul=Zd(()=>this.actions$.pipe(si(vh),(0,vr.b)(()=>{console.log("infinite loop"),this.router.navigate(["messenger"])})),{dispatch:!1})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(ef),d.LFG(ct.yh),d.LFG(Tn))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();(0,D(2329).ZF)(Ku_firebase);const tf=Mp();ro(tf);let Qb=(()=>{class i{constructor(e,o){this.actions$=e,this.store=o,this.sendMessage=Zd(()=>this.actions$.pipe(si(W_),(0,Fn.w)(u=>(console.log("SEND MSG EFFECTS"),Pt(ID(ro(tf,"/users/"+u.message.from+"/messages/"+u.message.to)),u.message),Pt(ID(ro(tf,"/users/"+u.message.to+"/messages/"+u.message.from)),u.message)))),{dispatch:!1})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(ef),d.LFG(ct.yh))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const DT={auth:(0,ct.Lq)({email:"",username:"",uid:"",token:"",tokenExpDate:null,messages:[]},(0,ct.on)(fd,(i,r)=>Object.assign(Object.assign({},i),{username:r.payload.username})),(0,ct.on)(vh,(i,r)=>(console.log("infinite reducer AuthSuccess"),console.log(r.payload.messages),Object.assign(Object.assign({},i),{email:r.payload.email,uid:r.payload.uid,token:r.payload.token,tokenExpDate:r.payload.tokenExpDate})))),data:(0,ct.Lq)({users:{},selectedUser:"",messages:[],allMessages:[]},(0,ct.on)(LD,(i,r)=>Object.assign(Object.assign({},i),{users:r.payload.users})),(0,ct.on)(W_,(i,r)=>(console.log("logging from reducer"),console.log(r.message),Object.assign({},i))),(0,ct.on)(VD,(i,r)=>Object.assign(Object.assign({},i),{selectedUser:r.payload.selectedUser})),(0,ct.on)(Sb,(i,r)=>(console.log("STOREMESSAGES REDUCER"),console.log(r.payload.messages),Object.assign(Object.assign({},i),{messages:r.payload.messages}))),(0,ct.on)(Mb,(i,r)=>Object.assign(Object.assign({},i),{allMessages:r.payload.allMessages})))};var Xb=D(3572);function na(i){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function t0(i,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function hy(i,r,e){return r in i?Object.defineProperty(i,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[r]=e,i}function Mt(i){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),o.forEach(function(u){hy(i,u,e[u])})}return i}function py(i,r){return function(i){if(Array.isArray(i))return i}(i)||function(i,r){var e=[],o=!0,u=!1,f=void 0;try{for(var v,g=i[Symbol.iterator]();!(o=(v=g.next()).done)&&(e.push(v.value),!r||e.length!==r);o=!0);}catch(I){u=!0,f=I}finally{try{!o&&null!=g.return&&g.return()}finally{if(u)throw f}}return e}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Bp={},l0={};try{"undefined"!=typeof window&&(Bp=window),"undefined"!=typeof document&&(l0=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(i){}var _y=(Bp.navigator||{}).userAgent,c0=void 0===_y?"":_y,Qu=Bp,Pn=l0,ra=!!Pn.documentElement&&!!Pn.head&&"function"==typeof Pn.addEventListener&&"function"==typeof Pn.createElement,ia=(~c0.indexOf("MSIE")||c0.indexOf("Trident/"),"___FONT_AWESOME___"),OT="svg-inline--fa",PT=[1,2,3,4,5,6,7,8,9,10],NT=PT.concat([11,12,13,14,15,16,17,18,19,20]),gl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},FT=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",gl.GROUP,gl.SWAP_OPACITY,gl.PRIMARY,gl.SECONDARY].concat(PT.map(function(i){return"".concat(i,"x")})).concat(NT.map(function(i){return"w-".concat(i)})),Qu.FontAwesomeConfig||{});Pn&&"function"==typeof Pn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(i){var r=py(i,2),o=r[1],u=function(i){return""===i||"false"!==i&&("true"===i||i)}(function(i){var r=Pn.querySelector("script["+i+"]");if(r)return r.getAttribute(i)}(r[0]));null!=u&&(FT[o]=u)});var Ey=Mt({},{familyPrefix:"fa",replacementClass:OT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},FT);Ey.autoReplaceSvg||(Ey.observeMutations=!1);var ot=Mt({},Ey);Qu.FontAwesomeConfig=ot;var $r=Qu||{};$r[ia]||($r[ia]={}),$r[ia].styles||($r[ia].styles={}),$r[ia].hooks||($r[ia].hooks={}),$r[ia].shims||($r[ia].shims=[]);var Ei=$r[ia],g0=[];ra&&((Pn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pn.readyState)||Pn.addEventListener("DOMContentLoaded",function i(){Pn.removeEventListener("DOMContentLoaded",i),g0.map(function(r){return r()})}));var _0,Hp="pending",Cy="settled",by="fulfilled",rf="rejected",$p=function(){},Iy="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,CM="undefined"==typeof setImmediate?setTimeout:setImmediate,Wp=[];function UT(){for(var i=0;i<Wp.length;i++)Wp[i][0](Wp[i][1]);Wp=[],_0=!1}function wy(i,r){Wp.push([i,r]),_0||(_0=!0,CM(UT,0))}function y0(i){var r=i.owner,e=r._state,o=r._data,u=i[e],f=i.then;if("function"==typeof u){e=by;try{o=u(o)}catch(g){sf(f,g)}}jT(f,o)||(e===by&&v0(f,o),e===rf&&sf(f,o))}function jT(i,r){var e;try{if(i===r)throw new TypeError("A promises callback cannot return that same promise.");if(r&&("function"==typeof r||"object"===na(r))){var o=r.then;if("function"==typeof o)return o.call(r,function(u){e||(e=!0,r===u?zp(i,u):v0(i,u))},function(u){e||(e=!0,sf(i,u))}),!0}}catch(u){return e||sf(i,u),!0}return!1}function v0(i,r){(i===r||!jT(i,r))&&zp(i,r)}function zp(i,r){i._state===Hp&&(i._state=Cy,i._data=r,wy(bM,i))}function sf(i,r){i._state===Hp&&(i._state=Cy,i._data=r,wy(HT,i))}function BT(i){i._then=i._then.forEach(y0)}function bM(i){i._state=by,BT(i)}function HT(i){i._state=rf,BT(i),!i._handled&&Iy&&global.process.emit("unhandledRejection",i._data,i)}function IM(i){global.process.emit("rejectionHandled",i)}function Wr(i){if("function"!=typeof i)throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof Wr))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(i,r){function o(u){sf(r,u)}try{i(function(u){v0(r,u)},o)}catch(u){o(u)}}(i,this)}Wr.prototype={constructor:Wr,_state:Hp,_then:null,_data:void 0,_handled:!1,then:function(r,e){var o={owner:this,then:new this.constructor($p),fulfilled:r,rejected:e};return(e||r)&&!this._handled&&(this._handled=!0,this._state===rf&&Iy&&wy(IM,this)),this._state===by||this._state===rf?wy(y0,o):this._then.push(o),o.then},catch:function(r){return this.then(null,r)}},Wr.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new Wr(function(r,e){var o=[],u=0;function f(I){return u++,function(A){o[I]=A,--u||r(o)}}for(var v,g=0;g<i.length;g++)(v=i[g])&&"function"==typeof v.then?v.then(f(g),e):o[g]=v;u||r(o)})},Wr.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new Wr(function(r,e){for(var u,o=0;o<i.length;o++)(u=i[o])&&"function"==typeof u.then?u.then(r,e):r(u)})},Wr.resolve=function(i){return i&&"object"===na(i)&&i.constructor===Wr?i:new Wr(function(r){r(i)})},Wr.reject=function(i){return new Wr(function(r,e){e(i)})};var Ry=function(r,e,o,u){var I,A,V,f=Object.keys(r),g=f.length,v=void 0!==u?function(r,e){return function(o,u,f,g){return r.call(e,o,u,f,g)}}(e,u):e;for(void 0===o?(I=1,V=r[f[0]]):(I=0,V=o);I<g;I++)V=v(V,r[A=f[I]],A,r);return V};function D0(i,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.skipHooks,u=void 0!==o&&o,f=Object.keys(r).reduce(function(g,v){var I=r[v];return I.icon?g[I.iconName]=I.icon:g[v]=I,g},{});"function"!=typeof Ei.hooks.addPack||u?Ei.styles[i]=Mt({},Ei.styles[i]||{},f):Ei.hooks.addPack(i,f),"fas"===i&&D0("fa",r)}var JT=Ei.styles,XT=Ei.shims,Py=function(){var r=function(u){return Ry(JT,function(f,g,v){return f[v]=Ry(g,u,{}),f},{})};r(function(o,u,f){return u[3]&&(o[u[3]]=f),o}),r(function(o,u,f){var g=u[2];return o[f]=f,g.forEach(function(v){o[v]=f}),o});var e="far"in JT;Ry(XT,function(o,u){var g=u[1];return"far"===g&&!e&&(g="fas"),o[u[0]]={prefix:g,iconName:u[2]},o},{})};function nc(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=(new Error).stack}Py(),(nc.prototype=Object.create(Error.prototype)).constructor=nc;var Qp={fill:"currentColor"},cf={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},By=(Mt({},Qp,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Mt({},cf,{attributeName:"opacity"}));Mt({},Qp,{cx:"256",cy:"364",r:"28"}),Mt({},cf,{attributeName:"r",values:"28;14;28;28;14;28;"}),Mt({},By,{values:"1;0;1;1;0;1;"}),Mt({},Qp,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Mt({},By,{values:"1;0;0;0;0;1;"}),Mt({},Qp,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Mt({},By,{values:"0;0;1;1;0;0;"});new(function(){function i(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,i),this.definitions={}}return function(i,r,e){r&&t0(i.prototype,r)}(i,[{key:"add",value:function(){for(var e=this,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var g=u.reduce(this._pullDefinitions,{});Object.keys(g).forEach(function(v){e.definitions[v]=Mt({},e.definitions[v]||{},g[v]),D0(v,g[v]),Py()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,o){var u=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(u).map(function(f){var g=u[f],v=g.prefix,I=g.iconName,A=g.icon;e[v]||(e[v]={}),e[v][I]=A}),e}}]),i}());let PM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),zy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[JS]}),i.\u0275inj=d.cJS({providers:[],imports:[[lv,Fb,In,ct.Aw.forRoot(DT),iM.forRoot([Zb,Qb]),Yd.hO.initializeApp(Ku_firebase),Xb.FT.instrument({logOnly:true}),PM]]}),i})();(0,d.G48)(),Fl().bootstrapModule(zy).catch(i=>console.error(i))},4762:(Q,B,D)=>{"use strict";D.d(B,{ZT:()=>N,_T:()=>q,mG:()=>R,Jh:()=>x,XA:()=>O,CR:()=>H,ev:()=>ue});var d=function(de,_e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,re){ie.__proto__=re}||function(ie,re){for(var Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&(ie[Ee]=re[Ee])})(de,_e)};function N(de,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function ie(){this.constructor=de}d(de,_e),de.prototype=null===_e?Object.create(_e):(ie.prototype=_e.prototype,new ie)}function q(de,_e){var ie={};for(var re in de)Object.prototype.hasOwnProperty.call(de,re)&&_e.indexOf(re)<0&&(ie[re]=de[re]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(re=Object.getOwnPropertySymbols(de);Ee<re.length;Ee++)_e.indexOf(re[Ee])<0&&Object.prototype.propertyIsEnumerable.call(de,re[Ee])&&(ie[re[Ee]]=de[re[Ee]])}return ie}function R(de,_e,ie,re){return new(ie||(ie=Promise))(function(se,Fe){function at(st){try{ze(re.next(st))}catch(Je){Fe(Je)}}function pt(st){try{ze(re.throw(st))}catch(Je){Fe(Je)}}function ze(st){st.done?se(st.value):function(se){return se instanceof ie?se:new ie(function(Fe){Fe(se)})}(st.value).then(at,pt)}ze((re=re.apply(de,_e||[])).next())})}function x(de,_e){var re,Ee,se,Fe,ie={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return Fe={next:at(0),throw:at(1),return:at(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function at(ze){return function(st){return function(ze){if(re)throw new TypeError("Generator is already executing.");for(;ie;)try{if(re=1,Ee&&(se=2&ze[0]?Ee.return:ze[0]?Ee.throw||((se=Ee.return)&&se.call(Ee),0):Ee.next)&&!(se=se.call(Ee,ze[1])).done)return se;switch(Ee=0,se&&(ze=[2&ze[0],se.value]),ze[0]){case 0:case 1:se=ze;break;case 4:return ie.label++,{value:ze[1],done:!1};case 5:ie.label++,Ee=ze[1],ze=[0];continue;case 7:ze=ie.ops.pop(),ie.trys.pop();continue;default:if(!(se=(se=ie.trys).length>0&&se[se.length-1])&&(6===ze[0]||2===ze[0])){ie=0;continue}if(3===ze[0]&&(!se||ze[1]>se[0]&&ze[1]<se[3])){ie.label=ze[1];break}if(6===ze[0]&&ie.label<se[1]){ie.label=se[1],se=ze;break}if(se&&ie.label<se[2]){ie.label=se[2],ie.ops.push(ze);break}se[2]&&ie.ops.pop(),ie.trys.pop();continue}ze=_e.call(de,ie)}catch(st){ze=[6,st],Ee=0}finally{re=se=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}}([ze,st])}}}function O(de){var _e="function"==typeof Symbol&&Symbol.iterator,ie=_e&&de[_e],re=0;if(ie)return ie.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&re>=de.length&&(de=void 0),{value:de&&de[re++],done:!de}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(de,_e){var ie="function"==typeof Symbol&&de[Symbol.iterator];if(!ie)return de;var Ee,Fe,re=ie.call(de),se=[];try{for(;(void 0===_e||_e-- >0)&&!(Ee=re.next()).done;)se.push(Ee.value)}catch(at){Fe={error:at}}finally{try{Ee&&!Ee.done&&(ie=re.return)&&ie.call(re)}finally{if(Fe)throw Fe.error}}return se}function ue(de,_e,ie){if(ie||2===arguments.length)for(var se,re=0,Ee=_e.length;re<Ee;re++)(se||!(re in _e))&&(se||(se=Array.prototype.slice.call(_e,0,re)),se[re]=_e[re]);return de.concat(se||Array.prototype.slice.call(_e))}},8239:(Q,B,D)=>{"use strict";function d(Y,q,$,F,j,R,x){try{var S=Y[R](x),k=S.value}catch(O){return void $(O)}S.done?q(k):Promise.resolve(k).then(F,j)}function N(Y){return function(){var q=this,$=arguments;return new Promise(function(F,j){var R=Y.apply(q,$);function x(k){d(R,F,j,x,S,"next",k)}function S(k){d(R,F,j,x,S,"throw",k)}x(void 0)})}}D.d(B,{Z:()=>N})}},Q=>{Q(Q.s=1570)}]);