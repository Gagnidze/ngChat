(self.webpackChunkng_chat=self.webpackChunkng_chat||[]).push([[179],{8255:Q=>{function B(D){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+D+"'");throw d.code="MODULE_NOT_FOUND",d})}B.keys=()=>[],B.resolve=B,B.id=8255,Q.exports=B},7716:(Q,B,D)=>{"use strict";D.d(B,{deG:()=>Yl,tb:()=>cf,AFp:()=>f0,ip1:()=>ni,CZH:()=>_l,hGG:()=>F0,z2F:()=>sc,sBO:()=>H_,Sil:()=>so,_Vd:()=>ol,EJc:()=>nc,SBq:()=>Br,qLn:()=>cu,vpe:()=>ms,gxx:()=>Ha,tBr:()=>ks,XFs:()=>Ue,OlP:()=>Wt,zs3:()=>Jt,ZZ4:()=>ll,aQg:()=>Cp,soG:()=>Kp,YKP:()=>wp,v3s:()=>S0,h0i:()=>Js,PXZ:()=>b0,R0b:()=>lr,FiY:()=>xr,Lbi:()=>uf,g9A:()=>Iy,Qsj:()=>jd,FYo:()=>Gu,JOm:()=>ls,Tiy:()=>zu,q3G:()=>In,PiD:()=>Oo,tp0:()=>_r,EAV:()=>R0,Rgc:()=>Hd,dDg:()=>m0,DyG:()=>Os,q4F:()=>Hr,GfV:()=>yp,s_b:()=>Dp,ifc:()=>Pe,eFA:()=>w0,G48:()=>KT,Gpc:()=>V,X6Q:()=>yl,_c5:()=>lg,VLi:()=>y0,c2e:()=>wy,zSh:()=>Ch,wAp:()=>qe,vHH:()=>de,EiD:()=>J0,mCW:()=>xo,qzn:()=>m,JVY:()=>A,pB0:()=>Ve,eBb:()=>ce,L6k:()=>F,LAX:()=>Ae,cg1:()=>g_,Tjo:()=>cA,kL8:()=>m_,yhl:()=>C,dqk:()=>Lt,sIi:()=>Gs,CqO:()=>Pu,QGY:()=>Lh,F4k:()=>Fi,RDi:()=>pc,AaK:()=>P,z3N:()=>p,qOj:()=>Ih,TTD:()=>ca,_Bn:()=>N_,xp6:()=>am,uIk:()=>Mh,ekj:()=>tl,Suo:()=>Wb,Xpm:()=>lt,lG2:()=>aa,Yz7:()=>kt,cJS:()=>Gt,oAB:()=>Wi,Yjl:()=>Gi,Y36:()=>ki,_UZ:()=>uC,qZA:()=>e_,TgZ:()=>kh,EpF:()=>Ed,n5z:()=>Ti,Ikx:()=>Jh,LFG:()=>fn,$8M:()=>Rn,NdJ:()=>Jr,CRH:()=>$p,oxw:()=>hC,Hsn:()=>n_,F$t:()=>t_,Q6J:()=>Za,iGM:()=>Hp,MAs:()=>JE,CHM:()=>ga,oJD:()=>X0,LSH:()=>Iv,kYT:()=>lo,YNc:()=>QE,_uU:()=>MC,Oqu:()=>d_,hij:()=>wd});var d=D(9765),N=D(5319),Y=D(7574),q=D(6682),$=D(8819);function k(t){for(let n in t)if(t[n]===k)return n;throw Error("Could not find renamed property on target object.")}function j(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function R(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const S=k({__forward_ref__:k});function V(t){return t.__forward_ref__=V,t.toString=function(){return P(this())},t}function O(t){return H(t)?t():t}function H(t){return"function"==typeof t&&t.hasOwnProperty(S)&&t.__forward_ref__===V}class de extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function ue(t){return"string"==typeof t?t:null==t?"":String(t)}function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ue(t)}function Ee(t,n){const s=n?` in ${n}`:"";throw new de("201",`No provider for ${ye(t)} found${s}`)}function st(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function kt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function qt(t){return Wn(t,si)||Wn(t,oi)}function Wn(t,n){return t.hasOwnProperty(n)?t[n]:null}function wr(t){return t&&(t.hasOwnProperty(Gn)||t.hasOwnProperty(Dr))?t[Gn]:null}const si=k({\u0275prov:k}),Gn=k({\u0275inj:k}),oi=k({ngInjectableDef:k}),Dr=k({ngInjectorDef:k});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let _n;function zn(t){const n=_n;return _n=t,n}function Xe(t,n,s){const a=qt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ue.Optional?null:void 0!==n?n:void Ee(P(t),"Injector")}function Ct(t){return{toString:t}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Ge="undefined"!=typeof globalThis&&globalThis,vs="undefined"!=typeof window&&window,ai="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,An="undefined"!=typeof global&&global,Lt=Ge||An||vs||ai,Bt={},K=[],G=k({\u0275cmp:k}),ne=k({\u0275dir:k}),he=k({\u0275pipe:k}),ee=k({\u0275mod:k}),xe=k({\u0275loc:k}),je=k({\u0275fac:k}),mt=k({__NG_ELEMENT_ID__:k});let Tt=0;function lt(t){return Ct(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pe.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,c=t.features,h=t.pipes;return a.id+=Tt++,a.inputs=oa(t.inputs,s),a.outputs=oa(t.outputs),c&&c.forEach(_=>_(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(Un):null,a.pipeDefs=h?()=>("function"==typeof h?h():h).map(En):null,a})}function Un(t){return Sn(t)||function(t){return t[ne]||null}(t)}function En(t){return function(t){return t[he]||null}(t)}const Wr={};function Wi(t){return Ct(()=>{const n={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Wr[t.id]=t.type),n})}function lo(t,n){return Ct(()=>{const s=Yn(t,!0);s.declarations=n.declarations||K,s.imports=n.imports||K,s.exports=n.exports||K})}function oa(t,n){if(null==t)return Bt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),s[u]=a,n&&(n[u]=c)}return s}const aa=lt;function Gi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sn(t){return t[G]||null}function Yn(t,n){const s=t[ee]||null;if(!s&&!0===n)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return s}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zt(t){return Array.isArray(t)&&!0===t[1]}function Rt(t){return 0!=(8&t.flags)}function sn(t){return 2==(2&t.flags)}function zi(t){return 1==(1&t.flags)}function dr(t){return null!==t.template}function un(t){return 0!=(512&t[2])}function Mr(t,n){return t.hasOwnProperty(je)?t[je]:null}class _g{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ca(){return dc}function dc(t){return t.type.prototype.ngOnChanges&&(t.setInput=fc),wf}function wf(){const t=Df(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===Bt)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function fc(t,n,s,a){const u=Df(t)||function(t,n){return t[fr]=n}(t,{previous:Bt,current:null}),c=u.current||(u.current={}),h=u.previous,_=this.declaredInputs[s],v=h[_];c[_]=new _g(v&&v.currentValue,n,h===Bt),t[a]=n}ca.ngInherit=!0;const fr="__ngSimpleChanges__";function Df(t){return t[fr]||null}let po;function pc(t){po=t}function wl(){return void 0!==po?po:"undefined"!=typeof document?document:void 0}function on(t){return!!t.listen}const Ki={createRenderer:(t,n)=>wl()};function en(t){for(;Array.isArray(t);)t=t[0];return t}function da(t,n){return en(n[t])}function ir(t,n){return en(n[t.index])}function fa(t,n){return t.data[n]}function Qn(t,n){const s=n[t];return Vt(s)?s:s[0]}function vg(t){return 4==(4&t[2])}function Al(t){return 128==(128&t[2])}function bi(t,n){return null==n?null:t[n]}function ha(t){t[18]=0}function yc(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Qe={lFrame:wg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sf(){return Qe.bindingsEnabled}function De(){return Qe.lFrame.lView}function wt(){return Qe.lFrame.tView}function ga(t){return Qe.lFrame.contextLView=t,t[8]}function cn(){let t=bc();for(;null!==t&&64===t.type;)t=t.parent;return t}function bc(){return Qe.lFrame.currentTNode}function Rr(t,n){const s=Qe.lFrame;s.currentTNode=t,s.isParent=n}function Sl(){return Qe.lFrame.isParent}function mo(){Qe.lFrame.isParent=!1}function Ml(){return Qe.isInCheckNoChangesMode}function _o(t){Qe.isInCheckNoChangesMode=t}function ui(){return Qe.lFrame.bindingIndex++}function Ol(t,n){const s=Qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,wc(n)}function wc(t){Qe.lFrame.currentDirectiveIndex=t}function xl(){return Qe.lFrame.currentQueryIndex}function ma(t){Qe.lFrame.currentQueryIndex=t}function bs(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Dc(t,n,s){if(s&Ue.SkipSelf){let u=n,c=t;for(;!(u=u.parent,null!==u||s&Ue.Host||(u=bs(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;n=u,t=c}const a=Qe.lFrame=Rf();return a.currentTNode=n,a.lView=t,!0}function Pl(t){const n=Rf(),s=t[1];Qe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Rf(){const t=Qe.lFrame,n=null===t?null:t.child;return null===n?wg(t):n}function wg(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function xf(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dg=xf;function Nl(){const t=xf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jn(){return Qe.lFrame.selectedIndex}function yo(t){Qe.lFrame.selectedIndex=t}function bn(){const t=Qe.lFrame;return fa(t.tView,t.selectedIndex)}function kl(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:_,ngAfterViewInit:v,ngAfterViewChecked:b,ngOnDestroy:w}=c;h&&(t.contentHooks||(t.contentHooks=[])).push(-s,h),_&&((t.contentHooks||(t.contentHooks=[])).push(s,_),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,_)),v&&(t.viewHooks||(t.viewHooks=[])).push(-s,v),b&&((t.viewHooks||(t.viewHooks=[])).push(s,b),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,b)),null!=w&&(t.destroyHooks||(t.destroyHooks=[])).push(s,w)}}function Eo(t,n,s){Nf(t,n,3,s)}function Co(t,n,s,a){(3&t[2])===s&&Nf(t,n,s,a)}function _a(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Nf(t,n,s,a){const c=null!=a?a:-1,h=n.length-1;let _=0;for(let v=void 0!==a?65535&t[18]:0;v<h;v++)if("number"==typeof n[v+1]){if(_=n[v],null!=a&&_>=a)break}else n[v]<0&&(t[18]+=65536),(_<c||-1==c)&&(Fl(t,s,n,v),t[18]=(4294901760&t[18])+v+2),v++}function Fl(t,n,s,a){const u=s[a]<0,c=s[a+1],_=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(_)}finally{}}}else try{c.call(_)}finally{}}class Ll{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ws(t,n,s){const a=on(t);let u=0;for(;u<s.length;){const c=s[u];if("number"==typeof c){if(0!==c)break;u++;const h=s[u++],_=s[u++],v=s[u++];a?t.setAttribute(n,_,v,h):n.setAttributeNS(h,_,v)}else{const h=c,_=s[++u];zt(h)?a&&t.setProperty(n,h,_):a?t.setAttribute(n,h,_):n.setAttribute(h,_),u++}}return u}function Ff(t){return 3===t||4===t||6===t}function zt(t){return 64===t.charCodeAt(0)}function jl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?s=u:0===s||Bl(t,s,u,null,-1===s||2===s?n[++a]:null)}}return t}function Bl(t,n,s,a,u){let c=0,h=t.length;if(-1===n)h=-1;else for(;c<t.length;){const _=t[c++];if("number"==typeof _){if(_===n){h=-1;break}if(_>n){h=c-1;break}}}for(;c<t.length;){const _=t[c];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==u&&(t[c+1]=u));if(a===t[c+1])return void(t[c+2]=u)}c++,null!==a&&c++,null!==u&&c++}-1!==h&&(t.splice(h,0,n),c=h+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==u&&t.splice(c++,0,u)}function Hl(t){return-1!==t}function Di(t){return 32767&t}function ya(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ac=!0;function $l(t){const n=Ac;return Ac=t,n}let Mc=0;function Ds(t,n){const s=gn(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Oc(a.data,t),Oc(n,null),Oc(a.blueprint,null));const u=sr(t,n),c=t.injectorIndex;if(Hl(u)){const h=Di(u),_=ya(u,n),v=_[1].data;for(let b=0;b<8;b++)n[c+b]=_[h+b]|v[h+b]}return n[c+8]=u,c}function Oc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function gn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function sr(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=n;for(;null!==u;){const c=u[1],h=c.type;if(a=2===h?c.declTNode:1===h?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Yi(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mt)&&(a=s[mt]),null==a&&(a=s[mt]=Mc++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,s)}function Vf(t,n,s){if(s&Ue.Optional)return t;Ee(n,"NodeInjector")}function Uf(t,n,s,a){if(s&Ue.Optional&&void 0===a&&(a=null),0==(s&(Ue.Self|Ue.Host))){const u=t[9],c=zn(void 0);try{return u?u.get(n,a,s&Ue.Optional):Xe(n,a,s&Ue.Optional)}finally{zn(c)}}return Vf(a,n,s)}function Wl(t,n,s,a=Ue.Default,u){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mt)?t[mt]:void 0;return"number"==typeof n?n>=0?255&n:Ts:n}(s);if("function"==typeof c){if(!Dc(n,t,a))return a&Ue.Host?Vf(u,s,a):Uf(n,s,a,u);try{const h=c(a);if(null!=h||a&Ue.Optional)return h;Ee(s)}finally{Dg()}}else if("number"==typeof c){let h=null,_=gn(t,n),v=-1,b=a&Ue.Host?n[16][6]:null;for((-1===_||a&Ue.SkipSelf)&&(v=-1===_?sr(t,n):n[_+8],-1!==v&&xc(a,!1)?(h=n[1],_=Di(v),n=ya(v,n)):_=-1);-1!==_;){const w=n[1];if(Rc(c,_,w.data)){const M=ci(_,n,s,h,a,b);if(M!==Gl)return M}v=n[_+8],-1!==v&&xc(a,n[1].data[_+8]===b)&&Rc(c,_,n)?(h=w,_=Di(v),n=ya(v,n)):_=-1}}}return Uf(n,s,a,u)}const Gl={};function Ts(){return new di(cn(),De())}function ci(t,n,s,a,u,c){const h=n[1],_=h.data[t+8],w=zl(_,h,s,null==a?sn(_)&&Ac:a!=h&&0!=(3&_.type),u&Ue.Host&&c===_);return null!==w?qi(n,h,w,_):Gl}function zl(t,n,s,a,u){const c=t.providerIndexes,h=n.data,_=1048575&c,v=t.directiveStart,w=c>>20,x=u?_+w:t.directiveEnd;for(let z=a?_:_+w;z<x;z++){const Z=h[z];if(z<v&&s===Z||z>=v&&Z.type===s)return z}if(u){const z=h[v];if(z&&dr(z)&&z.type===s)return v}return null}function qi(t,n,s,a){let u=t[s];const c=n.data;if(function(t){return t instanceof Ll}(u)){const h=u;h.resolving&&function(t,n){throw new de("200",`Circular dependency in DI detected for ${t}`)}(ye(c[s]));const _=$l(h.canSeeViewProviders);h.resolving=!0;const v=h.injectImpl?zn(h.injectImpl):null;Dc(t,a,Ue.Default);try{u=t[s]=h.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:c}=n.type.prototype;if(a){const h=dc(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==v&&zn(v),$l(_),h.resolving=!1,Dg()}}return u}function Rc(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function xc(t,n){return!(t&Ue.Self||t&Ue.Host&&n)}class di{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return Wl(this._tNode,this._lView,n,void 0,s)}}function Ti(t){return Ct(()=>{const n=t.prototype.constructor,s=n[je]||As(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const c=u[je]||As(u);if(c&&c!==s)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function As(t){return H(t)?()=>{const n=As(O(t));return n&&n()}:Mr(t)}function Rn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const c=s[u];if(Ff(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(c===n)return s[u+1];u+=2}}}return null}(cn(),t)}const bo="__parameters__";function Zi(t,n,s){return Ct(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(n);function u(...c){if(this instanceof u)return a.apply(this,c),this;const h=new u(...c);return _.annotation=h,_;function _(v,b,w){const M=v.hasOwnProperty(bo)?v[bo]:Object.defineProperty(v,bo,{value:[]})[bo];for(;M.length<=w;)M.push(null);return(M[w]=M[w]||[]).push(h),v}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class Wt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=kt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yl=new Wt("AnalyzeForEntryComponents"),Os=Function;function Qt(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Qt(a,n)):n!==t&&n.push(a)}return n}function Pn(t,n){t.forEach(s=>Array.isArray(s)?Pn(s,n):n(s))}function ba(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Qi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Rs(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function gr(t,n,s){let a=xs(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let u=t.length;if(u==n)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function $f(t,n){const s=xs(t,n);if(s>=0)return t[1|s]}function xs(t,n){return function(t,n,s){let a=0,u=t.length>>s;for(;u!==a;){const c=a+(u-a>>1),h=t[c<<s];if(n===h)return c<<s;h>n?u=c:a=c+1}return~(u<<s)}(t,n,1)}const Ji={},Bc="__NG_DI_FLAG__",Xi="ngTempTokenPath",Hc=/\n/gm,Ta="__source",Aa=k({provide:String,useValue:k});let Ps;function Ns(t){const n=Ps;return Ps=t,n}function $c(t,n=Ue.Default){if(void 0===Ps)throw new Error("inject() must be called from an injection context");return null===Ps?Xe(t,void 0,n):Ps.get(t,n&Ue.Optional?null:void 0,n)}function fn(t,n=Ue.Default){return(_n||$c)(O(t),n)}function mr(t){const n=[];for(let s=0;s<t.length;s++){const a=O(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,c=Ue.Default;for(let h=0;h<a.length;h++){const _=a[h],v=So(_);"number"==typeof v?-1===v?u=_.token:c|=v:u=_}n.push(fn(u,c))}else n.push(fn(a))}return n}function es(t,n){return t[Bc]=n,t.prototype[Bc]=n,t}function So(t){return t[Bc]}function Mo(t,n,s,a){const u=t[Xi];throw n[Ta]&&u.unshift(n[Ta]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=P(n);if(Array.isArray(n))u=n.map(P).join(" -> ");else if("object"==typeof n){let c=[];for(let h in n)if(n.hasOwnProperty(h)){let _=n[h];c.push(h+":"+("string"==typeof _?JSON.stringify(_):P(_)))}u=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(Hc,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[Xi]=null,t}const ks=es(Zi("Inject",t=>({token:t})),-1),xr=es(Zi("Optional"),8),Oo=es(Zi("Self"),2),_r=es(Zi("SkipSelf"),4);let xa,ru;function pi(t){var n;return(null===(n=function(){if(void 0===xa&&(xa=null,Lt.trustedTypes))try{xa=Lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return xa}())||void 0===n?void 0:n.createHTML(t))||t}function su(t){var n;return(null===(n=function(){if(void 0===ru&&(ru=null,Lt.trustedTypes))try{ru=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ru}())||void 0===n?void 0:n.createHTML(t))||t}class ns{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Kc extends ns{getTypeName(){return"HTML"}}class jg extends ns{getTypeName(){return"Style"}}class Zf extends ns{getTypeName(){return"Script"}}class Bg extends ns{getTypeName(){return"URL"}}class y extends ns{getTypeName(){return"ResourceURL"}}function p(t){return t instanceof ns?t.changingThisBreaksApplicationSecurity:t}function m(t,n){const s=C(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function C(t){return t instanceof ns&&t.getTypeName()||null}function A(t){return new Kc(t)}function F(t){return new jg(t)}function ce(t){return new Zf(t)}function Ae(t){return new Bg(t)}function Ve(t){return new y(t)}class St{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(pi(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class hn{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=pi(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=pi(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let u=s.length-1;0<u;u--){const h=s.item(u).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const rs=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xo(t){return(t=String(t)).match(rs)||t.match(Qf)?t:"unsafe:"+t}function qr(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function is(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const au=qr("area,br,col,hr,img,wbr"),Yc=qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Na=qr("rp,rt"),qc=is(au,is(Yc,qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),is(Na,qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),is(Na,Yc)),lu=qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xf=qr("srcset"),vv=is(lu,Xf,qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wg=qr("script,style,template");class Z0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!qc.hasOwnProperty(s))return this.sanitizedSomething=!0,!Wg.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let u=0;u<a.length;u++){const c=a.item(u),h=c.name,_=h.toLowerCase();if(!vv.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let v=c.value;lu[_]&&(v=xo(v)),Xf[_]&&(t=v,v=(t=String(t)).split(",").map(n=>xo(n.trim())).join(", ")),this.buf.push(" ",h,'="',Gg(v),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();qc.hasOwnProperty(s)&&!au.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Gg(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Ev=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q0=/([^\#-~ |!])/g;function Gg(t){return t.replace(/&/g,"&amp;").replace(Ev,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Q0,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zg;function J0(t,n){let s=null;try{zg=zg||function(t){const n=new hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(pi(""),"text/html")}catch(t){return!1}}()?new St(n):n}(t);let a=n?String(n):"";s=zg.getInertBodyElement(a);let u=5,c=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=c,c=s.innerHTML,s=zg.getInertBodyElement(a)}while(a!==c);return pi((new Z0).sanitizeChildren(Cv(s)||s))}finally{if(s){const a=Cv(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Cv(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function X0(t){const n=Zc();return n?su(n.sanitize(In.HTML,t)||""):m(t,"HTML")?su(p(t)):J0(wl(),ue(t))}function Iv(t){const n=Zc();return n?n.sanitize(In.URL,t)||"":m(t,"URL")?p(t):xo(ue(t))}function Zc(){const t=De();return t&&t[12]}const Qc="__ngContext__";function Nn(t,n){t[Qc]=n}function Xc(t){const n=function(t){return t[Qc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function td(t){return t.ngOriginalError}function oI(t,...n){t.error(...n)}class cu{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),u=(t=n)&&t.ngErrorLogger||oI;var t;u(this._console,"ERROR",n),s&&u(this._console,"ORIGINAL ERROR",s),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(td(n)):null}_findOriginalError(n){let s=n&&td(n);for(;s&&td(s);)s=td(s);return s||null}}const Nv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function as(t){return t instanceof Function?t():t}var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();function th(t,n){return undefined(t,n)}function rd(t){const n=t[3];return Zt(n)?n[3]:n}function vt(t){return La(t[13])}function Jg(t){return La(t[4])}function La(t){for(;null!==t&&!Zt(t);)t=t[4];return t}function ko(t,n,s,a,u){if(null!=a){let c,h=!1;Zt(a)?c=a:Vt(a)&&(h=!0,a=a[0]);const _=en(a);0===t&&null!==s?null==u?id(n,s,_):Fo(n,s,_,u||null,!0):1===t&&null!==s?Fo(n,s,_,u||null,!0):2===t?function(t,n,s){const a=Vo(t,n);a&&function(t,n,s,a){on(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,_,h):3===t&&n.destroyNode(_),null!=c&&function(t,n,s,a,u){const c=s[7];c!==en(s)&&ko(n,t,a,c,u);for(let _=10;_<s.length;_++){const v=s[_];Bo(v[1],v,t,n,a,c)}}(n,t,c,s,u)}}function mi(t,n,s){return on(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Hv(t,n){const s=t[9],a=s.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,yc(u,-1)),s.splice(a,1)}function em(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&Hv(u,a),n>0&&(t[s-1][4]=a[4]);const c=Qi(t,10+n);!function(t,n){Bo(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const h=c[19];null!==h&&h.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function tm(t,n){if(!(256&n[2])){const s=n[11];on(s)&&s.destroyNode&&Bo(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return nh(t[1],t);for(;n;){let s=null;if(Vt(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Vt(n)&&nh(n[1],n),n=n[3];null===n&&(n=t),Vt(n)&&nh(n[1],n),s=n&&n[4]}n=s}}(n)}}function nh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=n[s[a]];if(!(u instanceof Ll)){const c=s[a+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const _=u[c[h]],v=c[h+1];try{v.call(_)}finally{}}else try{c.call(u)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let u=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const h=s[c+1],_="function"==typeof h?h(n):en(n[h]),v=a[u=s[c+2]],b=s[c+3];"boolean"==typeof b?_.removeEventListener(s[c],v,b):b>=0?a[u=b]():a[u=-b].unsubscribe(),c+=2}else{const h=a[u=s[c+1]];s[c].call(h)}if(null!==a){for(let c=u+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&on(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Zt(n[3])){s!==n[3]&&Hv(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Wv(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===Pe.None||u===Pe.Emulated)return null}return ir(a,s)}(t,n.parent,s)}function Fo(t,n,s,a,u){on(t)?t.insertBefore(n,s,a,u):n.insertBefore(s,a,u)}function id(t,n,s){on(t)?t.appendChild(n,s):n.appendChild(s)}function Lo(t,n,s,a,u){null!==a?Fo(t,n,s,a,u):id(t,n,s)}function Vo(t,n){return on(t)?t.parentNode(n):n.parentNode}function Uo(t,n,s){return rh(t,n,s)}let rh=function(t,n,s){return 40&t.type?ir(t,s):null};function Va(t,n,s,a){const u=Wv(t,a,n),c=n[11],_=Uo(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(s))for(let v=0;v<s.length;v++)Lo(c,u,s[v],_,!1);else Lo(c,u,s,_,!1)}function jo(t,n){if(null!==n){const s=n.type;if(3&s)return ir(n,t);if(4&s)return du(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return jo(t,a);{const u=t[n.index];return Zt(u)?du(-1,u):en(u)}}if(32&s)return th(n,t)()||en(t[n.index]);{const a=rm(t,n);return null!==a?Array.isArray(a)?a[0]:jo(rd(t[16]),a):jo(t,n.next)}}return null}function rm(t,n){return null!==n?t[16][6].projection[n.projection]:null}function du(t,n){const s=10+t+1;if(s<n.length){const a=n[s],u=a[1].firstChild;if(null!==u)return jo(a,u)}return n[7]}function sd(t,n,s,a,u,c,h){for(;null!=s;){const _=a[s.index],v=s.type;if(h&&0===n&&(_&&Nn(en(_),a),s.flags|=4),64!=(64&s.flags))if(8&v)sd(t,n,s.child,a,u,c,!1),ko(n,t,u,_,c);else if(32&v){const b=th(s,a);let w;for(;w=b();)ko(n,t,u,w,c);ko(n,t,u,_,c)}else 16&v?im(t,n,a,s,u,c):ko(n,t,u,_,c);s=h?s.projectionNext:s.next}}function Bo(t,n,s,a,u,c){sd(s,a,t.firstChild,n,u,c,!1)}function im(t,n,s,a,u,c){const h=s[16],v=h[6].projection[a.projection];if(Array.isArray(v))for(let b=0;b<v.length;b++)ko(n,t,u,v[b],c);else sd(t,n,v,h[3],u,c,!0)}function qv(t,n,s){on(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function fu(t,n,s){on(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Zv(t,n,s){let a=t.length;for(;;){const u=t.indexOf(n,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const c=n.length;if(u+c===a||t.charCodeAt(u+c)<=32)return u}s=u+1}}const Qv="ng-template";function yI(t,n,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==Zv(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Jv(t){return 4===t.type&&t.value!==Qv}function Xv(t,n,s){return n===(4!==t.type||s?t.value:Qv)}function sm(t,n,s){let a=4;const u=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(Ff(t[n]))return n;return t.length}(u);let h=!1;for(let _=0;_<n.length;_++){const v=n[_];if("number"!=typeof v){if(!h)if(4&a){if(a=2|1&a,""!==v&&!Xv(t,v,s)||""===v&&1===n.length){if(Zr(a))return!1;h=!0}}else{const b=8&a?v:n[++_];if(8&a&&null!==t.attrs){if(!yI(t.attrs,b,s)){if(Zr(a))return!1;h=!0}continue}const M=Ls(8&a?"class":v,u,Jv(t),s);if(-1===M){if(Zr(a))return!1;h=!0;continue}if(""!==b){let x;x=M>c?"":u[M+1].toLowerCase();const z=8&a?x:null;if(z&&-1!==Zv(z,b,0)||2&a&&b!==x){if(Zr(a))return!1;h=!0}}}}else{if(!h&&!Zr(a)&&!Zr(v))return!1;if(h&&Zr(v))continue;h=!1,a=v|1&a}}return Zr(a)||h}function Zr(t){return 0==(1&t)}function Ls(t,n,s,a){if(null===n)return-1;let u=0;if(a||!s){let c=!1;for(;u<n.length;){const h=n[u];if(h===t)return u;if(3===h||6===h)c=!0;else{if(1===h||2===h){let _=n[++u];for(;"string"==typeof _;)_=n[++u];continue}if(4===h)break;if(0===h){u+=4;continue}}u+=c?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function hu(t,n,s=!1){for(let a=0;a<n.length;a++)if(sm(t,n[a],s))return!0;return!1}function pu(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function om(t,n){return t?":not("+n.trim()+")":n}function EI(t){let n=t[0],s=1,a=2,u="",c=!1;for(;s<t.length;){let h=t[s];if("string"==typeof h)if(2&a){const _=t[++s];u+="["+h+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?u+="."+h:4&a&&(u+=" "+h);else""!==u&&!Zr(h)&&(n+=om(c,u),u=""),a=h,c=c||!Zr(a);s++}return""!==u&&(n+=om(c,u)),n}const tt={};function am(t){oh(wt(),De(),Jn()+t,Ml())}function oh(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&Eo(n,c,s)}else{const c=t.preOrderHooks;null!==c&&Co(n,c,0,s)}yo(s)}function gu(t,n){return t<<17|n<<2}function Mi(t){return t>>17&32767}function lm(t){return 2|t}function Vs(t){return(131068&t)>>2}function um(t,n){return-131069&t|n<<2}function Ua(t){return 1|t}function cE(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],c=s[a+1];if(-1!==c){const h=t.data[c];ma(u),h.contentQueries(2,n[c],c)}}}function yu(t,n,s,a,u,c,h,_,v,b){const w=n.blueprint.slice();return w[0]=u,w[2]=140|a,ha(w),w[3]=w[15]=t,w[8]=s,w[10]=h||t&&t[10],w[11]=_||t&&t[11],w[12]=v||t&&t[12]||null,w[9]=b||t&&t[9]||null,w[6]=c,w[16]=2==n.type?t[16]:w,w}function cs(t,n,s,a,u){let c=t.data[n];if(null===c)c=function(t,n,s,a,u){const c=bc(),h=Sl(),v=t.data[n]=function(t,n,s,a,u,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,s,n,a,u);return null===t.firstChild&&(t.firstChild=v),null!==c&&(h?null==c.child&&null!==v.parent&&(c.child=v):null===c.next&&(c.next=v)),v}(t,n,s,a,u),Qe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=u;const h=function(){const t=Qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return Rr(c,!0),c}function Bs(t,n,s,a){if(0===s)return-1;const u=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function vu(t,n,s){Pl(n);try{const a=t.viewQuery;null!==a&&Bn(1,a,s);const u=t.template;null!==u&&fE(t,n,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cE(t,n),t.staticViewQueries&&Bn(2,t.viewQuery,s);const c=t.components;null!==c&&function(t,n){for(let s=0;s<n.length;s++)bE(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Nl()}}function Eu(t,n,s,a){const u=n[2];if(256==(256&u))return;Pl(n);const c=Ml();try{ha(n),function(t){Qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&fE(t,n,s,2,a);const h=3==(3&u);if(!c)if(h){const b=t.preOrderCheckHooks;null!==b&&Eo(n,b,null)}else{const b=t.preOrderHooks;null!==b&&Co(n,b,0,null),_a(n,0)}if(function(t){for(let n=vt(t);null!==n;n=Jg(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const u=s[a],c=u[3];0==(1024&u[2])&&yc(c,1),u[2]|=1024}}}(n),function(t){for(let n=vt(t);null!==n;n=Jg(n))for(let s=10;s<n.length;s++){const a=n[s],u=a[1];Al(a)&&Eu(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&cE(t,n),!c)if(h){const b=t.contentCheckHooks;null!==b&&Eo(n,b)}else{const b=t.contentHooks;null!==b&&Co(n,b,1),_a(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)yo(~u);else{const c=u,h=s[++a],_=s[++a];Ol(h,c),_(2,n[c])}}}finally{yo(-1)}}(t,n);const _=t.components;null!==_&&function(t,n){for(let s=0;s<n.length;s++)VI(t,n[s])}(n,_);const v=t.viewQuery;if(null!==v&&Bn(2,v,a),!c)if(h){const b=t.viewCheckHooks;null!==b&&Eo(n,b)}else{const b=t.viewHooks;null!==b&&Co(n,b,2),_a(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,yc(n[3],-1))}finally{Nl()}}function DI(t,n,s,a){const u=n[10],c=!Ml(),h=vg(n);try{c&&!h&&u.begin&&u.begin(),h&&vu(t,n,a),Eu(t,n,s,a)}finally{c&&!h&&u.end&&u.end()}}function fE(t,n,s,a,u){const c=Jn(),h=2&a;try{yo(-1),h&&n.length>20&&oh(t,n,20,Ml()),s(a,u)}finally{yo(c)}}function ym(t,n,s){!Sf()||(function(t,n,s,a){const u=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||Ds(s,n),Nn(a,n);const h=s.initialInputs;for(let _=u;_<c;_++){const v=t.data[_],b=dr(v);b&&CE(n,s,v);const w=qi(n,t,_,s);Nn(w,n),null!==h&&NI(0,_-u,w,v,0,h),b&&(Qn(s.index,n)[8]=w)}}(t,n,s,ir(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,u=s.directiveEnd,h=s.index,_=Qe.lFrame.currentDirectiveIndex;try{yo(h);for(let v=a;v<u;v++){const b=t.data[v],w=n[v];wc(v),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&vE(b,w)}}finally{yo(-1),wc(_)}}(t,n,s))}function cd(t,n,s=ir){const a=n.localNames;if(null!==a){let u=n.index+1;for(let c=0;c<a.length;c+=2){const h=a[c+1],_=-1===h?s(n,t):t[h];t[u++]=_}}}function pE(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function dd(t,n,s,a,u,c,h,_,v,b){const w=20+a,M=w+u,x=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:tt);return s}(w,M),z="function"==typeof b?b():b;return x[1]={type:t,blueprint:x,template:s,queries:null,viewQuery:_,declTNode:n,data:x.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:v,consts:z,incompleteFirstPass:!1}}function mE(t,n,s,a){const u=_h(n);null===s?u.push(a):(u.push(s),t.firstCreatePass&&yh(t).push(a,u.length-1))}function _E(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,u):s[a]=[n,u]}return s}function Qr(t,n,s,a,u,c,h,_){const v=ir(n,s);let w,b=n.inputs;!_&&null!=b&&(w=b[a])?(wE(t,s,w,a,u),sn(n)&&function(t,n){const s=Qn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=h?h(u,n.value||"",a):u,on(c)?c.setProperty(v,a,u):zt(a)||(v.setProperty?v.setProperty(a,u):v[a]=u))}function vm(t,n,s,a){let u=!1;if(Sf()){const c=function(t,n,s){const a=t.directiveRegistry;let u=null;if(a)for(let c=0;c<a.length;c++){const h=a[c];hu(s,h.selectors,!1)&&(u||(u=[]),Yi(Ds(s,n),t,h.type),dr(h)?(Cm(t,s),u.unshift(h)):u.push(h))}return u}(t,n,s),h=null===a?null:{"":-1};if(null!==c){u=!0,bm(s,t.data.length,c.length);for(let w=0;w<c.length;w++){const M=c[w];M.providersResolver&&M.providersResolver(M)}let _=!1,v=!1,b=Bs(t,n,c.length,null);for(let w=0;w<c.length;w++){const M=c[w];s.mergedAttrs=jl(s.mergedAttrs,M.hostAttrs),Im(t,s,n,b,M),EE(b,M,h),null!==M.contentQueries&&(s.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=128);const x=M.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),_=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),v=!0),b++}!function(t,n){const a=n.directiveEnd,u=t.data,c=n.attrs,h=[];let _=null,v=null;for(let b=n.directiveStart;b<a;b++){const w=u[b],M=w.inputs,x=null===c||Jv(n)?null:kI(M,c);h.push(x),_=_E(M,b,_),v=_E(w.outputs,b,v)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=16),_.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=_,n.outputs=v}(t,s)}h&&function(t,n,s){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const c=s[n[u+1]];if(null==c)throw new de("301",`Export of name '${n[u+1]}' not found!`);a.push(n[u],c)}}}(s,a,h)}return s.mergedAttrs=jl(s.mergedAttrs,s.attrs),u}function Em(t,n,s,a,u,c){const h=c.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const v=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(_)!=v&&_.push(v),_.push(a,u,h)}}function vE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Cm(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function EE(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;dr(n)&&(s[""]=t)}}function bm(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Im(t,n,s,a,u){t.data[a]=u;const c=u.factory||(u.factory=Mr(u.type)),h=new Ll(c,dr(u),null);t.blueprint[a]=h,s[a]=h,Em(t,n,0,a,Bs(t,s,u.hostVars,tt),u)}function CE(t,n,s){const a=ir(n,t),u=pE(s),c=t[10],h=Hs(t,yu(t,u,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=h}function ds(t,n,s,a,u,c){const h=ir(t,n);!function(t,n,s,a,u,c,h){if(null==c)on(t)?t.removeAttribute(n,u,s):n.removeAttribute(u);else{const _=null==h?ue(c):h(c,a||"",u);on(t)?t.setAttribute(n,u,_,s):s?n.setAttributeNS(s,u,_):n.setAttribute(u,_)}}(n[11],h,c,t.value,s,a,u)}function NI(t,n,s,a,u,c){const h=c[n];if(null!==h){const _=a.setInput;for(let v=0;v<h.length;){const b=h[v++],w=h[v++],M=h[v++];null!==_?a.setInput(s,M,b,w):s[w]=M}}}function kI(t,n){let s=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return s}function gh(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function VI(t,n){const s=Qn(n,t);if(Al(s)){const a=s[1];80&s[2]?Eu(a,s,a.template,s[8]):s[5]>0&&gd(s)}}function gd(t){for(let a=vt(t);null!==a;a=Jg(a))for(let u=10;u<a.length;u++){const c=a[u];if(1024&c[2]){const h=c[1];Eu(h,c,h.template,c[8])}else c[5]>0&&gd(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Qn(s[a],t);Al(u)&&u[5]>0&&gd(u)}}function bE(t,n){const s=Qn(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),vu(a,s,s[8])}function Hs(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Dm(t){for(;t;){t[2]|=64;const n=rd(t);if(un(t)&&!n)return t;t=n}return null}function Am(t,n,s){const a=n[10];a.begin&&a.begin();try{Eu(t,n,t.template,s)}catch(u){throw IE(n,u),u}finally{a.end&&a.end()}}function Sm(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Xc(s),u=a[1];DI(u,a,u.template,s)}}(t[8])}function Bn(t,n,s){ma(0),n(t,s)}const mh=(()=>Promise.resolve(null))();function _h(t){return t[7]||(t[7]=[])}function yh(t){return t.cleanup||(t.cleanup=[])}function IE(t,n){const s=t[9],a=s?s.get(cu,null):null;a&&a.handleError(n)}function wE(t,n,s,a,u){for(let c=0;c<s.length;){const h=s[c++],_=s[c++],v=n[h],b=t.data[h];null!==b.setInput?b.setInput(v,u,a,_):v[_]=u}}function Oi(t,n,s){const a=da(n,t);!function(t,n,s){on(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function vh(t,n,s){let a=s?t.styles:null,u=s?t.classes:null,c=0;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?c=_:1==c?u=R(u,_):2==c&&(a=R(a,_+": "+n[++h]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const Ha=new Wt("INJECTOR",-1);class Eh{get(n,s=Ji){if(s===Ji){const a=new Error(`NullInjectorError: No provider for ${P(n)}!`);throw a.name="NullInjectorError",a}return s}}const Ch=new Wt("Set Injector scope."),Ri={},TE={};let Mm;function AE(){return void 0===Mm&&(Mm=new Eh),Mm}function Om(t,n=null,s=null,a){return new zI(t,s,n||AE(),a)}class zI{constructor(n,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Pn(s,_=>this.processProvider(_,n,s)),Pn([n],_=>this.processInjectorType(_,[],c)),this.records.set(Ha,Cu(void 0,this));const h=this.records.get(Ch);this.scope=null!=h?h.value:null,this.source=u||("object"==typeof n?null:P(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Ji,a=Ue.Default){this.assertNotDestroyed();const u=Ns(this),c=zn(void 0);try{if(!(a&Ue.SkipSelf)){let _=this.records.get(n);if(void 0===_){const v=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Wt)&&qt(n);_=v&&this.injectableDefInScope(v)?Cu(Rm(n),Ri):null,this.records.set(n,_)}if(null!=_)return this.hydrate(n,_)}return(a&Ue.Self?AE():this.parent).get(n,s=a&Ue.Optional&&s===Ji?null:s)}catch(h){if("NullInjectorError"===h.name){if((h[Xi]=h[Xi]||[]).unshift(P(n)),u)throw h;return Mo(h,n,"R3InjectorError",this.source)}throw h}finally{zn(c),Ns(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(P(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=O(n)))return!1;let u=wr(n);const c=null==u&&n.ngModule||void 0,h=void 0===c?n:c,_=-1!==a.indexOf(h);if(void 0!==c&&(u=wr(c)),null==u)return!1;if(null!=u.imports&&!_){let w;a.push(h);try{Pn(u.imports,M=>{this.processInjectorType(M,s,a)&&(void 0===w&&(w=[]),w.push(M))})}finally{}if(void 0!==w)for(let M=0;M<w.length;M++){const{ngModule:x,providers:z}=w[M];Pn(z,Z=>this.processProvider(Z,x,z||K))}}this.injectorDefTypes.add(h);const v=Mr(h)||(()=>new h);this.records.set(h,Cu(v,Ri));const b=u.providers;if(null!=b&&!_){const w=n;Pn(b,M=>this.processProvider(M,w,b))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let u=bu(n=O(n))?n:O(n&&n.provide);const c=OE(t=n)?Cu(void 0,t.useValue):Cu(ME(t),Ri);var t;if(bu(n)||!0!==n.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Cu(void 0,Ri,!0),h.factory=()=>mr(h.multi),this.records.set(u,h)),u=n,h.multi.push(n)}this.records.set(u,c)}hydrate(n,s){return s.value===Ri&&(s.value=TE,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=O(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Rm(t){const n=qt(t),s=null!==n?n.factory:Mr(t);if(null!==s)return s;if(t instanceof Wt)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=Rs(n,"?");throw new Error(`Can't resolve all parameters for ${P(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[si]||t[oi]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function ME(t,n,s){let a;if(bu(t)){const u=O(t);return Mr(u)||Rm(u)}if(OE(t))a=()=>O(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...mr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>fn(O(t.useExisting));else{const u=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Mr(u)||Rm(u);a=()=>new u(...mr(t.deps))}return a}function Cu(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function OE(t){return null!==t&&"object"==typeof t&&Aa in t}function bu(t){return"function"==typeof t}const Pm=function(t,n,s){return function(t,n=null,s=null,a){const u=Om(t,n,s,a);return u._resolveInjectorDefTypes(),u}({name:s},n,t,s)};class Jt{static create(n,s){return Array.isArray(n)?Pm(n,s,""):Pm(n.providers,n.parent,n.name||"")}}function jm(t,n){kl(Xc(t)[1],cn())}function Ih(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let u;if(dr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(s){a.push(u);const h=t;h.inputs=Bm(t.inputs),h.declaredInputs=Bm(t.declaredInputs),h.outputs=Bm(t.outputs);const _=u.hostBindings;_&&$E(t,_);const v=u.viewQuery,b=u.contentQueries;if(v&&rw(t,v),b&&iw(t,b),j(t.inputs,u.inputs),j(t.declaredInputs,u.declaredInputs),j(t.outputs,u.outputs),dr(u)&&u.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let h=0;h<c.length;h++){const _=c[h];_&&_.ngInherit&&_(t),_===Ih&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=jl(u.hostAttrs,s=jl(s,u.hostAttrs))}}(a)}function Bm(t){return t===Bt?{}:t===K?[]:t}function rw(t,n){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{n(a,u),s(a,u)}:n}function iw(t,n){const s=t.contentQueries;t.contentQueries=s?(a,u,c)=>{n(a,u,c),s(a,u,c)}:n}function $E(t,n){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{n(a,u),s(a,u)}:n}Jt.THROW_IF_NOT_FOUND=Ji,Jt.NULL=new Eh,Jt.\u0275prov=kt({token:Jt,providedIn:"any",factory:()=>fn(Ha)}),Jt.__NG_ELEMENT_ID__=-1;let Dh=null;function fs(){if(!Dh){const t=Lt.Symbol;if(t&&t.iterator)Dh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Dh=a)}}}return Dh}function Gs(t){return!!Ah(t)&&(Array.isArray(t)||!(t instanceof Map)&&fs()in t)}function Ah(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function tr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Mh(t,n,s,a){const u=De();return tr(u,ui(),n)&&(wt(),ds(bn(),u,t,n,s,a)),Mh}function QE(t,n,s,a,u,c,h,_){const v=De(),b=wt(),w=t+20,M=b.firstCreatePass?function(t,n,s,a,u,c,h,_,v){const b=n.consts,w=cs(n,t,4,h||null,bi(b,_));vm(n,s,w,bi(b,v)),kl(n,w);const M=w.tViews=dd(2,w,a,u,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,b);return null!==n.queries&&(n.queries.template(n,w),M.queries=n.queries.embeddedTView(w)),w}(w,b,v,n,s,a,u,c,h):b.data[w];Rr(M,!1);const x=v[11].createComment("");Va(b,v,x,M),Nn(x,v),Hs(v,v[w]=gh(x,v,x,M)),zi(M)&&ym(b,v,M),null!=h&&cd(v,M,_)}function JE(t){return function(t,n){return t[n]}(Qe.lFrame.contextLView,20+t)}function ki(t,n=Ue.Default){const s=De();return null===s?fn(t,n):Wl(cn(),s,O(t),n)}function Za(t,n,s){const a=De();return tr(a,ui(),n)&&Qr(wt(),bn(),a,t,n,a[11],s,!1),Za}function Xm(t,n,s,a,u){const h=u?"class":"style";wE(t,s,n.inputs[h],h,a)}function kh(t,n,s,a){const u=De(),c=wt(),h=20+t,_=u[11],v=u[h]=mi(_,n,Qe.lFrame.currentNamespace),b=c.firstCreatePass?function(t,n,s,a,u,c,h){const _=n.consts,b=cs(n,t,2,u,bi(_,c));return vm(n,s,b,bi(_,h)),null!==b.attrs&&vh(b,b.attrs,!1),null!==b.mergedAttrs&&vh(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(h,c,u,0,n,s,a):c.data[h];Rr(b,!0);const w=b.mergedAttrs;null!==w&&ws(_,v,w);const M=b.classes;null!==M&&fu(_,v,M);const x=b.styles;null!==x&&qv(_,v,x),64!=(64&b.flags)&&Va(c,u,v,b),0===Qe.lFrame.elementDepthCount&&Nn(v,u),Qe.lFrame.elementDepthCount++,zi(b)&&(ym(c,u,b),function(t,n,s){if(Rt(n)){const u=n.directiveEnd;for(let c=n.directiveStart;c<u;c++){const h=t.data[c];h.contentQueries&&h.contentQueries(1,s[c],c)}}}(c,b,u)),null!==a&&cd(u,b)}function e_(){let t=cn();Sl()?mo():(t=t.parent,Rr(t,!1));const n=t;Qe.lFrame.elementDepthCount--;const s=wt();s.firstCreatePass&&(kl(s,t),Rt(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Xm(s,n,De(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Xm(s,n,De(),n.stylesWithoutHost,!1)}function uC(t,n,s,a){kh(t,n,s,a),e_()}function Ed(){return De()}function Lh(t){return!!t&&"function"==typeof t.then}function Fi(t){return!!t&&"function"==typeof t.subscribe}const Pu=Fi;function Jr(t,n,s,a){const u=De(),c=wt(),h=cn();return function(t,n,s,a,u,c,h,_){const v=zi(a),w=t.firstCreatePass&&yh(t),M=n[8],x=_h(n);let z=!0;if(3&a.type||_){const ae=ir(a,n),Oe=_?_(ae):ae,Ie=x.length,We=_?nt=>_(en(nt[a.index])):a.index;if(on(s)){let nt=null;if(!_&&v&&(nt=function(t,n,s,a){const u=t.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const h=u[c];if(h===s&&u[c+1]===a){const _=n[7],v=u[c+2];return _.length>v?_[v]:null}"string"==typeof h&&(c+=2)}return null}(t,n,u,a.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=c,nt.__ngLastListenerFn__=c,z=!1;else{c=Cd(a,n,M,c,!1);const Nt=s.listen(Oe,u,c);x.push(c,Nt),w&&w.push(u,We,Ie,Ie+1)}}else c=Cd(a,n,M,c,!0),Oe.addEventListener(u,c,h),x.push(c),w&&w.push(u,We,Ie,h)}else c=Cd(a,n,M,c,!1);const Z=a.outputs;let _e;if(z&&null!==Z&&(_e=Z[u])){const ae=_e.length;if(ae)for(let Oe=0;Oe<ae;Oe+=2){const rr=n[_e[Oe]][_e[Oe+1]].subscribe(c),ys=x.length;x.push(c,rr),w&&w.push(u,a.index,ys,-(ys+1))}}}(c,u,u[11],h,t,n,!!s,a),Jr}function Vh(t,n,s,a){try{return!1!==s(a)}catch(u){return IE(t,u),!1}}function Cd(t,n,s,a,u){return function c(h){if(h===Function)return a;const _=2&t.flags?Qn(t.index,n):n;0==(32&n[2])&&Dm(_);let v=Vh(n,0,a,h),b=c.__ngNextListenerFn__;for(;b;)v=Vh(n,0,b,h)&&v,b=b.__ngNextListenerFn__;return u&&!1===v&&(h.preventDefault(),h.returnValue=!1),v}}function hC(t=1){return function(t){return(Qe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,Qe.lFrame.contextLView))[8]}(t)}function pC(t,n){let s=null;const a=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let u=0;u<n.length;u++){const c=n[u];if("*"!==c){if(null===a?hu(t,c,!0):pu(a,c))return u}else s=u}return s}function t_(t){const n=De()[16][6];if(!n.projection){const a=n.projection=Rs(t?t.length:1,null),u=a.slice();let c=n.child;for(;null!==c;){const h=t?pC(c,t):0;null!==h&&(u[h]?u[h].projectionNext=c:a[h]=c,u[h]=c),c=c.next}}}function n_(t,n=0,s){const a=De(),u=wt(),c=cs(u,20+t,16,null,s||null);null===c.projection&&(c.projection=n),mo(),64!=(64&c.flags)&&function(t,n,s){im(n[11],0,n,s,Wv(t,s,n),Uo(s.parent||n[6],s,n))}(u,a,c)}function ku(t,n,s,a,u){const c=t[s+1],h=null===n;let _=a?Mi(c):Vs(c),v=!1;for(;0!==_&&(!1===v||h);){const w=t[_+1];ct(t[_],n)&&(v=!0,t[_+1]=a?Ua(w):lm(w)),_=a?Mi(w):Vs(w)}v&&(t[s+1]=a?lm(c):Ua(c))}function ct(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xs(t,n)>=0}function tl(t,n){return function(t,n,s,a){const u=De(),c=wt(),h=function(t){const n=Qe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);c.firstUpdatePass&&function(t,n,s,a){const u=t.data;if(null===u[s+1]){const c=u[Jn()],h=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(c,a)&&null===n&&!h&&(n=!1),n=function(t,n,s,a){const u=function(t){const n=Qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let c=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(s=Zo(s=l_(null,t,n,s,a),n.attrs,a),c=null);else{const h=n.directiveStylingLast;if(-1===h||t[h]!==u)if(s=l_(u,t,n,s,a),null===c){let v=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Vs(a))return t[Mi(a)]}(t,n,a);void 0!==v&&Array.isArray(v)&&(v=l_(null,t,n,v[1],a),v=Zo(v,n.attrs,a),function(t,n,s,a){t[Mi(s?n.classBindings:n.styleBindings)]=a}(t,n,a,v))}else c=function(t,n,s){let a;const u=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<u;c++)a=Zo(a,t[c].hostAttrs,s);return Zo(a,n.attrs,s)}(t,n,a)}return void 0!==c&&(a?n.residualClasses=c:n.residualStyles=c),s}(u,c,n,a),function(t,n,s,a,u,c){let h=c?n.classBindings:n.styleBindings,_=Mi(h),v=Vs(h);t[a]=s;let w,b=!1;if(Array.isArray(s)){const M=s;w=M[1],(null===w||xs(M,w)>0)&&(b=!0)}else w=s;if(u)if(0!==v){const x=Mi(t[_+1]);t[a+1]=gu(x,_),0!==x&&(t[x+1]=um(t[x+1],a)),t[_+1]=function(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=gu(_,0),0!==_&&(t[_+1]=um(t[_+1],a)),_=a;else t[a+1]=gu(v,0),0===_?_=a:t[v+1]=um(t[v+1],a),v=a;b&&(t[a+1]=lm(t[a+1])),ku(t,w,a,!0),ku(t,w,a,!1),function(t,n,s,a,u){const c=u?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&xs(c,n)>=0&&(s[a+1]=Ua(s[a+1]))}(n,w,t,a,c),h=gu(_,v),c?n.classBindings=h:n.styleBindings=h}(u,c,n,s,h,a)}}(c,t,h,a),n!==tt&&tr(u,h,n)&&function(t,n,s,a,u,c,h,_){if(!(3&n.type))return;const v=t.data,b=v[_+1];Ys(function(t){return 1==(1&t)}(b)?Id(v,n,s,u,Vs(b),h):void 0)||(Ys(c)||function(t){return 2==(2&t)}(b)&&(c=Id(v,null,s,u,_,h)),function(t,n,s,a,u){const c=on(t);if(n)u?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let h=-1===a.indexOf("-")?void 0:ls.DashCase;if(null==u)c?t.removeStyle(s,a,h):s.style.removeProperty(a);else{const _="string"==typeof u&&u.endsWith("!important");_&&(u=u.slice(0,-10),h|=ls.Important),c?t.setStyle(s,a,u,h):s.style.setProperty(a,u,_?"important":"")}}}(a,h,da(Jn(),s),u,c))}(c,c.data[Jn()],u,u[11],t,u[h+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=P(p(t)))),t}(n,s),a,h)}(t,n,null,!0),tl}function l_(t,n,s,a,u){let c=null;const h=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<h&&(c=n[_],a=Zo(a,c.hostAttrs,u),c!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function Zo(t,n,s){const a=s?1:2;let u=-1;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?u=h:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gr(t,h,!!s||n[++c]))}return void 0===t?null:t}function Id(t,n,s,a,u,c){const h=null===n;let _;for(;u>0;){const v=t[u],b=Array.isArray(v),w=b?v[1]:v,M=null===w;let x=s[u+1];x===tt&&(x=M?K:void 0);let z=M?$f(x,a):w===a?x:void 0;if(b&&!Ys(z)&&(z=$f(v,a)),Ys(z)&&(_=z,h))return _;const Z=t[u+1];u=h?Mi(Z):Vs(Z)}if(null!==n){let v=c?n.residualClasses:n.residualStyles;null!=v&&(_=$f(v,a))}return _}function Ys(t){return void 0!==t}function MC(t,n=""){const s=De(),a=wt(),u=t+20,c=a.firstCreatePass?cs(a,u,1,n,null):a.data[u],h=s[u]=function(t,n){return on(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Va(a,s,h,c),Rr(c,!1)}function d_(t){return wd("",t,""),d_}function wd(t,n,s){const a=De(),u=function(t,n,s,a){return tr(t,ui(),s)?n+ue(s)+a:tt}(a,t,n,s);return u!==tt&&Oi(a,Jn(),u),wd}function Jh(t,n,s){const a=De();return tr(a,ui(),n)&&Qr(wt(),bn(),a,t,n,a[11],s,!0),Jh}const sl=void 0;var Pw=["en",[["a","p"],["AM","PM"],sl],[["AM","PM"],sl,sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sl,"{1} 'at' {0}",sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Uu={};function g_(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=__(n);if(s)return s;const a=n.split("-")[0];if(s=__(a),s)return s;if("en"===a)return Pw;throw new Error(`Missing locale data for the locale "${t}".`)}function m_(t){return g_(t)[qe.PluralCase]}function __(t){return t in Uu||(Uu[t]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[t]),Uu[t]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const Xh="en-US";let tp=Xh;function np(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(tp=t.toLowerCase().replace(/_/g,"-"))}function R_(t,n,s,a,u){if(t=O(t),Array.isArray(t))for(let c=0;c<t.length;c++)R_(t[c],n,s,a,u);else{const c=wt(),h=De();let _=bu(t)?t:O(t.provide),v=ME(t);const b=cn(),w=1048575&b.providerIndexes,M=b.directiveStart,x=b.providerIndexes>>20;if(bu(t)||!t.multi){const z=new Ll(v,u,ki),Z=Vd(_,n,u?w:w+x,M);-1===Z?(Yi(Ds(b,h),c,_),fp(c,t,n.length),n.push(_),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(z),h.push(z)):(s[Z]=z,h[Z]=z)}else{const z=Vd(_,n,w+x,M),Z=Vd(_,n,w,w+x),_e=z>=0&&s[z],ae=Z>=0&&s[Z];if(u&&!ae||!u&&!_e){Yi(Ds(b,h),c,_);const Oe=function(t,n,s,a,u){const c=new Ll(t,s,ki);return c.multi=[],c.index=n,c.componentProviders=0,hp(c,u,a&&!s),c}(u?pp:x_,s.length,u,a,v);!u&&ae&&(s[Z].providerFactory=Oe),fp(c,t,n.length,0),n.push(_),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(Oe),h.push(Oe)}else fp(c,t,z>-1?z:Z,hp(s[u?Z:z],v,!u&&a));!u&&a&&ae&&s[Z].componentProviders++}}}function fp(t,n,s,a){const u=bu(n);if(u||function(t){return!!t.useClass}(n)){const h=(n.useClass||n).prototype.ngOnDestroy;if(h){const _=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const v=_.indexOf(s);-1===v?_.push(s,[a,h]):_[v+1].push(a,h)}else _.push(s,h)}}}function hp(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Vd(t,n,s,a){for(let u=s;u<a;u++)if(n[u]===t)return u;return-1}function x_(t,n,s,a){return Qs(this.multi,[])}function pp(t,n,s,a){const u=this.multi;let c;if(this.providerFactory){const h=this.providerFactory.componentProviders,_=qi(s,s[1],this.providerFactory.index,a);c=_.slice(0,h),Qs(u,c);for(let v=h;v<_.length;v++)c.push(_[v])}else c=[],Qs(u,c);return c}function Qs(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function N_(t,n=[]){return s=>{s.providersResolver=(a,u)=>function(t,n,s){const a=wt();if(a.firstCreatePass){const u=dr(t);R_(s,a.data,a.blueprint,u,!0),R_(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class Ud{}const ib="ngComponent";class F_{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return n[ib]=t,n}(n)}}class ol{}function Wu(...t){}function al(t,n){return new Br(ir(t,n))}ol.NULL=new F_;const hs=function(){return al(cn(),De())};let Br=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=hs,t})();function sb(t){return t instanceof Br?t.nativeElement:t}class Gu{}let jd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ps(),t})();const ps=function(){const t=De(),s=Qn(cn().index,t);return function(t){return t[11]}(Vt(s)?s:t)};let zu=(()=>{class t{}return t.\u0275prov=kt({token:t,providedIn:"root",factory:()=>null}),t})();class yp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Hr=new yp("12.2.4");class U_{constructor(){}supports(n){return Gs(n)}create(n){return new lD(n)}}const oD=(t,n)=>n;class lD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||oD}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,u=0,c=null;for(;s||a;){const h=!a||s&&s.currentIndex<Ku(a,u,c)?s:a,_=Ku(h,u,c),v=h.currentIndex;if(h===a)u--,a=a._nextRemoved;else if(s=s._next,null==h.previousIndex)u++;else{c||(c=[]);const b=_-u,w=v-u;if(b!=w){for(let x=0;x<b;x++){const z=x<c.length?c[x]:c[x]=0,Z=z+x;w<=Z&&Z<b&&(c[x]=z+1)}c[h.previousIndex]=w-b}}_!==v&&n(h,_,v)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Gs(n))throw new Error(`Error trying to diff '${P(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,c,h,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)c=n[_],h=this._trackByFn(_,c),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,c,h,_)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,h,_),a=!0),s=s._next}else u=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[fs()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,_=>{h=this._trackByFn(u,_),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,_,h,u)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,h,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,u){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,u)):n=this._addAfter(new uD(s,a),c,u),n}_verifyReinsertion(n,s,a,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,c=n._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new j_),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class uD{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class j_{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new cD,this.map.set(s,a)),a.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ku(t,n,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+n+u}class B_{constructor(){}supports(n){return n instanceof Map||Ah(n)}create(){return new ab}}class ab{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Ah(n)))throw new Error(`Error trying to diff '${P(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const c=u._prev,h=u._next;return c&&(c._next=h),h&&(h._prev=c),u._next=null,u._prev=null,u}const a=new dD(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class dD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vp(){return new ll([new U_])}let ll=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||vp()),deps:[[t,new _r,new xr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=kt({token:t,providedIn:"root",factory:vp}),t})();function Ep(){return new Cp([new B_])}let Cp=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Ep()),deps:[[t,new _r,new xr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=kt({token:t,providedIn:"root",factory:Ep}),t})();function bp(t,n,s,a,u=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(en(c)),Zt(c))for(let _=10;_<c.length;_++){const v=c[_],b=v[1].firstChild;null!==b&&bp(v[1],v,b,a)}const h=s.type;if(8&h)bp(t,n,s.child,a);else if(32&h){const _=th(s,n);let v;for(;v=_();)a.push(v)}else if(16&h){const _=rm(n,s);if(Array.isArray(_))a.push(..._);else{const v=rd(n[16]);bp(v[1],v,_,a,!0)}}s=u?s.projectionNext:s.next}return a}class Bd{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return bp(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Zt(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(em(n,a),Qi(s,a))}this._attachedToViewContainer=!1}tm(this._lView[1],this._lView)}onDestroy(n){mE(this._lView[1],this._lView,null,n)}markForCheck(){Dm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Am(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){_o(!0);try{Am(t,n,s)}finally{_o(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Bo(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class lb extends Bd{constructor(n){super(n),this._view=n}detectChanges(){Sm(this._view)}checkNoChanges(){!function(t){_o(!0);try{Sm(t)}finally{_o(!1)}}(this._view)}get context(){return null}}const pD=function(t){return function(t,n,s){if(sn(t)&&!s){const a=Qn(t.index,n);return new Bd(a,a)}return 47&t.type?new Bd(n[16],n):null}(cn(),De(),16==(16&t))};let H_=(()=>{class t{}return t.__NG_ELEMENT_ID__=pD,t})();const Yu=[new B_],mD=new ll([new U_]),$_=new Cp(Yu),qu=function(){return ul(cn(),De())};let Hd=(()=>{class t{}return t.__NG_ELEMENT_ID__=qu,t})();const cb=Hd,db=class extends cb{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=yu(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),vu(s,a,n),new Bd(a)}};function ul(t,n){return 4&t.type?new db(n,t,al(t,n)):null}class Js{}class wp{}const W_=function(){return $d(cn(),De())};let Dp=(()=>{class t{}return t.__NG_ELEMENT_ID__=W_,t})();const pb=Dp,G_=class extends pb{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const n=sr(this._hostTNode,this._hostLView);if(Hl(n)){const s=ya(n,this._hostLView),a=Di(n);return new di(s[1].data[a+8],s)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=gb(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const u=n.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(n,s,a,u,c){const h=a||this.parentInjector;if(!c&&null==n.ngModule&&h){const v=h.get(Js,null);v&&(c=v)}const _=n.create(h,u,void 0,c);return this.insert(_.hostView,s),_}insert(n,s){const a=n._lView,u=a[1];if(Zt(a[3])){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const M=a[3],x=new G_(M,M[6],M[3]);x.detach(x.indexOf(n))}}const c=this._adjustIndex(s),h=this._lContainer;!function(t,n,s,a){const u=10+a,c=s.length;a>0&&(s[u-1][4]=n),a<c-10?(n[4]=s[u],ba(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const h=n[17];null!==h&&s!==h&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(h,n);const _=n[19];null!==_&&_.insertView(t),n[2]|=128}(u,a,h,c);const _=du(c,h),v=a[11],b=Vo(v,h[7]);return null!==b&&function(t,n,s,a,u,c){a[0]=u,a[6]=n,Bo(t,a,s,1,u,c)}(u,h[6],v,a,b,_),n.attachToViewContainerRef(),ba(Er(h),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=gb(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=em(this._lContainer,s);a&&(Qi(Er(this._lContainer),s),tm(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=em(this._lContainer,s);return a&&null!=Qi(Er(this._lContainer),s)?new Bd(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function gb(t){return t[8]}function Er(t){return t[8]||(t[8]=[])}function $d(t,n){let s;const a=n[t.index];if(Zt(a))s=a;else{let u;if(8&t.type)u=en(a);else{const c=n[11];u=c.createComment("");const h=ir(t,n);Fo(c,Vo(c,h),u,function(t,n){return on(t)?t.nextSibling(n):n.nextSibling}(c,h),!1)}n[t.index]=s=gh(a,n,u,t),Hs(n,s)}return new G_(s,t,n)}const Jd={};class ZD extends ol{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Sn(n);return new Rb(s,this.ngModule)}}function QD(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const XD=new Wt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nv});class Rb extends Ud{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(EI).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return QD(this.componentDef.inputs)}get outputs(){return QD(this.componentDef.outputs)}create(n,s,a,u){const c=(u=u||this.ngModule)?function(t,n){return{get:(s,a,u)=>{const c=t.get(s,Jd,u);return c!==Jd||a===Jd?c:n.get(s,a,u)}}}(n,u.injector):n,h=c.get(Gu,Ki),_=c.get(zu,null),v=h.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=a?function(t,n,s){if(on(t))return t.selectRootElement(n,s===Pe.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(v,a,this.componentDef.encapsulation):mi(h.createRenderer(null,this.componentDef),b,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(b)),M=this.componentDef.onPush?576:528,x=function(t,n){return{components:[],scheduler:t||Nv,clean:mh,playerHandler:n||null,flags:0}}(),z=dd(0,null,null,1,0,null,null,null,null,null),Z=yu(null,z,x,M,null,null,h,v,_,c);let _e,ae;Pl(Z);try{const Oe=function(t,n,s,a,u,c){const h=s[1];s[20]=t;const v=cs(h,20,2,"#host",null),b=v.mergedAttrs=n.hostAttrs;null!==b&&(vh(v,b,!0),null!==t&&(ws(u,t,b),null!==v.classes&&fu(u,t,v.classes),null!==v.styles&&qv(u,t,v.styles)));const w=a.createRenderer(t,n),M=yu(s,pE(n),null,n.onPush?64:16,s[20],v,a,w,c||null,null);return h.firstCreatePass&&(Yi(Ds(v,s),h,n.type),Cm(h,v),bm(v,s.length,1)),Hs(s,M),s[20]=M}(w,this.componentDef,Z,h,v);if(w)if(a)ws(v,w,["ng-version",Hr.full]);else{const{attrs:Ie,classes:We}=function(t){const n=[],s=[];let a=1,u=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===u?""!==c&&n.push(c,t[++a]):8===u&&s.push(c);else{if(!Zr(u))break;u=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Ie&&ws(v,w,Ie),We&&We.length>0&&fu(v,w,We.join(" "))}if(ae=fa(z,20),void 0!==s){const Ie=ae.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const nt=s[We];Ie.push(null!=nt?Array.from(nt):null)}}_e=function(t,n,s,a,u){const c=s[1],h=function(t,n,s){const a=cn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Im(t,a,n,Bs(t,n,1,null),s));const u=qi(n,t,a.directiveStart,a);Nn(u,n);const c=ir(a,n);return c&&Nn(c,n),u}(c,s,n);if(a.components.push(h),t[8]=h,u&&u.forEach(v=>v(h,n)),n.contentQueries){const v=cn();n.contentQueries(1,h,v.directiveStart)}const _=cn();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(yo(_.index),Em(s[1],_,0,_.directiveStart,_.directiveEnd,n),vE(n,h)),h}(Oe,this.componentDef,Z,x,[jm]),vu(z,Z,null)}finally{Nl()}return new tT(this.componentType,_e,al(ae,Z),Z,ae)}}class tT extends class{}{constructor(n,s,a,u,c){super(),this.location=a,this._rootLView=u,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new lb(u),this.componentType=n}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Xu=new Map;class nT extends Js{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZD(this);const a=Yn(n),u=n[xe]||null;u&&np(u),this._bootstrapComponents=as(a.bootstrap),this._r3Injector=Om(n,s,[{provide:Js,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],P(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Jt.THROW_IF_NOT_FOUND,a=Ue.Default){return n===Jt||n===Js||n===Ha?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class kp extends wp{constructor(n){super(),this.moduleType=n,null!==Yn(n)&&function(t){const n=new Set;!function s(a){const u=Yn(a,!0),c=u.id;null!==c&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${P(n)} vs ${P(n.name)}`)}(c,Xu.get(c),a),Xu.set(c,a));const h=as(u.imports);for(const _ of h)n.has(_)||(n.add(_),s(_))}(t)}(n)}create(n){return new nT(this.moduleType,n)}}function oy(t){return n=>{setTimeout(t,void 0,n)}}const ms=class extends d.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var u,c,h;let _=n,v=s||(()=>null),b=a;if(n&&"object"==typeof n){const M=n;_=null===(u=M.next)||void 0===u?void 0:u.bind(M),v=null===(c=M.error)||void 0===c?void 0:c.bind(M),b=null===(h=M.complete)||void 0===h?void 0:h.bind(M)}this.__isAsync&&(v=oy(v),_&&(_=oy(_)),b&&(b=oy(b)));const w=super.subscribe({next:_,error:v,complete:b});return n instanceof N.w&&n.add(w),w}};function pT(){return this._results[fs()]()}class Vp{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=fs(),a=Vp.prototype;a[s]||(a[s]=pT)}get changes(){return this._changes||(this._changes=new ms)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const u=Qt(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],c=n[a];if(s&&(u=s(u),c=s(c)),c!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ay{constructor(n){this.queryList=n,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let c=0;c<a;c++){const h=s.getByIndex(c);u.push(this.queries[h.indexInDeclarationView].clone())}return new ly(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==zb(n,s).matches&&this.queries[s].setDirty()}}class Bb{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class ef{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,u);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new ef(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Up{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Up(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const c=a[u];this.matchTNodeWithReadOption(n,s,jp(s,c)),this.matchTNodeWithReadOption(n,s,zl(s,n,c,!1,!1))}else a===Hd?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,zl(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Br||u===Dp||u===Hd&&4&s.type)this.addMatch(s.index,-2);else{const c=zl(s,n,u,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function jp(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function Hb(t,n,s,a){return-1===s?function(t,n){return 11&t.type?al(t,n):4&t.type?ul(t,n):null}(n,t):-2===s?function(t,n,s){return s===Br?al(n,t):s===Hd?ul(n,t):s===Dp?$d(n,t):void 0}(t,n,a):qi(t,t[1],s,n)}function cy(t,n,s,a){const u=n[19].queries[a];if(null===u.matches){const c=t.data,h=s.matches,_=[];for(let v=0;v<h.length;v+=2){const b=h[v];_.push(b<0?null:Hb(n,c[b],h[v+1],s.metadata.read))}u.matches=_}return u.matches}function Bp(t,n,s,a){const u=t.queries.getByIndex(s),c=u.matches;if(null!==c){const h=cy(t,n,u,s);for(let _=0;_<c.length;_+=2){const v=c[_];if(v>0)a.push(h[_/2]);else{const b=c[_+1],w=n[-v];for(let M=10;M<w.length;M++){const x=w[M];x[17]===x[3]&&Bp(x[1],x,b,a)}if(null!==w[9]){const M=w[9];for(let x=0;x<M.length;x++){const z=M[x];Bp(z[1],z,b,a)}}}}}return a}function Hp(t){const n=De(),s=wt(),a=xl();ma(a+1);const u=zb(s,a);if(t.dirty&&vg(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const c=u.crossesNgTemplate?Bp(s,n,a,[]):cy(s,n,u,a);t.reset(c,sb),t.notifyOnChanges()}return!0}return!1}function Wb(t,n,s,a){const u=wt();if(u.firstCreatePass){const c=cn();(function(t,n,s){null===t.queries&&(t.queries=new ef),t.queries.track(new Up(n,s))})(u,new Bb(n,s,a),c.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}!function(t,n,s){const a=new Vp(4==(4&s));mE(t,n,a,a.destroy),null===n[19]&&(n[19]=new ly),n[19].queries.push(new ay(a))}(u,De(),s)}function $p(){return t=De(),n=xl(),t[19].queries[n].queryList;var t,n}function zb(t,n){return t.queries.getByIndex(n)}const ni=new Wt("Application Initializer");let _l=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Wu,this.reject=Wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(Lh(c))s.push(c);else if(Pu(c)){const h=new Promise((_,v)=>{c.subscribe({complete:_,error:v})});s.push(h)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(fn(ni,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();const f0=new Wt("AppId"),FT={provide:f0,useFactory:function(){return`${lf()}${lf()}${lf()}`},deps:[]};function lf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iy=new Wt("Platform Initializer"),uf=new Wt("Platform ID"),cf=new Wt("appBootstrapListener");let wy=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();const Kp=new Wt("LocaleId"),nc=new Wt("DefaultCurrencyCode");class Ty{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const qp=function(t){return new kp(t)},jT=qp,ri=function(t){return Promise.resolve(qp(t))},ro=function(t){const n=qp(t),a=as(Yn(t).declarations).reduce((u,c)=>{const h=Sn(c);return h&&u.push(new Rb(h)),u},[]);return new Ty(n,a)},io=ro,HT=function(t){return Promise.resolve(ro(t))};let so=(()=>{class t{constructor(){this.compileModuleSync=jT,this.compileModuleAsync=ri,this.compileModuleAndAllComponentsSync=io,this.compileModuleAndAllComponentsAsync=HT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();const $T=(()=>Promise.resolve(0))();function Zp(t){"undefined"==typeof Zone?$T.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class lr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ms(!1),this.onMicrotaskEmpty=new ms(!1),this.onStable=new ms(!1),this.onError=new ms(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Lt.requestAnimationFrame,n=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jp(t),t.isCheckStableRunning=!0,Qp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,c,h,_)=>{try{return p0(t),s.invokeTask(u,c,h,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),g0(t)}},onInvoke:(s,a,u,c,h,_,v)=>{try{return p0(t),s.invoke(u,c,h,_,v)}finally{t.shouldCoalesceRunChangeDetection&&n(),g0(t)}},onHasTask:(s,a,u,c)=>{s.hasTask(u,c),a===u&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,Jp(t),Qp(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,u,c)=>(s.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,u){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+u,n,Sy,Wu,Wu);try{return c.runTask(h,s,a)}finally{c.cancelTask(h)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const Sy={};function Qp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function p0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function g0(t){t._nesting--,Qp(t)}class zT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ms,this.onMicrotaskEmpty=new ms,this.onStable=new ms,this.onError=new ms}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,u){return n.apply(s,a)}}let m0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lr.assertNotInAngularZone(),Zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zp(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(fn(lr))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})(),_0=(()=>{class t{constructor(){this._applications=new Map,Ry.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ry.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();class Oy{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function y0(t){Ry=t}let Ry=new Oy,xy=!0,Xp=!1;function yl(){return Xp=!0,xy}function KT(){if(Xp)throw new Error("Cannot enable prod mode after platform setup.");xy=!1}let yi;const ky=new Wt("AllowMultipleToken");class b0{constructor(n,s){this.name=n,this.token=s}}function w0(t,n,s=[]){const a=`Platform: ${n}`,u=new Wt(a);return(c=[])=>{let h=eg();if(!h||h.injector.get(ky,!1))if(t)t(s.concat(c).concat({provide:u,useValue:!0}));else{const _=s.concat(c).concat({provide:u,useValue:!0},{provide:Ch,useValue:"platform"});!function(t){if(yi&&!yi.destroyed&&!yi.injector.get(ky,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yi=t.get(tg);const n=t.get(Iy,null);n&&n.forEach(s=>s())}(Jt.create({providers:_,name:a}))}return function(t){const n=eg();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function eg(){return yi&&!yi.destroyed?yi:null}let tg=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const _=function(t,n){let s;return s="noop"===t?new zT:("zone.js"===t?void 0:t)||new lr({enableLongStackTrace:yl(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),v=[{provide:lr,useValue:_}];return _.run(()=>{const b=Jt.create({providers:v,parent:this.injector,name:s.moduleType.name}),w=s.create(b),M=w.injector.get(cu,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const x=_.onError.subscribe({next:z=>{M.handleError(z)}});w.onDestroy(()=>{Fy(this._modules,w),x.unsubscribe()})}),function(t,n,s){try{const a=s();return Lh(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(M,_,()=>{const x=w.injector.get(_l);return x.runInitializers(),x.donePromise.then(()=>(np(w.injector.get(Kp,Xh)||Xh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const u=T0({},a);return function(t,n,s){const a=new kp(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(s){const a=s.injector.get(sc);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${P(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(fn(Jt))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();function T0(t,n){return Array.isArray(n)?n.reduce(T0,t):Object.assign(Object.assign({},t),n)}let sc=(()=>{class t{constructor(s,a,u,c,h){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new Y.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new Y.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{lr.assertNotInAngularZone(),Zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),M.unsubscribe()}});this.isStable=(0,q.T)(_,v.pipe((0,$.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=s instanceof Ud?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const c=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Js),_=u.create(Jt.NULL,[],a||u.selector,c),v=_.location.nativeElement,b=_.injector.get(m0,null),w=b&&_.injector.get(_0);return b&&w&&w.registerApplication(v,b),_.onDestroy(()=>{this.detachView(_.hostView),Fy(this.components,_),w&&w.unregisterApplication(v)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Fy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(cf,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(fn(lr),fn(Jt),fn(cu),fn(ol),fn(_l))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();function Fy(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class S0{}class eA{}const tA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let R0=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||tA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,u]=s.split("#");return void 0===u&&(u="default"),D(8255)(a).then(c=>c[u]).then(c=>x0(c,a,u)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(s){let[a,u]=s.split("#"),c="NgFactory";return void 0===u&&(u="default",c=""),D(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(h=>h[u+c]).then(h=>x0(h,a,u))}}return t.\u0275fac=function(s){return new(s||t)(fn(so),fn(eA,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t})();function x0(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const cA=function(t){return null},lg=w0(null,"core",[{provide:uf,useValue:"unknown"},{provide:tg,deps:[Jt]},{provide:_0,deps:[]},{provide:wy,deps:[]}]),Hy=[{provide:sc,useClass:sc,deps:[lr,Jt,cu,ol,_l]},{provide:XD,deps:[lr],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:_l,useClass:_l,deps:[[new xr,ni]]},{provide:so,useClass:so,deps:[]},FT,{provide:ll,useFactory:function(){return mD},deps:[]},{provide:Cp,useFactory:function(){return $_},deps:[]},{provide:Kp,useFactory:function(t){return np(t=t||"undefined"!=typeof $localize&&$localize.locale||Xh),t},deps:[[new ks(Kp),new xr,new _r]]},{provide:nc,useValue:"USD"}];let F0=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(fn(sc))},t.\u0275mod=Wi({type:t}),t.\u0275inj=Gt({providers:Hy}),t})()},8939:(Q,B,D)=>{"use strict";D.d(B,{hO:()=>H,xv:()=>R,Dh:()=>P,GT:()=>k,on:()=>S,pX:()=>$});var d=D(7716),N=D(7841),Y=D(7667);Q=D.hmd(Q);const q=["ngOnDestroy"],$=(te,de,se,we={})=>new Proxy(te,{get:(ue,ye)=>se.runOutsideAngular(()=>{var Ce;if(te[ye])return(null===(Ce=null==we?void 0:we.spy)||void 0===Ce?void 0:Ce.get)&&we.spy.get(ye,te[ye]),te[ye];if(q.indexOf(ye)>-1)return()=>{};const Me=de.toPromise().then(Ne=>{const Ee=Ne&&Ne[ye];return"function"==typeof Ee?Ee.bind(Ne):Ee&&Ee.then?Ee.then(ut=>se.run(()=>ut)):se.run(()=>Ee)});return new Proxy(()=>{},{get:(Ne,Ee)=>Me[Ee],apply:(Ne,Ee,ut)=>Me.then(_t=>{var yt;const fe=_t&&_t(...ut);return(null===(yt=null==we?void 0:we.spy)||void 0===yt?void 0:yt.apply)&&we.spy.apply(ye,ut,fe),fe})})})}),k=(te,de)=>{de.forEach(se=>{Object.getOwnPropertyNames(se.prototype||se).forEach(we=>{Object.defineProperty(te.prototype,we,Object.getOwnPropertyDescriptor(se.prototype||se,we))})})};class j{constructor(de){return de}}const P=new d.OlP("angularfire2.app.options"),R=new d.OlP("angularfire2.app.name");function S(te,de,se){const ue="object"==typeof se&&se||{};ue.name=ue.name||"string"==typeof se&&se||"[DEFAULT]";const Ce=N.Z.apps.filter(Me=>Me&&Me.name===ue.name)[0]||de.runOutsideAngular(()=>N.Z.initializeApp(te,ue));try{JSON.stringify(te)!==JSON.stringify(Ce.options)&&V("error",`${Ce.name} Firebase App already initialized with different options${Q.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Me){}return new j(Ce)}const V=(te,...de)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[te](...de)},O={provide:j,useFactory:S,deps:[P,d.R0b,[new d.FiY,R]]};let H=(()=>{class te{constructor(se){N.Z.registerVersion("angularfire",Y.q4.full,"core"),N.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),N.Z.registerVersion("angular",d.q4F.full,se.toString())}static initializeApp(se,we){return{ngModule:te,providers:[{provide:P,useValue:se},{provide:R,useValue:we}]}}}return te.\u0275fac=function(se){return new(se||te)(d.LFG(d.Lbi))},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({providers:[O]}),te})()},7667:(Q,B,D)=>{"use strict";D.d(B,{q4:()=>P,iC:()=>_t,HU:()=>ye,cc:()=>V});var d=D(7716),Y=(D(2329),D(7771)),q=D(3637),$=D(3342),k=D(3101),j=D(9746);Q=D.hmd(Q);const P=new d.GfV("7.0.3"),R=!!Q.hot,S=(ie,...re)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ie](...re)};function V(ie,re,be,oe,Fe){const[,at,pt]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ie)||[];if(at)return function(ie,re){try{return ie.toString()===re.toString()}catch(be){return ie===re}}(Fe,pt)||(S("error",`${re} was already initialized on the ${be} Firebase App with different settings.${R?" You may need to reload as Firebase is not HMR aware.":""}`),S("warn",{is:Fe,was:pt})),at;{const ze=oe();return globalThis.\u0275AngularfireInstanceCache.push([ie,ze,Fe]),ze}}function se(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class we{constructor(re,be=Y.N){this.zone=re,this.delegate=be}now(){return this.delegate.now()}schedule(re,be,oe){const Fe=this.zone;return this.delegate.schedule(function(pt){Fe.runGuarded(()=>{re.apply(this,[pt])})},be,oe)}}class ue{constructor(re){this.zone=re,this.task=null}call(re,be){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",se,{},se,se)),be.pipe((0,$.b)({next:oe,complete:oe,error:oe})).subscribe(re).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ye=(()=>{class ie{constructor(be){this.ngZone=be,this.outsideAngular=be.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=be.run(()=>new we(Zone.current,q.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ie.\u0275fac=function(be){return new(be||ie)(d.LFG(d.R0b))},ie.\u0275prov=d.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function Ce(){const ie=globalThis.\u0275AngularFireScheduler;if(!ie)throw new Error("AngularFireModule has not been provided");return ie}function _t(ie){return Ce(),function(ie){return function(be){return(be=be.lift(new ue(ie.ngZone))).pipe((0,k.R)(ie.outsideAngular),(0,j.QV)(ie.insideAngular))}}(Ce())(ie)}},4486:(Q,B,D)=>{"use strict";D.d(B,{Z:()=>se});var d=D(4685),N=D(6034),Y=D(5452),q=D(300);class ${constructor(ue,ye){this._delegate=ue,this.firebase=ye,(0,Y._addComponent)(ue,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(ue,ye=Y._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ue);return!Me.isInitialized()&&"EXPLICIT"===(null===(Ce=Me.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:ye})}_removeServiceInstance(ue,ye=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(ye)}_addComponent(ue){(0,Y._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,Y._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),S=function R(){const we=function(we){const ue={},ye={__esModule:!0,initializeApp:function(yt,fe={}){const ve=Y.initializeApp(yt,fe);if((0,d.r3)(ue,ve.name))return ue[ve.name];const ie=new we(ve,ye);return ue[ve.name]=ie,ie},app:Me,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const fe=yt.name,ve=fe.replace("-compat","");if(Y._registerComponent(yt)&&"PUBLIC"===yt.type){const ie=(re=Me())=>{if("function"!=typeof re[ve])throw j.create("invalid-app-argument",{appName:fe});return re[ve]()};void 0!==yt.serviceProps&&(0,d.ZB)(ie,yt.serviceProps),ye[ve]=ie,we.prototype[ve]=function(...re){return this._getService.bind(this,fe).apply(this,yt.multipleInstances?re:[])}}return"PUBLIC"===yt.type?ye[ve]:null},removeApp:function(yt){delete ue[yt]},useAsService:function(yt,fe){return"serverAuth"===fe?null:fe},modularAPIs:Y}};function Me(yt){if(!(0,d.r3)(ue,yt=yt||Y._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:yt});return ue[yt]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(ue).map(yt=>ue[yt])}}),Me.App=we,ye}($);return we.INTERNAL=Object.assign(Object.assign({},we.INTERNAL),{createFirebaseNamespace:R,extendNamespace:function(ye){(0,d.ZB)(we,ye)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),we}(),V=new q.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const de=S;(0,Y.registerVersion)("@firebase/app-compat","0.1.1",undefined);const se=de},5452:(Q,B,D)=>{"use strict";D.r(B),D.d(B,{FirebaseError:()=>q.ZR,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Yt,_apps:()=>st,_clearComponents:()=>Gt,_components:()=>Je,_getProvider:()=>kt,_registerComponent:()=>Ot,_removeServiceInstance:()=>$r,deleteApp:()=>oi,getApp:()=>si,getApps:()=>Gn,initializeApp:()=>wr,onLog:()=>_n,registerVersion:()=>Ue,setLogLevel:()=>Vn});var d=D(8239),N=D(6034),Y=D(300),q=D(4685);class ${constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function(Xe){const He=Xe.getComponent();return"VERSION"===(null==He?void 0:He.type)}(Ct)){const gt=Ct.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ct=>Ct).join(" ")}}const j="@firebase/app",R=new Y.Yd("@firebase/app"),pt="[DEFAULT]",ze={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,Je=new Map;function ln(Xe,He){try{Xe.container.addComponent(He)}catch(Ct){R.debug(`Component ${He.name} failed to register with FirebaseApp ${Xe.name}`,Ct)}}function Yt(Xe,He){Xe.container.addOrOverwriteComponent(He)}function Ot(Xe){const He=Xe.name;if(Je.has(He))return R.debug(`There were multiple attempts to register component ${He}.`),!1;Je.set(He,Xe);for(const Ct of st.values())ln(Ct,Xe);return!0}function kt(Xe,He){return Xe.container.getProvider(He)}function $r(Xe,He,Ct=pt){kt(Xe,He).clearInstance(Ct)}function Gt(){Je.clear()}const Wn=new q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $i{constructor(He,Ct,gt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const vi="9.0.0";function wr(Xe,He={}){"object"!=typeof He&&(He={name:He});const Ct=Object.assign({name:pt,automaticDataCollectionEnabled:!1},He),gt=Ct.name;if("string"!=typeof gt||!gt)throw Wn.create("bad-app-name",{appName:String(gt)});const Tn=st.get(gt);if(Tn){if((0,q.vZ)(Xe,Tn.options)&&(0,q.vZ)(Ct,Tn.config))return Tn;throw Wn.create("duplicate-app",{appName:gt})}const bt=new N.H0(gt);for(const Ge of Je.values())bt.addComponent(Ge);const Pe=new $i(Xe,Ct,bt);return st.set(gt,Pe),Pe}function si(Xe=pt){const He=st.get(Xe);if(!He)throw Wn.create("no-app",{appName:Xe});return He}function Gn(){return Array.from(st.values())}function oi(Xe){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(Xe){const He=Xe.name;st.has(He)&&(st.delete(He),yield Promise.all(Xe.container.getProviders().map(Ct=>Ct.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function Ue(Xe,He,Ct){var gt;let Tn=null!==(gt=ze[Xe])&&void 0!==gt?gt:Xe;Ct&&(Tn+=`-${Ct}`);const bt=Tn.match(/\s|\//),Pe=He.match(/\s|\//);if(bt||Pe){const Ge=[`Unable to register library "${Tn}" with version "${He}":`];return bt&&Ge.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),bt&&Pe&&Ge.push("and"),Pe&&Ge.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void R.warn(Ge.join(" "))}Ot(new N.wA(`${Tn}-version`,()=>({library:Tn,version:He}),"VERSION"))}function _n(Xe,He){if(null!==Xe&&"function"!=typeof Xe)throw Wn.create("invalid-log-argument");(0,Y.Am)(Xe,He)}function Vn(Xe){(0,Y.Ub)(Xe)}Ot(new N.wA("platform-logger",He=>new $(He),"PRIVATE")),Ue(j,"0.7.0",undefined),Ue("fire-js","")},5676:(Q,B,D)=>{"use strict";D.d(B,{$:()=>yc,A:()=>V,E:()=>qn,G:()=>Sr,I:()=>un,K:()=>mt,L:()=>Cf,M:()=>cc,N:()=>ev,P:()=>wo,Q:()=>bf,R:()=>jf,T:()=>ho,V:()=>dc,W:()=>yg,X:()=>Dl,Y:()=>da,Z:()=>Tl,_:()=>vg,a:()=>kf,a0:()=>Eg,a1:()=>Cg,a2:()=>Sf,a3:()=>pa,a4:()=>wt,a5:()=>cn,a6:()=>bc,a7:()=>Rr,a8:()=>Sl,a9:()=>Ml,aA:()=>Xl,aB:()=>uv,aC:()=>$e,aG:()=>ws,aJ:()=>Mr,aa:()=>On,ab:()=>bg,ae:()=>Of,af:()=>Ig,ag:()=>wc,aj:()=>Tf,ak:()=>Dg,am:()=>Ag,an:()=>Nf,ao:()=>Sn,ap:()=>_t,aq:()=>Gi,ar:()=>lo,as:()=>Ce,at:()=>pi,au:()=>dv,av:()=>Me,aw:()=>Ee,ax:()=>fe,ay:()=>Tt,az:()=>Ns,b:()=>Ul,c:()=>ba,d:()=>Uc,e:()=>Rs,f:()=>Zl,g:()=>Ji,h:()=>Ao,i:()=>Gl,j:()=>zf,k:()=>ru,l:()=>Pg,m:()=>zc,n:()=>Bg,o:()=>P,r:()=>Ng,s:()=>Nc,t:()=>Tg,u:()=>Hf,z:()=>te});var d=D(8239),N=D(4685),Y=D(5452),q=D(4762),$=D(300),k=D(6034);const P={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},te=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},se=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new $.Yd("@firebase/auth");function ye(y,...p){ue.logLevel<=$.in.ERROR&&ue.error(`Auth (${Y.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw Ne(y,...p)}function Me(y,...p){return Ne(y,...p)}function Ne(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return se.create(y,...p)}function Ee(y,p,...m){if(!y)throw Ne(p,...m)}function ut(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ye(p),new Error(p)}function _t(y,p){y||ut(p)}const yt=new Map;function fe(y){_t(y instanceof Function,"Expected a class definition");let p=yt.get(y);return p?(_t(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,yt.set(y,p),p)}function re(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function be(){return"http:"===oe()||"https:"===oe()}function oe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class pt{constructor(p,m){this.shortDelay=p,this.longDelay=m,_t(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,N.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ze(y,p){_t(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class st{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ln=new pt(3e4,6e4);function Yt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ot(y,p,m,C){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(y,p,m,C,A={}){return $r(y,A,()=>{let F={},ce={};C&&("GET"===p?ce=C:F={body:JSON.stringify(C)});const Ae=(0,N.xO)(Object.assign({key:y.config.apiKey},ce)).slice(1),Ve=new(st.headers());return Ve.set("Content-Type","application/json"),Ve.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Ve.set("X-Firebase-Locale",y.languageCode),st.fetch()($i(y,y.config.apiHost,m,Ae),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},F))})})).apply(this,arguments)}function $r(y,p,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Je),p);try{const A=new vi(y),F=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const ce=yield F.json();if("needConfirmation"in ce)throw wr(y,"account-exists-with-different-credential",ce);if(F.ok&&!("errorMessage"in ce))return ce;{const Ve=(F.ok?ce.errorMessage:ce.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw wr(y,"credential-already-in-use",ce);if("EMAIL_EXISTS"===Ve)throw wr(y,"email-already-in-use",ce);Ce(y,C[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(A){if(A instanceof N.ZR)throw A;Ce(y,"network-request-failed")}})).apply(this,arguments)}function qt(y,p,m,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(y,p,m,C,A={}){const F=yield Ot(y,p,m,C,A);return"mfaPendingCredential"in F&&Ce(y,"multi-factor-auth-required",{serverResponse:F}),F})).apply(this,arguments)}function $i(y,p,m,C){const A=`${p}${m}?${C}`;return y.config.emulator?ze(y.config,A):`${y.config.apiScheme}://${A}`}class vi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"timeout")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const A=Me(y,p,C);return A.customData._tokenResponse=m,A}function Gn(){return(Gn=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function oi(y,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ue(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Vn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function He(){return(He=(0,d.Z)(function*(y,p=!1){const m=(0,N.m9)(y),C=yield m.getIdToken(p),A=gt(C);Ee(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const F="object"==typeof A.firebase?A.firebase:void 0,ce=null==F?void 0:F.sign_in_provider;return{claims:A,token:C,authTime:Vn(Ct(A.auth_time)),issuedAtTime:Vn(Ct(A.iat)),expirationTime:Vn(Ct(A.exp)),signInProvider:ce||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function Ct(y){return 1e3*Number(y)}function gt(y){const[p,m,C]=y.split(".");if(void 0===p||void 0===m||void 0===C)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,N.tV)(m);return A?JSON.parse(A):(ye("Failed to decode base64 JWT payload"),null)}catch(A){return ye("Caught error parsing JWT payload as JSON",A),null}}function bt(y,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof N.ZR&&Ge(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Ge({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class vs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class ai{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(y){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),A=yield bt(y,Ue(m,{idToken:C}));Ee(null==A?void 0:A.users.length,m,"internal-error");const F=A.users[0];y._notifyReloadListener(F);const ce=(null===(p=F.providerUserInfo)||void 0===p?void 0:p.length)?K(F.providerUserInfo):[],Ae=Bt(y.providerData,ce),St=!!y.isAnonymous&&!(y.email&&F.passwordHash||(null==Ae?void 0:Ae.length)),hn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Ae,metadata:new ai(F.createdAt,F.lastLoginAt),isAnonymous:St};Object.assign(y,hn)})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y){const p=(0,N.m9)(y);yield An(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Bt(y,p){return[...y.filter(C=>!p.some(A=>A.providerId===C.providerId)),...p]}function K(y){return y.map(p=>{var{providerId:m}=p,C=(0,q._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ne(){return(ne=(0,d.Z)(function*(y,p){const m=yield $r(y,{},()=>{const C=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:F}=y.config,ce=$i(y,A,"/v1/token",`key=${F}`);return st.fetch()(ce,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class he{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ee(p.idToken,"internal-error"),Ee(void 0!==p.idToken,"internal-error"),Ee(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=gt(y);return Ee(p,"internal-error"),Ee(void 0!==p.exp,"internal-error"),Ee(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,d.Z)(function*(){return Ee(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:F,expiresIn:ce}=yield function(y,p){return ne.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(A,F,Number(ce))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:A,expirationTime:F}=m,ce=new he;return C&&(Ee("string"==typeof C,"internal-error",{appName:p}),ce.refreshToken=C),A&&(Ee("string"==typeof A,"internal-error",{appName:p}),ce.accessToken=A),F&&(Ee("number"==typeof F,"internal-error",{appName:p}),ce.expirationTime=F),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new he,this.toJSON())}_performRefresh(){return ut("not implemented")}}function ee(y,p){Ee("string"==typeof y||void 0===y,"internal-error",{appName:p})}class xe{constructor(p){var{uid:m,auth:C,stsTokenManager:A}=p,F=(0,q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.metadata=new ai(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const C=yield bt(m,m.stsTokenManager.getToken(m.auth,p));return Ee(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function(y){return He.apply(this,arguments)}(this,p)}reload(){return function(y){return ao.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new xe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,d.Z)(function*(){let A=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield An(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield bt(p,function(y,p){return Gn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,A,F,ce,Ae,Ve,Ye,St;const hn=null!==(C=m.displayName)&&void 0!==C?C:void 0,gi=null!==(A=m.email)&&void 0!==A?A:void 0,rs=null!==(F=m.phoneNumber)&&void 0!==F?F:void 0,ou=null!==(ce=m.photoURL)&&void 0!==ce?ce:void 0,Qf=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,xo=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Pa=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,qr=null!==(St=m.lastLoginAt)&&void 0!==St?St:void 0,{uid:is,emailVerified:au,isAnonymous:Yc,providerData:Na,stsTokenManager:Hg}=m;Ee(is&&Hg,p,"internal-error");const $g=he.fromJSON(this.name,Hg);Ee("string"==typeof is,p,"internal-error"),ee(hn,p.name),ee(gi,p.name),Ee("boolean"==typeof au,p,"internal-error"),Ee("boolean"==typeof Yc,p,"internal-error"),ee(rs,p.name),ee(ou,p.name),ee(Qf,p.name),ee(xo,p.name),ee(Pa,p.name),ee(qr,p.name);const Jf=new xe({uid:is,auth:p,email:gi,emailVerified:au,displayName:hn,isAnonymous:Yc,photoURL:ou,phoneNumber:rs,tenantId:Qf,stsTokenManager:$g,createdAt:Pa,lastLoginAt:qr});return Na&&Array.isArray(Na)&&(Jf.providerData=Na.map(qc=>Object.assign({},qc))),xo&&(Jf._redirectEventId=xo),Jf}static _fromIdTokenResponse(p,m,C=!1){return(0,d.Z)(function*(){const A=new he;A.updateFromServerResponse(m);const F=new xe({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:C});return yield An(F),F})()}}const mt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,C){var A=this;return(0,d.Z)(function*(){A.storage[m]=C})()}_get(m){var C=this;return(0,d.Z)(function*(){const A=C.storage[m];return void 0===A?null:A})()}_remove(m){var C=this;return(0,d.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Tt(y,p,m){return`firebase:${y}:${p}:${m}`}class lt{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:A,name:F}=this.auth;this.fullUserKey=Tt(this.userKey,A.apiKey,F),this.fullPersistenceKey=Tt("persistence",A.apiKey,F),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?xe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,d.Z)(function*(){if(!m.length)return new lt(fe(mt),p,C);const A=(yield Promise.all(m.map(function(){var Ye=(0,d.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let F=A[0]||fe(mt);const ce=Tt(C,p.config.apiKey,p.name);let Ae=null;for(const Ye of m)try{const St=yield Ye._get(ce);if(St){const hn=xe._fromJSON(p,St);Ye!==F&&(Ae=hn),F=Ye;break}}catch(St){}const Ve=A.filter(Ye=>Ye._shouldAllowMigration);return F._shouldAllowMigration&&Ve.length?(F=Ve[0],Ae&&(yield F._set(ce,Ae.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,d.Z)(function*(St){if(St!==F)try{yield St._remove(ce)}catch(hn){}});return function(St){return Ye.apply(this,arguments)}}())),new lt(F,p,C)):new lt(F,p,C)})()}}function Dn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Wi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Un(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(oa(p))return"Blackberry";if(aa(p))return"Webos";if(En(p))return"Safari";if((p.includes("chrome/")||Wr(p))&&!p.includes("edge/"))return"Chrome";if(lo(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Un(y=(0,N.z$)()){return/firefox\//i.test(y)}function En(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Wr(y=(0,N.z$)()){return/crios\//i.test(y)}function Wi(y=(0,N.z$)()){return/iemobile/i.test(y)}function lo(y=(0,N.z$)()){return/android/i.test(y)}function oa(y=(0,N.z$)()){return/blackberry/i.test(y)}function aa(y=(0,N.z$)()){return/webos/i.test(y)}function Gi(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function Sn(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Yn(y=(0,N.z$)()){return Gi(y)||lo(y)||aa(y)||oa(y)||/windows phone/i.test(y)||Wi(y)}function Mn(y,p=[]){let m;switch(y){case"Browser":m=Dn((0,N.z$)());break;case"Worker":m=`${Dn((0,N.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${Y.SDK_VERSION}/${C}`}class ke{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=fe(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A;C._deleted||(C.persistenceManager=yield lt.create(C,p),!C._deleted&&((null===(A=C._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(m),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var C;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const F=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,ce=null==A?void 0:A._redirectEventId,Ae=yield m.tryRedirectSignIn(p);(!F||F===ce)&&(null==Ae?void 0:Ae.user)&&(A=Ae.user)}return A?A._redirectEventId?(Ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield An(p)}catch(C){if("auth/network-request-failed"!==C.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const C=p?(0,N.m9)(p):null;return C&&Ee(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return p&&Ee(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(fe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,d.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&fe(p)||m._popupRedirectResolver;Ee(C,m,"argument-error"),m.redirectPersistenceManager=yield lt.create(m,[fe(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var C,A;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,A){if(this._deleted)return()=>{};const F="function"==typeof m?m:m.next.bind(m),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(ce,this,"internal-error"),ce.then(()=>F(this.currentUser)),"function"==typeof m?p.addObserver(m,C,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $e(y){return(0,N.m9)(y)}class Ht{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(y,p,m){const C=$e(y);Ee(C._canInitEmulator,C,"emulator-config-failed"),Ee(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),F=Tr(p),{host:ce,port:Ae}=function(y){const p=Tr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const F=A[1];return{host:F,port:Ar(C.substr(F.length+1))}}{const[F,ce]=C.split(":");return{host:F,port:Ar(ce)}}}(p);C.config.emulator={url:`${F}//${ce}${null===Ae?"":`:${Ae}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ce,port:Ae,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:A})}),function(y){function p(){const m=document.createElement("p"),C=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!y&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(A)}function Tr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ar(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Sr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ut("not implemented")}_getIdTokenResponse(p){return ut("not implemented")}_linkToIdToken(p,m){return ut("not implemented")}_getReauthenticationResolver(p){return ut("not implemented")}}function Ei(y,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:resetPassword",Yt(y,p))})).apply(this,arguments)}function Gr(y,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ua(y,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:update",Yt(y,p))})).apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPassword",Yt(y,p))})).apply(this,arguments)}function Kr(y,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:sendOobCode",Yt(y,p))})).apply(this,arguments)}function $t(y,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,p){return Kr(y,p)})).apply(this,arguments)}function W(y,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,d.Z)(function*(y,p){return Kr(y,p)})).apply(this,arguments)}function X(y,p){return pe.apply(this,arguments)}function pe(){return(pe=(0,d.Z)(function*(y,p){return Kr(y,p)})).apply(this,arguments)}function Se(y,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(y,p){return Kr(y,p)})).apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}class Rt extends Sr{constructor(p,m,C,A=null){super("password",C),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Rt(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Rt(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(y,p){return li.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(y,p){return yn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Gr(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,p){return Zt.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function sn(y,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithIdp",Yt(y,p))})).apply(this,arguments)}class un extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new un(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A}=m,F=(0,q._T)(m,["providerId","signInMethod"]);if(!C||!A)return null;const ce=new un(C,A);return Object.assign(ce,F),ce}_getIdTokenResponse(p){return sn(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,sn(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Yy(y,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,p))})).apply(this,arguments)}function yf(){return(yf=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p))})).apply(this,arguments)}function vf(){return(vf=(0,d.Z)(function*(y,p){const m=yield qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p));if(m.temporaryProof)throw wr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Zy={USER_NOT_FOUND:"user-not-found"};function Ef(){return(Ef=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zy)})).apply(this,arguments)}class co extends Sr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new co({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new co({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(y,p){return yf.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(y,p){return vf.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Ef.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:A,temporaryProof:F}=p;return C||m||A||F?new co({verificationId:m,verificationCode:C,phoneNumber:A,temporaryProof:F}):null}}class Cl{constructor(p){var m,C,A,F,ce,Ae;const Ve=(0,N.zd)((0,N.pd)(p)),Ye=null!==(m=Ve.apiKey)&&void 0!==m?m:null,St=null!==(C=Ve.oobCode)&&void 0!==C?C:null,hn=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ve.mode)&&void 0!==A?A:null);Ee(Ye&&St&&hn,"argument-error"),this.apiKey=Ye,this.operation=hn,this.code=St,this.continueUrl=null!==(F=Ve.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ce=Ve.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Ae=Ve.tenantId)&&void 0!==Ae?Ae:null}static parseLink(p){const m=function(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,C=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(C?(0,N.zd)((0,N.pd)(C)).link:null)||C||m||p||y}(p);try{return new Cl(m)}catch(C){return null}}}let Cf=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return Rt._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const A=Cl.parseLink(C);return Ee(A,"argument-error"),Rt._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Es{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fo extends Es{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ho extends fo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ee("providerId"in m&&"signInMethod"in m,"argument-error"),un._fromParams(m)}credential(p){return this._credential(p)}_credential(p){return Ee(p.idToken||p.accessToken,"argument-error"),un._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ho.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ho.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:F,nonce:ce,providerId:Ae}=p;if(!C&&!A&&!m&&!F||!Ae)return null;try{return new ho(Ae)._credential({idToken:m,accessToken:C,rawNonce:ce,pendingToken:F})}catch(Ve){return null}}}let cc=(()=>{class y extends fo{constructor(){super("facebook.com")}static credential(m){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ev=(()=>{class y extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:A}=m;if(!C&&!A)return null;try{return y.credential(C,A)}catch(F){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),bf=(()=>{class y extends fo{constructor(){super("github.com")}static credential(m){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Mr extends Sr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return sn(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,sn(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A,pendingToken:F}=m;return C&&A&&F&&C===A?new Mr(C,F):null}static _create(p,m){return new Mr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let dc=(()=>{class y extends fo{constructor(){super("twitter.com")}static credential(m,C){return un._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=m;if(!C||!A)return null;try{return y.credential(C,A)}catch(F){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wf(y,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signUp",Yt(y,p))})).apply(this,arguments)}class fr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,A=!1){return(0,d.Z)(function*(){const F=yield xe._fromIdTokenResponse(p,C,A),ce=Df(C);return new fr({user:F,providerId:ce,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const A=Df(C);return new fr({user:p,providerId:A,_tokenResponse:C,operationType:m})})()}}function Df(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function yg(y){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y){var p;const m=$e(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new fr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield wf(m,{returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class hc extends N.ZR{constructor(p,m,C,A){var F;super(m.code,m.message),this.operationType=C,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,hc.prototype),this.appName=p.name,this.code=m.code,this.tenantId=null!==(F=p.tenantId)&&void 0!==F?F:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(p,m,C,A){return new hc(p,m,C,A)}}function Or(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?hc._fromErrorAndOperation(y,F,p,C):F})}function Il(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Tf(y,p){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);yield gc(!0,m,p);const{providerUserInfo:C}=yield oi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Il(C||[]);return m.providerData=m.providerData.filter(F=>A.has(F.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function pc(y,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y,p,m=!1){const C=yield bt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return fr._forOperation(y,"link",C)})).apply(this,arguments)}function gc(y,p,m){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(y,p,m){yield An(p);const A=!1===y?"provider-already-linked":"no-such-provider";Ee(Il(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function mc(y,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(y,p,m=!1){const{auth:C}=y,A="reauthenticate";try{const F=yield bt(y,Or(C,A,p,y),m);Ee(F.idToken,C,"internal-error");const ce=gt(F.idToken);Ee(ce,C,"internal-error");const{sub:Ae}=ce;return Ee(y.uid===Ae,C,"user-mismatch"),fr._forOperation(y,A,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&Ce(C,"user-mismatch"),F}})).apply(this,arguments)}function Af(y,p){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(y,p,m=!1){const C="signIn",A=yield Or(y,C,p),F=yield fr._fromIdTokenResponse(y,C,A);return m||(yield y._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Dl(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(y,p){return Af($e(y),p)})).apply(this,arguments)}function da(y,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);return yield gc(!1,m,p.providerId),pc(m,p)})).apply(this,arguments)}function Tl(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(y,p){return mc((0,N.m9)(y),p)})).apply(this,arguments)}function go(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,p))})).apply(this,arguments)}function vg(y,p){return Al.apply(this,arguments)}function Al(){return(Al=(0,d.Z)(function*(y,p){const m=$e(y),C=yield go(m,{token:p,returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Cs{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?bi._fromServerResponse(p,m):Ce(p,"internal-error")}}class bi extends Cs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new bi(m)}}function ha(y,p,m){var C;Ee((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Ee(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ee(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iosBundleId=m.iOS.bundleId),m.android&&(Ee(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function yc(y,p,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&ha(C,A,m),yield W(C,A)})).apply(this,arguments)}function Eg(y,p,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,d.Z)(function*(y,p,m){yield Ei((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Cg(y,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(y,p){yield ua((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Sf(y,p){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),C=yield Ei(m,{oobCode:p}),A=C.requestType;switch(Ee(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(C.mfaInfo,m,"internal-error");default:Ee(C.email,m,"internal-error")}let F=null;return C.mfaInfo&&(F=Cs._fromServerResponse($e(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:A}})).apply(this,arguments)}function pa(y,p){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(y,p){const{data:m}=yield Sf((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function wt(y,p,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(y,p,m){const C=$e(y),A=yield wf(C,{returnSecureToken:!0,email:p,password:m}),F=yield fr._fromIdTokenResponse(C,"signIn",A);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function cn(y,p,m){return Dl((0,N.m9)(y),Cf.credential(p,m))}function bc(y,p,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};Ee(m.handleCodeInApp,C,"argument-error"),m&&ha(C,A,m),yield X(C,A)})).apply(this,arguments)}function Rr(y,p){const m=Cl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Sl(y,p,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),A=Cf.credentialWithLink(p,m||re());return Ee(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Dl(C,A)})).apply(this,arguments)}function tv(y,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:createAuthUri",Yt(y,p))})).apply(this,arguments)}function Ml(y,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,p){const C={identifier:p,continueUri:be()?re():"http://localhost"},{signinMethods:A}=yield tv((0,N.m9)(y),C);return A||[]})).apply(this,arguments)}function On(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ha(m.auth,A,p);const{email:F}=yield $t(m.auth,A);F!==y.email&&(yield y.reload())})).apply(this,arguments)}function bg(y,p,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ha(C.auth,F,m);const{email:ce}=yield Se(C.auth,F);ce!==y.email&&(yield y.reload())})).apply(this,arguments)}function Yr(y,p){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,d.Z)(function*(y,p){return Ot(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Of(y,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,N.m9)(y),F={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ce=yield bt(C,Yr(C.auth,F));C.displayName=ce.displayName||null,C.photoURL=ce.photoUrl||null;const Ae=C.providerData.find(({providerId:Ve})=>"password"===Ve);Ae&&(Ae.displayName=C.displayName,Ae.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ce)})).apply(this,arguments)}function Ig(y,p){return Rl((0,N.m9)(y),p,null)}function wc(y,p){return Rl((0,N.m9)(y),null,p)}function Rl(y,p,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(y,p,m){const{auth:C}=y,F={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(F.email=p),m&&(F.password=m);const ce=yield bt(y,Gr(C,F));yield y._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class bs{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class Dc extends bs{constructor(p,m,C,A){super(p,m,C),this.username=A}}class Pl extends bs{constructor(p,m){super(p,"facebook.com",m)}}class Rf extends Dc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class wg extends bs{constructor(p,m){super(p,"google.com",m)}}class xf extends Dc{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Dg(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,m;if(!y)return null;const{providerId:C}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},F=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const ce=null===(m=null===(p=gt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ce)return new bs(F,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!C)return null;switch(C){case"facebook.com":return new Pl(F,A);case"github.com":return new Rf(F,A);case"google.com":return new wg(F,A);case"twitter.com":return new xf(F,A,y.screenName||null);case"custom":case"anonymous":return new bs(F,null);default:return new bs(F,C,A)}}(m)}function Tg(y,p,m,C){return(0,N.m9)(y).onAuthStateChanged(p,m,C)}class Is{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Is("enroll",p)}static _fromMfaPendingCredential(p){return new Is("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Is._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Is._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Tc{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=$e(p),A=(m.serverResponse.mfaInfo||[]).map(ce=>Cs._fromServerResponse(C,ce));Ee(m.serverResponse.mfaPendingCredential,C,"internal-error");const F=Is._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new Tc(F,A,function(){var ce=(0,d.Z)(function*(Ae){const Ve=yield Ae._process(C,F);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Ye=Object.assign(Object.assign({},m.serverResponse),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(m.operationType){case"signIn":const St=yield fr._fromIdTokenResponse(C,m.operationType,Ye);return yield C._updateCurrentUser(St.user),St;case"reauthenticate":return Ee(m.user,C,"internal-error"),fr._forOperation(m.user,m.operationType,Ye);default:Ce(C,"internal-error")}});return function(Ae){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function Ag(y,p){var m;const C=(0,N.m9)(y),A=p;return Ee(p.operationType,C,"argument-error"),Ee(null===(m=A.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Tc._fromError(C,A)}function vo(y,p){return Ot(y,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:y.tenantId},p))}class Co{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Cs._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Co(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Is._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,d.Z)(function*(){const A=p,F=yield C.getSession(),ce=yield bt(C.user,A._process(C.user.auth,F,m));return yield C.user._updateTokensIfNecessary(ce),C.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const C="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),F=yield bt(m.user,function(y,p){return Ot(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:y.tenantId},p))}(m.user.auth,{idToken:A,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==C),yield m.user._updateTokensIfNecessary(F);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==ce.code)throw ce}})()}}const _a=new WeakMap;function Nf(y){const p=(0,N.m9)(y);return _a.has(p)||_a.set(p,Co._fromUser(p)),_a.get(p)}const Fl="__sak";class wi{constructor(p,m){this.storage=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const Ul=(()=>{class y extends wi{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,N.z$)();return En(y)||Gi(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),F=this.localCache[C];A!==F&&m(C,F,A)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((Ae,Ve,Ye)=>{this.notifyListeners(Ae,Ye)});const A=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(A);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!C)return}const F=()=>{const Ae=this.storage.getItem(A);!C&&this.localCache[A]===Ae||this.notifyListeners(A,Ae)},ce=this.storage.getItem(A);(0,N.w1)()&&10===document.documentMode&&ce!==m.newValue&&m.newValue!==m.oldValue?setTimeout(F,10):F()}notifyListeners(m,C){this.localCache[m]=C;const A=this.listeners[m];if(A)for(const F of Array.from(A))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var A=()=>super._set,F=this;return(0,d.Z)(function*(){yield A().call(F,m,C),F.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,A=this;return(0,d.Z)(function*(){const F=yield C().call(A,m);return A.localCache[m]=JSON.stringify(F),F})()}_remove(m){var C=()=>super._remove,A=this;return(0,d.Z)(function*(){yield C().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),kf=(()=>{class y extends wi{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let Y0=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(F=>F.isListeningto(m));if(C)return C;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,d.Z)(function*(){const A=m,{eventId:F,eventType:ce,data:Ae}=A.data,Ve=C.handlersMap[ce];if(!(null==Ve?void 0:Ve.size))return;A.ports[0].postMessage({status:"ack",eventId:F,eventType:ce});const Ye=Array.from(Ve).map(function(){var hn=(0,d.Z)(function*(gi){return gi(A.origin,Ae)});return function(gi){return hn.apply(this,arguments)}}()),St=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:F,eventType:ce,response:St})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ws(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Ff{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var A=this;return(0,d.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ce,Ae;return new Promise((Ve,Ye)=>{const St=ws("",20);F.port1.start();const hn=setTimeout(()=>{Ye(new Error("unsupported_event"))},C);Ae={messageChannel:F,onMessage(gi){const rs=gi;if(rs.data.eventId===St)switch(rs.data.status){case"ack":clearTimeout(hn),ce=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),Ve(rs.data.response);break;default:clearTimeout(hn),clearTimeout(ce),Ye(new Error("invalid_response"))}}},A.handlers.add(Ae),F.port1.addEventListener("message",Ae.onMessage),A.target.postMessage({eventType:p,eventId:St,data:m},[F.port2])}).finally(()=>{Ae&&A.removeMessageHandler(Ae)})})()}}function zt(){return window}function Bl(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function Di(){return(Di=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ac="firebaseLocalStorageDb",Lf="firebaseLocalStorage",Sc="fbase_key";class va{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Mc(y,p){return y.transaction([Lf],p?"readwrite":"readonly").objectStore(Lf)}function Ds(){const y=indexedDB.open(Ac,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Lf,{keyPath:Sc})}catch(A){m(A)}}),y.addEventListener("success",(0,d.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Lf)?p(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(Ac);return new va(y).toPromise()}(),p(yield Ds()))}))})}function Oc(y,p,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(y,p,m){const C=Mc(y,!0).put({[Sc]:p,value:m});return new va(C).toPromise()})).apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(y,p){const m=Mc(y,!1).get(p),C=yield new va(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function At(y,p){const m=Mc(y,!0).delete(p);return new va(m).toPromise()}const Gl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Ds()),m.db})()}_withRetries(m){var C=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const F=yield C._openDb();return yield m(F)}catch(F){if(A++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Bl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Y0._getInstance(Bl()?self:null),m.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(A,F){return{keyProcessed:(yield m._poll()).includes(F.key)}});return function(A,F){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(A,F){return["keyChanged"]});return function(A,F){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var C,A;if(m.activeServiceWorker=yield function(){return Di.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ff(m.activeServiceWorker);const F=yield m.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(A=F[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ds();return yield Oc(m,Fl,"1"),yield At(m,Fl),!0}catch(m){}return!1})()}_withPendingWrite(m){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(F=>Oc(F,m,C)),A.localCache[m]=C,A.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,d.Z)(function*(){const A=yield C._withRetries(F=>function(y,p){return Yi.apply(this,arguments)}(F,m));return C.localCache[m]=A,A})()}_remove(m){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(A=>At(A,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const C=yield m._withRetries(ce=>{const Ae=Mc(ce,!1).getAll();return new va(Ae).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const A=[],F=new Set;for(const{fbase_key:ce,value:Ae}of C)F.add(ce),JSON.stringify(m.localCache[ce])!==JSON.stringify(Ae)&&(m.notifyListeners(ce,Ae),A.push(ce));for(const ce of Object.keys(m.localCache))m.localCache[ce]&&!F.has(ce)&&(m.notifyListeners(ce,null),A.push(ce));return A})()}notifyListeners(m,C){this.localCache[m]=C;const A=this.listeners[m];if(A)for(const F of Array.from(A))F(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ts(y,p){return Ot(y,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:y.tenantId},p))}function qi(){return(qi=(0,d.Z)(function*(y){return(yield Ot(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rc(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=A=>{const F=Me("internal-error");F.customData=A,m(F)},C.type="text/javascript",C.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function xc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const As=1e12;class Rn{constructor(p){this.auth=p,this.counter=As,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new pr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||As;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||As))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var C;return null===(C=m._widgets.get(p||As))||void 0===C||C.execute(),""})()}}class pr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Ee(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ss=xc("rcb"),Io=new pt(3e4,6e4);class Zi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(p,m=""){return Ee((y=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zt().grecaptcha):new Promise((C,A)=>{const F=zt().setTimeout(()=>{A(Me(p,"network-request-failed"))},Io.get());zt()[Ss]=()=>{zt().clearTimeout(F),delete zt()[Ss];const Ae=zt().grecaptcha;if(!Ae)return void A(Me(p,"internal-error"));const Ve=Ae.render;Ae.render=(Ye,St)=>{const hn=Ve(Ye,St);return this.counter++,hn},this.hostLanguage=m,C(Ae)},Rc(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ss,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(F),A(Me(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rg{load(p){return(0,d.Z)(function*(){return new Rn(p)})()}clearedOneInstance(){}}const Pc="recaptcha",xg={theme:"light",type:"image"};class jf{constructor(p,m=Object.assign({},xg),C){this.parameters=m,this.type=Pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(C),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;Ee(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rg:new Zi,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(F=>{const ce=Ae=>{!Ae||(p.tokenChangeListeners.delete(ce),F(Ae))};p.tokenChangeListeners.add(ce),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=zt()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Ee(be()&&!Bl(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(y){return qi.apply(this,arguments)}(p.auth);Ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yl{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=co._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Nc(y,p,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(y,p,m){const C=$e(y),A=yield Ea(C,p,(0,N.m9)(m));return new Yl(A,F=>Dl(C,F))})).apply(this,arguments)}function Pg(y,p,m){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);yield gc(!1,C,"phone");const A=yield Ea(C.auth,p,(0,N.m9)(m));return new Yl(A,F=>da(C,F))})).apply(this,arguments)}function Ng(y,p,m){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y),A=yield Ea(C.auth,p,(0,N.m9)(m));return new Yl(A,F=>Tl(C,F))})).apply(this,arguments)}function Ea(y,p,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,d.Z)(function*(y,p,m){var C;const A=yield m.verify();try{let F;if(Ee("string"==typeof A,y,"argument-error"),Ee(m.type===Pc,y,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const ce=F.session;if("phoneNumber"in F)return Ee("enroll"===ce.type,y,"internal-error"),(yield vo(y,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Ee("signin"===ce.type,y,"internal-error");const Ae=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return Ee(Ae,y,"missing-multi-factor-info"),(yield Ts(y,{mfaPendingCredential:ce.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield Yy(y,{phoneNumber:F.phoneNumber,recaptchaToken:A});return ce}}finally{m._reset()}})).apply(this,arguments)}function Hf(y,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(y,p){yield pc((0,N.m9)(y),p)})).apply(this,arguments)}let wo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=$e(m)}verifyPhoneNumber(m,C){return Ea(this.auth,m,(0,N.m9)(C))}static credential(m,C){return co._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:A}=m;return C&&A?co._fromTokenResponse(C,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ms(y,p){return p?fe(p):(Ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class dn extends Sr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return sn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return sn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return sn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Os(y){return Af(y.auth,new dn(y),y.bypassAuthState)}function Ca(y){const{auth:p,user:m}=y;return Ee(m,p,"internal-error"),mc(m,new dn(y),y.bypassAuthState)}function kg(y){return ql.apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return Ee(m,p,"internal-error"),pc(m,new dn(y),y.bypassAuthState)})).apply(this,arguments)}class Qt{constructor(p,m,C,A,F=!1){this.auth=p,this.resolver=C,this.user=A,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(C,A){p.pendingPromise={resolve:C,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(C,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:F,tenantId:ce,error:Ae,type:Ve}=p;if(Ae)return void m.reject(Ae);const Ye={auth:m.auth,requestUri:C,sessionId:A,tenantId:ce||void 0,postBody:F||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Ye))}catch(St){m.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return kg;case"reauthViaPopup":case"reauthViaRedirect":return Ca;default:Ce(this.auth,"internal-error")}}resolve(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pn=new pt(2e3,1e4);function ba(y,p,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(y,p,m){const C=$e(y);Ee(p instanceof Es,y,"argument-error");const A=Ms(C,m);return new wa(C,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Rs(y,p,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);Ee(p instanceof Es,C.auth,"argument-error");const A=Ms(C.auth,m);return new wa(C.auth,"reauthViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}function Uc(y,p,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);Ee(p instanceof Es,C.auth,"argument-error");const A=Ms(C.auth,m);return new wa(C.auth,"linkViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}let wa=(()=>{class y extends Qt{constructor(m,C,A,F,ce){super(m,C,F,ce),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const C=yield m.execute();return Ee(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,d.Z)(function*(){_t(1===m.filter.length,"Popup operations only handle one event");const C=ws();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,A;this.pollId=(null===(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Pn.get())};m()}}return y.currentPopupAction=null,y})();const To=new Map;class gr extends Qt{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let C=To.get(m.auth._key());if(!C){try{const F=(yield function(y,p){return xs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(F)}catch(A){C=()=>Promise.reject(A)}To.set(m.auth._key(),C)}return C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const A=yield C.auth._redirectUserForId(p.eventId);if(A)return C.user=A,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function xs(){return(xs=(0,d.Z)(function*(y,p){const m=Gf(p),C="true"===(yield Wf(y)._get(m));return yield Wf(y)._remove(m),C})).apply(this,arguments)}function Fg(y,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(y,p){return Wf(y)._set(Gf(p),"true")})).apply(this,arguments)}function uv(){To.clear()}function Wf(y){return fe(y._redirectPersistence)}function Gf(y){return Tt("pendingRedirect",y.config.apiKey,y.name)}function Zl(y,p,m){return function(y,p,m){return fi.apply(this,arguments)}(y,p,m)}function fi(){return(fi=(0,d.Z)(function*(y,p,m){const C=$e(y);Ee(p instanceof Es,y,"argument-error");const A=Ms(C,m);return yield Fg(A,C),A._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ao(y,p,m){return function(y,p,m){return Jl.apply(this,arguments)}(y,p,m)}function Jl(){return(Jl=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);Ee(p instanceof Es,C.auth,"argument-error");const A=Ms(C.auth,m);yield Fg(A,C.auth);const F=yield cv(C);return A._openRedirect(C.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function Ji(y,p,m){return function(y,p,m){return Xi.apply(this,arguments)}(y,p,m)}function Xi(){return(Xi=(0,d.Z)(function*(y,p,m){const C=(0,N.m9)(y);Ee(p instanceof Es,C.auth,"argument-error");const A=Ms(C.auth,m);yield gc(!1,C,p.providerId),yield Fg(A,C.auth);const F=yield cv(C);return A._openRedirect(C.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function zf(y,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,d.Z)(function*(y,p){return yield $e(y)._initializationPromise,Xl(y,p,!1)})).apply(this,arguments)}function Xl(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(y,p,m=!1){const C=$e(y),A=Ms(C,p),ce=yield new gr(C,A,m).execute();return ce&&!m&&(delete ce.user._redirectEventId,yield C._persistUserIfCurrent(ce.user),yield C._setRedirectUser(null,p)),ce})).apply(this,arguments)}function cv(y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(y){const p=ws(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ns{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!fn(p)){const A=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($c(p))}saveEventToCache(p){this.cachedEventUids.add($c(p)),this.lastProcessedEventTime=Date.now()}}function $c(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function fn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function dv(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(y,p={}){return Ot(y,"GET","/v1/projects",p)})).apply(this,arguments)}const es=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,So=/^https?/;function eu(){return(eu=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield dv(y);for(const m of p)try{if(Kf(m))return}catch(C){}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function Kf(y){const p=re(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const ce=new URL(y);return""===ce.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ce.hostname===C}if(!So.test(m))return!1;if(es.test(y))return C===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const ks=new pt(3e4,6e4);function xr(){const y=zt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let _r=null;function Wc(y){return _r=_r||function(y){return new Promise((p,m)=>{var C,A,F;function ce(){xr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xr(),m(Me(y,"network-request-failed"))},timeout:ks.get()})}if(null===(A=null===(C=zt().gapi)||void 0===C?void 0:C.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(F=zt().gapi)||void 0===F?void 0:F.load)){const Ae=xc("iframefcb");return zt()[Ae]=()=>{gapi.load?ce():m(Me(y,"network-request-failed"))},Rc(`https://apis.google.com/js/api.js?onload=${Ae}`)}ce()}}).catch(p=>{throw _r=null,p})}(y),_r}const Ma=new pt(5e3,15e3),Yf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},fv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ra(y){const p=y.config;Ee(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?ze(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:Y.SDK_VERSION},A=fv.get(y.config.apiHost);A&&(C.eid=A);const F=y._getFrameworks();return F.length&&(C.fw=F.join(",")),`${m}?${(0,N.xO)(C).slice(1)}`}function ts(){return(ts=(0,d.Z)(function*(y){const p=yield Wc(y),m=zt().gapi;return Ee(m,y,"internal-error"),p.open({where:document.body,url:Ra(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yf,dontclear:!0},C=>new Promise(function(){var A=(0,d.Z)(function*(F,ce){yield C.restyle({setHideOnLeave:!1});const Ae=Me(y,"network-request-failed"),Ve=zt().setTimeout(()=>{ce(Ae)},Ma.get());function Ye(){zt().clearTimeout(Ve),F(C)}C.ping(Ye).then(Ye,()=>{ce(Ae)})});return function(F,ce){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const hv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function pi(y,p,m,C,A,F){Ee(y.config.authDomain,y,"auth-domain-config-required"),Ee(y.config.apiKey,y,"invalid-api-key");const ce={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:Y.SDK_VERSION,eventId:A};if(p instanceof Es){p.setDefaultLanguage(y.languageCode),ce.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(ce.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Ye]of Object.entries(F||{}))ce[Ve]=Ye}if(p instanceof fo){const Ve=p.getScopes().filter(Ye=>""!==Ye);Ve.length>0&&(ce.scopes=Ve.join(","))}y.tenantId&&(ce.tid=y.tenantId);const Ae=ce;for(const Ve of Object.keys(Ae))void 0===Ae[Ve]&&delete Ae[Ve];return`${function({config:y}){return y.emulator?ze(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(Ae).slice(1)}`}const nu="webStorageSupport",ru=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kf,this._completeRedirectFn=Xl}_openPopup(p,m,C,A){var F=this;return(0,d.Z)(function*(){var ce;_t(null===(ce=F.eventManagers[p._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Ae=pi(p,m,C,re(),A);return function(y,p,m,C=500,A=600){const F=Math.max((window.screen.availHeight-A)/2,0).toString(),ce=Math.max((window.screen.availWidth-C)/2,0).toString();let Ae="";const Ve=Object.assign(Object.assign({},hv),{width:C.toString(),height:A.toString(),top:F,left:ce}),Ye=(0,N.z$)().toLowerCase();m&&(Ae=Wr(Ye)?"_blank":m),Un(Ye)&&(p=p||"http://localhost",Ve.scrollbars="yes");const St=Object.entries(Ve).reduce((gi,[rs,ou])=>`${gi}${rs}=${ou},`,"");if(function(y=(0,N.z$)()){var p;return Gi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ye)&&"_self"!==Ae)return function(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",Ae),new Gc(null);const hn=window.open(p||"",Ae,St);Ee(hn,y,"popup-blocked");try{hn.focus()}catch(gi){}return new Gc(hn)}(p,Ae,ws())})()}_openRedirect(p,m,C,A){var F=this;return(0,d.Z)(function*(){return yield F._originValidation(p),y=pi(p,m,C,re(),A),zt().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:F}=this.eventManagers[m];return A?Promise.resolve(A):(_t(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const C=yield function(y){return ts.apply(this,arguments)}(p),A=new Ns(p);return C.register("authEvent",F=>(Ee(null==F?void 0:F.authEvent,p,"invalid-auth-event"),{status:A.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=C,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(nu,{type:nu},A=>{var F;const ce=null===(F=null==A?void 0:A[0])||void 0===F?void 0:F[nu];void 0!==ce&&m(!!ce),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return eu.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yn()||En()||Gi()}};class su extends class{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new su(p)}_finalizeEnroll(p,m,C){return function(y,p){return Ot(y,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:y.tenantId},p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(y,p){return Ot(y,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:y.tenantId},p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class zc{constructor(){}static assertion(p){return su._fromCredential(p)}}var y;class Kc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var A;p((null===(A=C)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bg(y=(0,Y.getApp)()){const p=(0,Y._getProvider)(y,"auth");return p.isInitialized()?p.getImmediate():function(y,p){const m=(0,Y._getProvider)(y,"auth");if(m.isInitialized()){const A=m.getImmediate(),F=m.getOptions();if((0,N.vZ)(F,null!=p?p:{}))return A;Ce(A,"already-initialized")}return m.initialize({options:p})}(y,{popupRedirectResolver:ru,persistence:[Gl,Ul,kf]})}y="Browser",(0,Y._registerComponent)(new k.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:F}=C.options;return(ce=>{Ee(A&&!A.includes(":"),"invalid-api-key",{appName:ce.name}),Ee(!(null==F?void 0:F.includes(":")),"argument-error",{appName:ce.name});const Ae={apiKey:A,authDomain:F,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(y)},Ve=new ke(ce,Ae);return function(y,p){const m=(null==p?void 0:p.persistence)||[],C=(Array.isArray(m)?m:[m]).map(fe);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Ve,m),Ve})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new k.wA("auth-internal",p=>{const m=$e(p.getProvider("auth").getImmediate());return new Kc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)("@firebase/auth","0.17.1",void 0)},6034:(Q,B,D)=>{"use strict";D.d(B,{wA:()=>Y,H0:()=>P});var d=D(4762),N=D(4685),Y=function(){function R(S,V,O){this.name=S,this.instanceFactory=V,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return R.prototype.setInstantiationMode=function(S){return this.instantiationMode=S,this},R.prototype.setMultipleInstances=function(S){return this.multipleInstances=S,this},R.prototype.setServiceProps=function(S){return this.serviceProps=S,this},R.prototype.setInstanceCreatedCallback=function(S){return this.onInstanceCreated=S,this},R}(),q="[DEFAULT]",$=function(){function R(S,V){this.name=S,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return R.prototype.get=function(S){var V=this.normalizeInstanceIdentifier(S);if(!this.instancesDeferred.has(V)){var O=new N.BH;if(this.instancesDeferred.set(V,O),this.isInitialized(V)||this.shouldAutoInitialize())try{var H=this.getOrInitializeService({instanceIdentifier:V});H&&O.resolve(H)}catch(te){}}return this.instancesDeferred.get(V).promise},R.prototype.getImmediate=function(S){var V,O=this.normalizeInstanceIdentifier(null==S?void 0:S.identifier),H=null!==(V=null==S?void 0:S.optional)&&void 0!==V&&V;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(H)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(te){if(H)return null;throw te}},R.prototype.getComponent=function(){return this.component},R.prototype.setComponent=function(S){var V,O;if(S.name!==this.name)throw Error("Mismatching Component "+S.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=S,this.shouldAutoInitialize()){if(function(R){return"EAGER"===R.instantiationMode}(S))try{this.getOrInitializeService({instanceIdentifier:q})}catch(Ce){}try{for(var H=(0,d.XA)(this.instancesDeferred.entries()),te=H.next();!te.done;te=H.next()){var de=(0,d.CR)(te.value,2),we=de[1],ue=this.normalizeInstanceIdentifier(de[0]);try{var ye=this.getOrInitializeService({instanceIdentifier:ue});we.resolve(ye)}catch(Ce){}}}catch(Ce){V={error:Ce}}finally{try{te&&!te.done&&(O=H.return)&&O.call(H)}finally{if(V)throw V.error}}}},R.prototype.clearInstance=function(S){void 0===S&&(S=q),this.instancesDeferred.delete(S),this.instancesOptions.delete(S),this.instances.delete(S)},R.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var S;return(0,d.Jh)(this,function(V){switch(V.label){case 0:return S=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(S.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,d.CR)(S.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return V.sent(),[2]}})})},R.prototype.isComponentSet=function(){return null!=this.component},R.prototype.isInitialized=function(S){return void 0===S&&(S=q),this.instances.has(S)},R.prototype.getOptions=function(S){return void 0===S&&(S=q),this.instancesOptions.get(S)||{}},R.prototype.initialize=function(S){var V,O;void 0===S&&(S={});var H=S.options,te=void 0===H?{}:H,de=this.normalizeInstanceIdentifier(S.instanceIdentifier);if(this.isInitialized(de))throw Error(this.name+"("+de+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var se=this.getOrInitializeService({instanceIdentifier:de,options:te});try{for(var we=(0,d.XA)(this.instancesDeferred.entries()),ue=we.next();!ue.done;ue=we.next()){var ye=(0,d.CR)(ue.value,2),Me=ye[1];de===this.normalizeInstanceIdentifier(ye[0])&&Me.resolve(se)}}catch(Ee){V={error:Ee}}finally{try{ue&&!ue.done&&(O=we.return)&&O.call(we)}finally{if(V)throw V.error}}return se},R.prototype.onInit=function(S,V){var O,H=this.normalizeInstanceIdentifier(V),te=null!==(O=this.onInitCallbacks.get(H))&&void 0!==O?O:new Set;te.add(S),this.onInitCallbacks.set(H,te);var de=this.instances.get(H);return de&&S(de,H),function(){te.delete(S)}},R.prototype.invokeOnInitCallbacks=function(S,V){var O,H,te=this.onInitCallbacks.get(V);if(te)try{for(var de=(0,d.XA)(te),se=de.next();!se.done;se=de.next()){var we=se.value;try{we(S,V)}catch(ue){}}}catch(ue){O={error:ue}}finally{try{se&&!se.done&&(H=de.return)&&H.call(de)}finally{if(O)throw O.error}}},R.prototype.getOrInitializeService=function(S){var V=S.instanceIdentifier,O=S.options,H=void 0===O?{}:O,te=this.instances.get(V);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:k(V),options:H}),this.instances.set(V,te),this.instancesOptions.set(V,H),this.invokeOnInitCallbacks(te,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,te)}catch(de){}return te||null},R.prototype.normalizeInstanceIdentifier=function(S){return void 0===S&&(S=q),this.component?this.component.multipleInstances?S:q:S},R.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},R}();function k(R){return R===q?void 0:R}var P=function(){function R(S){this.name=S,this.providers=new Map}return R.prototype.addComponent=function(S){var V=this.getProvider(S.name);if(V.isComponentSet())throw new Error("Component "+S.name+" has already been registered with "+this.name);V.setComponent(S)},R.prototype.addOrOverwriteComponent=function(S){this.getProvider(S.name).isComponentSet()&&this.providers.delete(S.name),this.addComponent(S)},R.prototype.getProvider=function(S){if(this.providers.has(S))return this.providers.get(S);var V=new $(S,this);return this.providers.set(S,V),V},R.prototype.getProviders=function(){return Array.from(this.providers.values())},R}()},300:(Q,B,D)=>{"use strict";function d(){for(var O=0,H=0,te=arguments.length;H<te;H++)O+=arguments[H].length;var de=Array(O),se=0;for(H=0;H<te;H++)for(var we=arguments[H],ue=0,ye=we.length;ue<ye;ue++,se++)de[se]=we[ue];return de}D.d(B,{in:()=>q,Yd:()=>R,Ub:()=>S,Am:()=>V});var N,Y=[],q=(()=>{return(O=q||(q={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",q;var O})(),$={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},k=q.INFO,j=((N={})[q.DEBUG]="log",N[q.VERBOSE]="log",N[q.INFO]="info",N[q.WARN]="warn",N[q.ERROR]="error",N),P=function(O,H){for(var te=[],de=2;de<arguments.length;de++)te[de-2]=arguments[de];if(!(H<O.logLevel)){var se=(new Date).toISOString(),we=j[H];if(!we)throw new Error("Attempted to log a message with an invalid logType (value: "+H+")");console[we].apply(console,d(["["+se+"]  "+O.name+":"],te))}},R=function(){function O(H){this.name=H,this._logLevel=k,this._logHandler=P,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(H){if(!(H in q))throw new TypeError('Invalid value "'+H+'" assigned to `logLevel`');this._logLevel=H},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(H){this._logLevel="string"==typeof H?$[H]:H},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(H){this._userLogHandler=H},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var H=[],te=0;te<arguments.length;te++)H[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.DEBUG],H)),this._logHandler.apply(this,d([this,q.DEBUG],H))},O.prototype.log=function(){for(var H=[],te=0;te<arguments.length;te++)H[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.VERBOSE],H)),this._logHandler.apply(this,d([this,q.VERBOSE],H))},O.prototype.info=function(){for(var H=[],te=0;te<arguments.length;te++)H[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.INFO],H)),this._logHandler.apply(this,d([this,q.INFO],H))},O.prototype.warn=function(){for(var H=[],te=0;te<arguments.length;te++)H[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.WARN],H)),this._logHandler.apply(this,d([this,q.WARN],H))},O.prototype.error=function(){for(var H=[],te=0;te<arguments.length;te++)H[te]=arguments[te];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.ERROR],H)),this._logHandler.apply(this,d([this,q.ERROR],H))},O}();function S(O){Y.forEach(function(H){H.setLogLevel(O)})}function V(O,H){for(var te=function(ue){var ye=null;H&&H.level&&(ye=$[H.level]),ue.userLogHandler=null===O?null:function(Ce,Me){for(var Ne=[],Ee=2;Ee<arguments.length;Ee++)Ne[Ee-2]=arguments[Ee];var ut=Ne.map(function(_t){if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch(yt){return null}}).filter(function(_t){return _t}).join(" ");Me>=(null!=ye?ye:Ce.logLevel)&&O({level:q[Me].toLowerCase(),message:ut,args:Ne,type:Ce.name})}},de=0,se=Y;de<se.length;de++)te(se[de])}},4685:(Q,B,D)=>{"use strict";D.d(B,{BH:()=>te,LL:()=>Fe,ZR:()=>oe,gQ:()=>oi,hu:()=>Y,g5:()=>q,US:()=>j,tV:()=>S,h$:()=>P,r3:()=>$r,ne:()=>Dr,p$:()=>V,vZ:()=>$i,ZB:()=>O,gK:()=>He,pd:()=>Gn,m9:()=>Bt,z$:()=>se,GJ:()=>kt,jU:()=>ye,ru:()=>Ce,xb:()=>qt,w1:()=>Ee,hl:()=>fe,uI:()=>we,UG:()=>ue,Yr:()=>_t,b$:()=>Me,w9:()=>Ot,cI:()=>ze,UI:()=>Wn,xO:()=>wr,zd:()=>si,DV:()=>Gt,ug:()=>Pe,dS:()=>bt,Pz:()=>st});var d=D(4762),Y=function(K,G){if(!K)throw q(G)},q=function(K){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+K)},$=function(K){for(var G=[],ne=0,he=0;he<K.length;he++){var ee=K.charCodeAt(he);ee<128?G[ne++]=ee:ee<2048?(G[ne++]=ee>>6|192,G[ne++]=63&ee|128):55296==(64512&ee)&&he+1<K.length&&56320==(64512&K.charCodeAt(he+1))?(ee=65536+((1023&ee)<<10)+(1023&K.charCodeAt(++he)),G[ne++]=ee>>18|240,G[ne++]=ee>>12&63|128,G[ne++]=ee>>6&63|128,G[ne++]=63&ee|128):(G[ne++]=ee>>12|224,G[ne++]=ee>>6&63|128,G[ne++]=63&ee|128)}return G},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,G){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[],ee=0;ee<K.length;ee+=3){var xe=K[ee],je=ee+1<K.length,mt=je?K[ee+1]:0,Tt=ee+2<K.length,lt=Tt?K[ee+2]:0,En=(15&mt)<<2|lt>>6,Wr=63&lt;Tt||(Wr=64,je||(En=64)),he.push(ne[xe>>2],ne[(3&xe)<<4|mt>>4],ne[En],ne[Wr])}return he.join("")},encodeString:function(K,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(K):this.encodeByteArray($(K),G)},decodeString:function(K,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(K):function(K){for(var G=[],ne=0,he=0;ne<K.length;){var ee=K[ne++];if(ee<128)G[he++]=String.fromCharCode(ee);else if(ee>191&&ee<224){var xe=K[ne++];G[he++]=String.fromCharCode((31&ee)<<6|63&xe)}else if(ee>239&&ee<365){var Tt=((7&ee)<<18|(63&(xe=K[ne++]))<<12|(63&(je=K[ne++]))<<6|63&K[ne++])-65536;G[he++]=String.fromCharCode(55296+(Tt>>10)),G[he++]=String.fromCharCode(56320+(1023&Tt))}else{xe=K[ne++];var je=K[ne++];G[he++]=String.fromCharCode((15&ee)<<12|(63&xe)<<6|63&je)}}return G.join("")}(this.decodeStringToByteArray(K,G))},decodeStringToByteArray:function(K,G){this.init_();for(var ne=G?this.charToByteMapWebSafe_:this.charToByteMap_,he=[],ee=0;ee<K.length;){var xe=ne[K.charAt(ee++)],mt=ee<K.length?ne[K.charAt(ee)]:0,lt=++ee<K.length?ne[K.charAt(ee)]:64,Un=++ee<K.length?ne[K.charAt(ee)]:64;if(++ee,null==xe||null==mt||null==lt||null==Un)throw Error();he.push(xe<<2|mt>>4),64!==lt&&(he.push(mt<<4&240|lt>>2),64!==Un&&he.push(lt<<6&192|Un))}return he},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},P=function(K){var G=$(K);return j.encodeByteArray(G,!0)},S=function(K){try{return j.decodeString(K,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(K){return O(void 0,K)}function O(K,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return G}for(var he in G)!G.hasOwnProperty(he)||!H(he)||(K[he]=O(K[he],G[he]));return K}function H(K){return"__proto__"!==K}var te=function(){function K(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,he){G.resolve=ne,G.reject=he})}return K.prototype.wrapCallback=function(G){var ne=this;return function(he,ee){he?ne.reject(he):ne.resolve(ee),"function"==typeof G&&(ne.promise.catch(function(){}),1===G.length?G(he):G(he,ee))}},K}();function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function ye(){return"object"==typeof self&&self.self===self}function Ce(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){var K=se();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function _t(){return!1}function fe(){return"indexedDB"in self&&null!=indexedDB}var oe=function(K){function G(ne,he,ee){var xe=K.call(this,he)||this;return xe.code=ne,xe.customData=ee,xe.name="FirebaseError",Object.setPrototypeOf(xe,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(xe,Fe.prototype.create),xe}return(0,d.ZT)(G,K),G}(Error),Fe=function(){function K(G,ne,he){this.service=G,this.serviceName=ne,this.errors=he}return K.prototype.create=function(G){for(var ne=[],he=1;he<arguments.length;he++)ne[he-1]=arguments[he];var ee=ne[0]||{},xe=this.service+"/"+G,je=this.errors[G],mt=je?at(je,ee):"Error",Tt=this.serviceName+": "+mt+" ("+xe+").",lt=new oe(xe,Tt,ee);return lt},K}();function at(K,G){return K.replace(pt,function(ne,he){var ee=G[he];return null!=ee?String(ee):"<"+he+"?>"})}var pt=/\{\$([^}]+)}/g;function ze(K){return JSON.parse(K)}function st(K){return JSON.stringify(K)}var Je=function(K){var G={},ne={},he={},ee="";try{var xe=K.split(".");G=ze(S(xe[0])||""),ne=ze(S(xe[1])||""),ee=xe[2],he=ne.d||{},delete ne.d}catch(je){}return{header:G,claims:ne,data:he,signature:ee}},Ot=function(K){var ne=Je(K).claims;return!!ne&&"object"==typeof ne&&ne.hasOwnProperty("iat")},kt=function(K){var G=Je(K).claims;return"object"==typeof G&&!0===G.admin};function $r(K,G){return Object.prototype.hasOwnProperty.call(K,G)}function Gt(K,G){if(Object.prototype.hasOwnProperty.call(K,G))return K[G]}function qt(K){for(var G in K)if(Object.prototype.hasOwnProperty.call(K,G))return!1;return!0}function Wn(K,G,ne){var he={};for(var ee in K)Object.prototype.hasOwnProperty.call(K,ee)&&(he[ee]=G.call(ne,K[ee],ee,K));return he}function $i(K,G){if(K===G)return!0;for(var ne=Object.keys(K),he=Object.keys(G),ee=0,xe=ne;ee<xe.length;ee++){if(!he.includes(je=xe[ee]))return!1;var mt=K[je],Tt=G[je];if(vi(mt)&&vi(Tt)){if(!$i(mt,Tt))return!1}else if(mt!==Tt)return!1}for(var lt=0,Dn=he;lt<Dn.length;lt++){var je;if(!ne.includes(je=Dn[lt]))return!1}return!0}function vi(K){return null!==K&&"object"==typeof K}function wr(K){for(var G=[],ne=function(Tt,lt){Array.isArray(lt)?lt.forEach(function(Dn){G.push(encodeURIComponent(Tt)+"="+encodeURIComponent(Dn))}):G.push(encodeURIComponent(Tt)+"="+encodeURIComponent(lt))},he=0,ee=Object.entries(K);he<ee.length;he++){var xe=ee[he];ne(xe[0],xe[1])}return G.length?"&"+G.join("&"):""}function si(K){var G={};return K.replace(/^\?/,"").split("&").forEach(function(he){if(he){var ee=he.split("="),je=ee[1];G[decodeURIComponent(ee[0])]=decodeURIComponent(je)}}),G}function Gn(K){var G=K.indexOf("?");if(!G)return"";var ne=K.indexOf("#",G);return K.substring(G,ne>0?ne:void 0)}var oi=function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}return K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function(G,ne){ne||(ne=0);var he=this.W_;if("string"==typeof G)for(var ee=0;ee<16;ee++)he[ee]=G.charCodeAt(ne)<<24|G.charCodeAt(ne+1)<<16|G.charCodeAt(ne+2)<<8|G.charCodeAt(ne+3),ne+=4;else for(ee=0;ee<16;ee++)he[ee]=G[ne]<<24|G[ne+1]<<16|G[ne+2]<<8|G[ne+3],ne+=4;for(ee=16;ee<80;ee++)he[ee]=4294967295&((xe=he[ee-3]^he[ee-8]^he[ee-14]^he[ee-16])<<1|xe>>>31);var Un,En,je=this.chain_[0],mt=this.chain_[1],Tt=this.chain_[2],lt=this.chain_[3],Dn=this.chain_[4];for(ee=0;ee<80;ee++){ee<40?ee<20?(Un=lt^mt&(Tt^lt),En=1518500249):(Un=mt^Tt^lt,En=1859775393):ee<60?(Un=mt&Tt|lt&(mt|Tt),En=2400959708):(Un=mt^Tt^lt,En=3395469782);var xe=(je<<5|je>>>27)+Un+Dn+En+he[ee]&4294967295;Dn=lt,lt=Tt,Tt=4294967295&(mt<<30|mt>>>2),mt=je,je=xe}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+Tt&4294967295,this.chain_[3]=this.chain_[3]+lt&4294967295,this.chain_[4]=this.chain_[4]+Dn&4294967295},K.prototype.update=function(G,ne){if(null!=G){void 0===ne&&(ne=G.length);for(var he=ne-this.blockSize,ee=0,xe=this.buf_,je=this.inbuf_;ee<ne;){if(0===je)for(;ee<=he;)this.compress_(G,ee),ee+=this.blockSize;if("string"==typeof G){for(;ee<ne;)if(xe[je]=G.charCodeAt(ee),++ee,++je===this.blockSize){this.compress_(xe),je=0;break}}else for(;ee<ne;)if(xe[je]=G[ee],++ee,++je===this.blockSize){this.compress_(xe),je=0;break}}this.inbuf_=je,this.total_+=ne}},K.prototype.digest=function(){var G=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var he=this.blockSize-1;he>=56;he--)this.buf_[he]=255&ne,ne/=256;this.compress_(this.buf_);var ee=0;for(he=0;he<5;he++)for(var xe=24;xe>=0;xe-=8)G[ee]=this.chain_[he]>>xe&255,++ee;return G},K}();function Dr(K,G){var ne=new Ue(K,G);return ne.subscribe.bind(ne)}var Ue=function(){function K(G,ne){var he=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){G(he)}).catch(function(ee){he.error(ee)})}return K.prototype.next=function(G){this.forEachObserver(function(ne){ne.next(G)})},K.prototype.error=function(G){this.forEachObserver(function(ne){ne.error(G)}),this.close(G)},K.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},K.prototype.subscribe=function(G,ne,he){var xe,ee=this;if(void 0===G&&void 0===ne&&void 0===he)throw new Error("Missing Observer.");void 0===(xe=function(K,G){if("object"!=typeof K||null===K)return!1;for(var ne=0,he=["next","error","complete"];ne<he.length;ne++){var ee=he[ne];if(ee in K&&"function"==typeof K[ee])return!0}return!1}(G)?G:{next:G,error:ne,complete:he}).next&&(xe.next=zn),void 0===xe.error&&(xe.error=zn),void 0===xe.complete&&(xe.complete=zn);var je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ee.finalError?xe.error(ee.finalError):xe.complete()}catch(mt){}}),this.observers.push(xe),je},K.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function(G){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,G)},K.prototype.sendOne=function(G,ne){var he=this;this.task.then(function(){if(void 0!==he.observers&&void 0!==he.observers[G])try{ne(he.observers[G])}catch(ee){"undefined"!=typeof console&&console.error&&console.error(ee)}})},K.prototype.close=function(G){var ne=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},K}();function zn(){}function He(K,G){return K+" failed: "+G+" argument "}var bt=function(K){for(var G=[],ne=0,he=0;he<K.length;he++){var ee=K.charCodeAt(he);if(ee>=55296&&ee<=56319){var xe=ee-55296;he++,Y(he<K.length,"Surrogate pair missing trail surrogate."),ee=65536+(xe<<10)+(K.charCodeAt(he)-56320)}ee<128?G[ne++]=ee:ee<2048?(G[ne++]=ee>>6|192,G[ne++]=63&ee|128):ee<65536?(G[ne++]=ee>>12|224,G[ne++]=ee>>6&63|128,G[ne++]=63&ee|128):(G[ne++]=ee>>18|240,G[ne++]=ee>>12&63|128,G[ne++]=ee>>6&63|128,G[ne++]=63&ee|128)}return G},Pe=function(K){for(var G=0,ne=0;ne<K.length;ne++){var he=K.charCodeAt(ne);he<128?G++:he<2048?G+=2:he>=55296&&he<=56319?(G+=4,ne++):G+=3}return G};function Bt(K){return K&&K._delegate?K._delegate:K}},3572:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4220),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7574),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Q){const B={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof Q?Q():Q,Y=Object.assign({},B,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||B.features},D);if(Y.maxAge&&Y.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Y.maxAge}`);return Y}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(B,D){if(this.action=B,this.timestamp=D,this.type=PERFORM_ACTION,void 0===B.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(B){this.timestamp=B,this.type=RESET}}class Rollback{constructor(B){this.timestamp=B,this.type=ROLLBACK}}class Commit{constructor(B){this.timestamp=B,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(B){this.id=B,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(B,D,d=!0){this.start=B,this.end=D,this.active=d,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(B){this.index=B,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(B){this.actionId=B,this.type=JUMP_TO_ACTION}}class ImportState{constructor(B){this.nextLiftedState=B,this.type=IMPORT_STATE}}class LockChanges{constructor(B){this.status=B,this.type=LOCK_CHANGES}}class PauseRecording{constructor(B){this.status=B,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class Q extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Q.\u0275fac=function(){let B;return function(d){return(B||(B=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Q)))(d||Q)}}(),Q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function difference(Q,B){return Q.filter(D=>B.indexOf(D)<0)}function unliftState(Q){const{computedStates:B,currentStateIndex:D}=Q;if(D>=B.length){const{state:N}=B[B.length-1];return N}const{state:d}=B[D];return d}function unliftAction(Q){return Q.actionsById[Q.nextActionId-1]}function liftAction(Q){return new PerformAction(Q,+Date.now())}function sanitizeActions(Q,B){return Object.keys(B).reduce((D,d)=>{const N=Number(d);return D[N]=sanitizeAction(Q,B[N],N),D},{})}function sanitizeAction(Q,B,D){return Object.assign(Object.assign({},B),{action:Q(B.action,D)})}function sanitizeStates(Q,B){return B.map((D,d)=>({state:sanitizeState(Q,D.state,d),error:D.error}))}function sanitizeState(Q,B,D){return Q(B,D)}function shouldFilterActions(Q){return Q.predicate||Q.actionsSafelist||Q.actionsBlocklist}function filterLiftedState(Q,B,D,d){const N=[],Y={},q=[];return Q.stagedActionIds.forEach(($,k)=>{const j=Q.actionsById[$];!j||k&&isActionFiltered(Q.computedStates[k],j,B,D,d)||(Y[$]=j,N.push($),q.push(Q.computedStates[k]))}),Object.assign(Object.assign({},Q),{stagedActionIds:N,actionsById:Y,computedStates:q})}function isActionFiltered(Q,B,D,d,N){const Y=D&&!D(Q,B.action),q=d&&!B.action.type.match(d.map(k=>escapeRegExp(k)).join("|")),$=N&&B.action.type.match(N.map(k=>escapeRegExp(k)).join("|"));return Y||q||$}function escapeRegExp(Q){return Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Q,B,D){this.config=B,this.dispatcher=D,this.devtoolsExtension=Q,this.createActionStreams()}notify(Q,B){if(this.devtoolsExtension)if(Q.type===PERFORM_ACTION){if(B.isLocked||B.isPaused)return;const D=unliftState(B);if(shouldFilterActions(this.config)&&isActionFiltered(D,Q,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const d=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,B.currentStateIndex):D,N=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Q,B.nextActionId):Q;this.sendToReduxDevtools(()=>this.extensionConnection.send(N,d))}else{const D=Object.assign(Object.assign({},B),{stagedActionIds:B.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,B.actionsById):B.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,B.computedStates):B.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Q=>{const B=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=B,B.init(),B.subscribe(D=>Q.next(D)),B.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Q=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),B=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.START)),D=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.STOP)),d=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)($=>$.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(k=>k.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($))),Y=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),q=d.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Y)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>q))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Q){var B;const D={name:Q.name,features:Q.features,serialize:Q.serialize,autoPause:null!==(B=Q.autoPause)&&void 0!==B&&B};return!1!==Q.maxAge&&(D.maxAge=Q.maxAge),D}sendToReduxDevtools(Q){try{Q()}catch(B){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",B)}}}return DevtoolsExtension.\u0275fac=function(B){return new(B||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Q,B,D,d,N){if(d)return{state:D,error:"Interrupted by an error up the chain"};let q,Y=D;try{Y=Q(D,B)}catch($){q=$.toString(),N.handleError($)}return{state:Y,error:q}}function recomputeStates(Q,B,D,d,N,Y,q,$,k){if(B>=Q.length&&Q.length===Y.length)return Q;const j=Q.slice(0,B),P=Y.length-(k?1:0);for(let R=B;R<P;R++){const S=Y[R],V=N[S].action,O=j[R-1],H=O?O.state:d,te=O?O.error:void 0,se=q.indexOf(S)>-1?O:computeNextEntry(D,V,H,te,$);j.push(se)}return k&&j.push(Q[Q.length-1]),j}function liftInitialState(Q,B){return{monitorState:B(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Q,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Q,B,D,d,N={}){return Y=>(q,$)=>{let{monitorState:k,actionsById:j,nextActionId:P,stagedActionIds:R,skippedActionIds:S,committedState:V,currentStateIndex:O,computedStates:H,isLocked:te,isPaused:de}=q||B;function se(ye){let Ce=ye,Me=R.slice(1,Ce+1);for(let Ne=0;Ne<Me.length;Ne++){if(H[Ne+1].error){Ce=Ne,Me=R.slice(1,Ce+1);break}delete j[Me[Ne]]}S=S.filter(Ne=>-1===Me.indexOf(Ne)),R=[0,...R.slice(Ce+1)],V=H[Ce].state,H=H.slice(Ce),O=O>Ce?O-Ce:0}function we(){j={0:liftAction(INIT_ACTION)},P=1,R=[0],S=[],V=H[O].state,O=0,H=[]}q||(j=Object.create(j));let ue=0;switch($.type){case LOCK_CHANGES:te=$.status,ue=1/0;break;case PAUSE_RECORDING:de=$.status,de?(R=[...R,P],j[P]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),P++,ue=R.length-1,H=H.concat(H[H.length-1]),O===R.length-2&&O++,ue=1/0):we();break;case RESET:j={0:liftAction(INIT_ACTION)},P=1,R=[0],S=[],V=Q,O=0,H=[];break;case COMMIT:we();break;case ROLLBACK:j={0:liftAction(INIT_ACTION)},P=1,R=[0],S=[],O=0,H=[];break;case TOGGLE_ACTION:{const{id:ye}=$;S=-1===S.indexOf(ye)?[ye,...S]:S.filter(Me=>Me!==ye),ue=R.indexOf(ye);break}case SET_ACTIONS_ACTIVE:{const{start:ye,end:Ce,active:Me}=$,Ne=[];for(let Ee=ye;Ee<Ce;Ee++)Ne.push(Ee);S=Me?difference(S,Ne):[...S,...Ne],ue=R.indexOf(ye);break}case JUMP_TO_STATE:O=$.index,ue=1/0;break;case JUMP_TO_ACTION:{const ye=R.indexOf($.actionId);-1!==ye&&(O=ye),ue=1/0;break}case SWEEP:R=difference(R,S),S=[],O=Math.min(O,R.length-1);break;case PERFORM_ACTION:{if(te)return q||B;if(de||q&&isActionFiltered(q.computedStates[O],$,N.predicate,N.actionsSafelist,N.actionsBlocklist)){const Ce=H[H.length-1];H=[...H.slice(0,-1),computeNextEntry(Y,$.action,Ce.state,Ce.error,D)],ue=1/0;break}N.maxAge&&R.length===N.maxAge&&se(1),O===R.length-1&&O++;const ye=P++;j[ye]=$,R=[...R,ye],ue=R.length-1;break}case IMPORT_STATE:({monitorState:k,actionsById:j,nextActionId:P,stagedActionIds:R,skippedActionIds:S,committedState:V,currentStateIndex:O,computedStates:H,isLocked:te,isPaused:de}=$.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ue=0,N.maxAge&&R.length>N.maxAge&&(H=recomputeStates(H,ue,Y,V,j,R,S,D,de),se(R.length-N.maxAge),ue=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(H.filter(Ce=>Ce.error).length>0)ue=0,N.maxAge&&R.length>N.maxAge&&(H=recomputeStates(H,ue,Y,V,j,R,S,D,de),se(R.length-N.maxAge),ue=1/0);else{if(!de&&!te){O===R.length-1&&O++;const Ce=P++;j[Ce]=new PerformAction($,+Date.now()),R=[...R,Ce],ue=R.length-1,H=recomputeStates(H,ue,Y,V,j,R,S,D,de)}H=H.map(Ce=>Object.assign(Object.assign({},Ce),{state:Y(Ce.state,RECOMPUTE_ACTION)})),O=R.length-1,N.maxAge&&R.length>N.maxAge&&se(R.length-N.maxAge),ue=1/0}break;default:ue=1/0}return H=recomputeStates(H,ue,Y,V,j,R,S,D,de),k=d(k,$),{monitorState:k,actionsById:j,nextActionId:P,stagedActionIds:R,skippedActionIds:S,committedState:V,currentStateIndex:O,computedStates:H,isLocked:te,isPaused:de}}}let StoreDevtools=(()=>{class Q{constructor(D,d,N,Y,q,$,k,j){const P=liftInitialState(k,j.monitor),R=liftReducerWith(k,P,$,j.monitor,j),S=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(d.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),Y.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,Y.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),V=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(R)),O=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),H=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(V),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:we},[ue,ye])=>{let Ce=ye(we,ue);return ue.type!==PERFORM_ACTION&&shouldFilterActions(j)&&(Ce=filterLiftedState(Ce,j.predicate,j.actionsSafelist,j.actionsBlocklist)),Y.notify(ue,Ce),{state:Ce,action:ue}},{state:P,action:null})).subscribe(({state:we,action:ue})=>{O.next(we),ue.type===PERFORM_ACTION&&q.next(ue.action)}),te=Y.start$.subscribe(()=>{this.refresh()}),de=O.asObservable(),se=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=te,this.stateSubscription=H,this.dispatcher=D,this.liftedState=de,this.state=se}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return Q.\u0275fac=function(D){return new(D||Q)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Q.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Q,B){return Boolean(Q)||B.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Q="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Q]?window[Q]:null}function createStateObservable(Q){return Q.state}let StoreDevtoolsModule=(()=>{class Q{static instrument(D={}){return{ngModule:Q,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:D},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Q.\u0275fac=function(D){return new(D||Q)},Q.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Q}),Q.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Q})()},4220:(Q,B,D)=>{"use strict";D.d(B,{UO:()=>Ee,qg:()=>Ne,Y6:()=>fe,mK:()=>oi,n$:()=>Gn,Y$:()=>Vn,FR:()=>Xe,yh:()=>Tn,CK:()=>Gr,Aw:()=>zr,cr:()=>Ze,wb:()=>Dr,qC:()=>vi,PH:()=>ue,Lq:()=>uo,on:()=>$t,Ky:()=>ye});var d=D(7716),N=D(6215),Y=D(7574),q=D(9765),$=D(7771),k=D(8002),R=D(7393);class V{constructor(ge,X){this.compare=ge,this.keySelector=X}call(ge,X){return X.subscribe(new O(ge,this.compare,this.keySelector))}}class O extends R.L{constructor(ge,X,pe){super(ge),this.keySelector=pe,this.hasKey=!1,"function"==typeof X&&(this.compare=X)}compare(ge,X){return ge===X}_next(ge){let X;try{const{keySelector:Se}=this;X=Se?Se(ge):ge}catch(Se){return this.destination.error(Se)}let pe=!1;if(this.hasKey)try{const{compare:Se}=this;pe=Se(this.key,X)}catch(Se){return this.destination.error(Se)}else this.hasKey=!0;pe||(this.key=X,this.destination.next(ge))}}var H=D(9746),te=D(7057),de=D(2145);const se={};function ue(W,ge){if(se[W]=(se[W]||0)+1,"function"==typeof ge)return Me(W,(...pe)=>Object.assign(Object.assign({},ge(...pe)),{type:W}));switch(ge?ge._as:"empty"){case"empty":return Me(W,()=>({type:W}));case"props":return Me(W,pe=>Object.assign(Object.assign({},pe),{type:W}));default:throw new Error("Unexpected config.")}}function ye(){return{_as:"props",_p:void 0}}function Me(W,ge){return Object.defineProperty(ge,"type",{value:W,writable:!1})}const Ne="@ngrx/store/init";let Ee=(()=>{class W extends N.X{constructor(){super({type:Ne})}next(X){if("function"==typeof X)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===X)throw new TypeError("Actions must be objects");if(void 0===X.type)throw new TypeError("Actions must have a type property");super.next(X)}complete(){}ngOnDestroy(){super.complete()}}return W.\u0275fac=function(X){return new(X||W)},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const ut=[Ee],_t=new d.OlP("@ngrx/store Internal Root Guard"),yt=new d.OlP("@ngrx/store Internal Initial State"),fe=new d.OlP("@ngrx/store Initial State"),ve=new d.OlP("@ngrx/store Reducer Factory"),ie=new d.OlP("@ngrx/store Internal Reducer Factory Provider"),re=new d.OlP("@ngrx/store Initial Reducers"),be=new d.OlP("@ngrx/store Internal Initial Reducers"),oe=new d.OlP("@ngrx/store Store Features"),Fe=new d.OlP("@ngrx/store Internal Store Reducers"),at=new d.OlP("@ngrx/store Internal Feature Reducers"),pt=new d.OlP("@ngrx/store Internal Feature Configs"),ze=new d.OlP("@ngrx/store Internal Store Features"),st=new d.OlP("@ngrx/store Internal Feature Reducers Token"),Je=new d.OlP("@ngrx/store Feature Reducers"),ln=new d.OlP("@ngrx/store User Provided Meta Reducers"),Yt=new d.OlP("@ngrx/store Meta Reducers"),Ot=new d.OlP("@ngrx/store Internal Resolved Meta Reducers"),kt=new d.OlP("@ngrx/store User Runtime Checks Config"),$r=new d.OlP("@ngrx/store Internal User Runtime Checks Config"),Gt=new d.OlP("@ngrx/store Internal Runtime Checks"),qt=new d.OlP("@ngrx/store Check if Action types are unique");function Wn(W,ge={}){const X=Object.keys(W),pe={};for(let Re=0;Re<X.length;Re++){const Ke=X[Re];"function"==typeof W[Ke]&&(pe[Ke]=W[Ke])}const Se=Object.keys(pe);return function(Ke,yn){Ke=void 0===Ke?ge:Ke;let Vt=!1;const Zt={};for(let Rt=0;Rt<Se.length;Rt++){const sn=Se[Rt],dr=Ke[sn],un=(0,pe[sn])(dr,yn);Zt[sn]=un,Vt=Vt||un!==dr}return Vt?Zt:Ke}}function vi(...W){return function(ge){if(0===W.length)return ge;const X=W[W.length-1];return W.slice(0,-1).reduceRight((Se,Re)=>Re(Se),X(ge))}}function wr(W,ge){return Array.isArray(ge)&&ge.length>0&&(W=vi.apply(null,[...ge,W])),(X,pe)=>{const Se=W(X);return(Re,Ke)=>Se(Re=void 0===Re?pe:Re,Ke)}}class Gn extends Y.y{}class oi extends Ee{}const Dr="@ngrx/store/update-reducers";let Ue=(()=>{class W extends N.X{constructor(X,pe,Se,Re){super(Re(Se,pe)),this.dispatcher=X,this.initialState=pe,this.reducers=Se,this.reducerFactory=Re}get currentReducers(){return this.reducers}addFeature(X){this.addFeatures([X])}addFeatures(X){const pe=X.reduce((Se,{reducers:Re,reducerFactory:Ke,metaReducers:yn,initialState:Vt,key:Zt})=>{const Rt="function"==typeof Re?function(W){const ge=Array.isArray(W)&&W.length>0?vi(...W):X=>X;return(X,pe)=>(X=ge(X),(Se,Re)=>X(Se=void 0===Se?pe:Se,Re))}(yn)(Re,Vt):wr(Ke,yn)(Re,Vt);return Se[Zt]=Rt,Se},{});this.addReducers(pe)}removeFeature(X){this.removeFeatures([X])}removeFeatures(X){this.removeReducers(X.map(pe=>pe.key))}addReducer(X,pe){this.addReducers({[X]:pe})}addReducers(X){this.reducers=Object.assign(Object.assign({},this.reducers),X),this.updateReducers(Object.keys(X))}removeReducer(X){this.removeReducers([X])}removeReducers(X){X.forEach(pe=>{this.reducers=function(W,ge){return Object.keys(W).filter(X=>X!==ge).reduce((X,pe)=>Object.assign(X,{[pe]:W[pe]}),{})}(this.reducers,pe)}),this.updateReducers(X)}updateReducers(X){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Dr,features:X})}ngOnDestroy(){this.complete()}}return W.\u0275fac=function(X){return new(X||W)(d.LFG(oi),d.LFG(fe),d.LFG(re),d.LFG(ve))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const _n=[Ue,{provide:Gn,useExisting:Ue},{provide:oi,useExisting:Ee}];let Vn=(()=>{class W extends q.xQ{ngOnDestroy(){this.complete()}}return W.\u0275fac=function(){let ge;return function(pe){return(ge||(ge=d.n5z(W)))(pe||W)}}(),W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const zn=[Vn];class Xe extends Y.y{}let He=(()=>{class W extends N.X{constructor(X,pe,Se,Re){super(Re);const Zt=X.pipe((0,H.QV)($.N)).pipe((0,te.M)(pe)).pipe((0,de.R)(Ct,{state:Re}));this.stateSubscription=Zt.subscribe(({state:Rt,action:sn})=>{this.next(Rt),Se.next(sn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return W.\u0275fac=function(X){return new(X||W)(d.LFG(Ee),d.LFG(Gn),d.LFG(Vn),d.LFG(fe))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W.INIT=Ne,W})();function Ct(W={state:void 0},[ge,X]){const{state:pe}=W;return{state:X(pe,ge),action:ge}}const gt=[He,{provide:Xe,useExisting:He}];let Tn=(()=>{class W extends Y.y{constructor(X,pe,Se){super(),this.actionsObserver=pe,this.reducerManager=Se,this.source=X}select(X,...pe){return Pe.call(null,X,...pe)(this)}lift(X){const pe=new W(this,this.actionsObserver,this.reducerManager);return pe.operator=X,pe}dispatch(X){this.actionsObserver.next(X)}next(X){this.actionsObserver.next(X)}error(X){this.actionsObserver.error(X)}complete(){this.actionsObserver.complete()}addReducer(X,pe){this.reducerManager.addReducer(X,pe)}removeReducer(X){this.reducerManager.removeReducer(X)}}return W.\u0275fac=function(X){return new(X||W)(d.LFG(Xe),d.LFG(Ee),d.LFG(Ue))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac}),W})();const bt=[Tn];function Pe(W,ge,...X){return function(Se){let Re;if("string"==typeof W){const Ke=[ge,...X].filter(Boolean);Re=Se.pipe(function(...W){const ge=W.length;if(0===ge)throw new Error("list of properties cannot be empty.");return X=>(0,k.U)(function(W,ge){return pe=>{let Se=pe;for(let Re=0;Re<ge;Re++){const Ke=null!=Se?Se[W[Re]]:void 0;if(void 0===Ke)return;Se=Ke}return Se}}(W,ge))(X)}(W,...Ke))}else{if("function"!=typeof W)throw new TypeError(`Unexpected type '${typeof W}' in select operator, expected 'string' or 'function'`);Re=Se.pipe((0,k.U)(Ke=>W(Ke,ge)))}return Re.pipe(X=>X.lift(new V(void 0,void 0)))}}const vs="https://ngrx.io/guide/store/configuration/runtime-checks";function ai(W){return void 0===W}function An(W){return null===W}function Lt(W){return Array.isArray(W)}function K(W){return"object"==typeof W&&null!==W}function he(W){return"function"==typeof W}function Kn(W){Object.freeze(W);const ge=he(W);return Object.getOwnPropertyNames(W).forEach(X=>{if(!X.startsWith("\u0275")&&function(W,ge){return Object.prototype.hasOwnProperty.call(W,ge)}(W,X)&&(!ge||"caller"!==X&&"callee"!==X&&"arguments"!==X)){const pe=W[X];(K(pe)||he(pe))&&!Object.isFrozen(pe)&&Kn(pe)}}),W}function la(W,ge=[]){return(ai(W)||An(W))&&0===ge.length?{path:["root"],value:W}:Object.keys(W).reduce((pe,Se)=>{if(pe)return pe;const Re=W[Se];return function(W){return he(W)&&W.hasOwnProperty("\u0275cmp")}(Re)?pe:!(ai(Re)||An(Re)||function(W){return"number"==typeof W}(Re)||function(W){return"boolean"==typeof W}(Re)||function(W){return"string"==typeof W}(Re)||Lt(Re))&&(function(W){if(!function(W){return K(W)&&!Lt(W)}(W))return!1;const ge=Object.getPrototypeOf(W);return ge===Object.prototype||null===ge}(Re)?la(Re,[...ge,Se]):{path:[...ge,Se],value:Re})},!1)}function Mn(W,ge){if(!1===W)return;const X=W.path.join("."),pe=new Error(`Detected unserializable ${ge} at "${X}". ${vs}#strict${ge}serializability`);throw pe.value=W.value,pe.unserializablePath=X,pe}function $e(W){return(0,d.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},W):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ht({strictActionSerializability:W,strictStateSerializability:ge}){return X=>W||ge?function(W,ge){return function(X,pe){ge.action(pe)&&Mn(la(pe),"action");const Se=W(X,pe);return ge.state()&&Mn(la(Se),"state"),Se}}(X,{action:pe=>W&&!Tr(pe),state:()=>ge}):X}function qn({strictActionImmutability:W,strictStateImmutability:ge}){return X=>W||ge?function(W,ge){return function(X,pe){const Se=ge.action(pe)?Kn(pe):pe,Re=W(X,Se);return ge.state()?Kn(Re):Re}}(X,{action:pe=>W&&!Tr(pe),state:()=>ge}):X}function Tr(W){return W.type.startsWith("@ngrx")}function Cn({strictActionWithinNgZone:W}){return ge=>W?function(W,ge){return function(X,pe){if(ge.action(pe)&&!d.R0b.isInAngularZone())throw new Error(`Action '${pe.type}' running outside NgZone. ${vs}#strictactionwithinngzone`);return W(X,pe)}}(ge,{action:X=>W&&!Tr(X)}):ge}function Ar(W){return[{provide:$r,useValue:W},{provide:kt,useFactory:Sr,deps:[$r]},{provide:Gt,deps:[kt],useFactory:$e},{provide:Yt,multi:!0,deps:[Gt],useFactory:qn},{provide:Yt,multi:!0,deps:[Gt],useFactory:Ht},{provide:Yt,multi:!0,deps:[Gt],useFactory:Cn}]}function rn(){return[{provide:qt,multi:!0,deps:[Gt],useFactory:Ei}]}function Sr(W){return W}function Ei(W){if(!W.strictActionTypeUniqueness)return;const ge=Object.entries(se).filter(([,X])=>X>1).map(([X])=>X);if(ge.length)throw new Error(`Action types are registered more than once, ${ge.map(X=>`"${X}"`).join(", ")}. ${vs}#strictactiontypeuniqueness`)}let Ze=(()=>{class W{constructor(X,pe,Se,Re,Ke,yn){}}return W.\u0275fac=function(X){return new(X||W)(d.LFG(Ee),d.LFG(Gn),d.LFG(Vn),d.LFG(Tn),d.LFG(_t,8),d.LFG(qt,8))},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})(),Gr=(()=>{class W{constructor(X,pe,Se,Re,Ke){this.features=X,this.featureReducers=pe,this.reducerManager=Se;const yn=X.map((Vt,Zt)=>{const sn=pe.shift()[Zt];return Object.assign(Object.assign({},Vt),{reducers:sn,initialState:li(Vt.initialState)})});Se.addFeatures(yn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return W.\u0275fac=function(X){return new(X||W)(d.LFG(ze),d.LFG(Je),d.LFG(Ue),d.LFG(Ze),d.LFG(qt,8))},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})(),zr=(()=>{class W{static forRoot(X,pe={}){return{ngModule:Ze,providers:[{provide:_t,useFactory:Zn,deps:[[Tn,new d.FiY,new d.tp0]]},{provide:yt,useValue:pe.initialState},{provide:fe,useFactory:li,deps:[yt]},{provide:be,useValue:X},{provide:Fe,useExisting:X instanceof d.OlP?X:be},{provide:re,deps:[d.zs3,be,[new d.tBr(Fe)]],useFactory:ua},{provide:ln,useValue:pe.metaReducers?pe.metaReducers:[]},{provide:Ot,deps:[Yt,ln],useFactory:Kr},{provide:ie,useValue:pe.reducerFactory?pe.reducerFactory:Wn},{provide:ve,deps:[ie,Ot],useFactory:wr},ut,_n,zn,gt,bt,Ar(pe.runtimeChecks),rn()]}}static forFeature(X,pe,Se={}){return{ngModule:Gr,providers:[{provide:pt,multi:!0,useValue:X instanceof Object?{}:Se},{provide:oe,multi:!0,useValue:{key:X instanceof Object?X.name:X,reducerFactory:Se instanceof d.OlP||!Se.reducerFactory?Wn:Se.reducerFactory,metaReducers:Se instanceof d.OlP||!Se.metaReducers?[]:Se.metaReducers,initialState:Se instanceof d.OlP||!Se.initialState?void 0:Se.initialState}},{provide:ze,deps:[d.zs3,pt,oe],useFactory:Ci},{provide:at,multi:!0,useValue:X instanceof Object?X.reducer:pe},{provide:st,multi:!0,useExisting:pe instanceof d.OlP?pe:at},{provide:Je,multi:!0,deps:[d.zs3,at,[new d.tBr(st)]],useFactory:jn},rn()]}}}return W.\u0275fac=function(X){return new(X||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();function ua(W,ge){return ge instanceof d.OlP?W.get(ge):ge}function Ci(W,ge,X){return X.map((pe,Se)=>{if(ge[Se]instanceof d.OlP){const Re=W.get(ge[Se]);return{key:pe.key,reducerFactory:Re.reducerFactory?Re.reducerFactory:Wn,metaReducers:Re.metaReducers?Re.metaReducers:[],initialState:Re.initialState}}return pe})}function jn(W,ge){return ge.map(pe=>pe instanceof d.OlP?W.get(pe):pe)}function li(W){return"function"==typeof W?W():W}function Kr(W,ge){return W.concat(ge)}function Zn(W){if(W)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function $t(...W){return{reducer:W.pop(),types:W.map(pe=>pe.type)}}function uo(W,...ge){const X=new Map;for(const pe of ge)for(const Se of pe.types){const Re=X.get(Se);X.set(Se,Re?(yn,Vt)=>pe.reducer(Re(yn,Vt),Vt):pe.reducer)}return function(pe=W,Se){const Re=X.get(Se.type);return Re?Re(pe,Se):pe}}},2329:(Q,B,D)=>{"use strict";D.d(B,{ZF:()=>d.initializeApp});var d=D(5452);(0,d.registerVersion)("firebase","9.0.1","app")},7841:(Q,B,D)=>{"use strict";D.d(B,{Z:()=>d.Z});var d=D(4486);d.Z.registerVersion("firebase","9.0.1","app-compat")},6215:(Q,B,D)=>{"use strict";D.d(B,{X:()=>Y});var d=D(9765),N=D(7971);class Y extends d.xQ{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const k=super._subscribe($);return k&&!k.closed&&$.next(this._value),k}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.N;return this._value}next($){super.next(this._value=$)}}},3098:(Q,B,D)=>{"use strict";D.d(B,{P:()=>$});var d=D(9193),N=D(5917),Y=D(205);class ${constructor(j,P,R){this.kind=j,this.value=P,this.error=R,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,P,R){switch(this.kind){case"N":return j&&j(this.value);case"E":return P&&P(this.error);case"C":return R&&R()}}accept(j,P,R){return j&&"function"==typeof j.next?this.observe(j):this.do(j,P,R)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,Y._)(this.error);case"C":return(0,d.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new $("N",j):$.undefinedValueNotification}static createError(j){return new $("E",void 0,j)}static createComplete(){return $.completeNotification}}$.completeNotification=new $("C"),$.undefinedValueNotification=new $("N",void 0)},7574:(Q,B,D)=>{"use strict";D.d(B,{y:()=>V});var d=D(7393),Y=D(9181),q=D(6490),k=D(6554),j=D(4487);var S=D(2494);let V=(()=>{class H{constructor(de){this._isScalar=!1,de&&(this._subscribe=de)}lift(de){const se=new H;return se.source=this,se.operator=de,se}subscribe(de,se,we){const{operator:ue}=this,ye=function(H,te,de){if(H){if(H instanceof d.L)return H;if(H[Y.b])return H[Y.b]()}return H||te||de?new d.L(H,te,de):new d.L(q.c)}(de,se,we);if(ye.add(ue?ue.call(ye,this.source):this.source||S.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),S.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(de){try{return this._subscribe(de)}catch(se){S.v.useDeprecatedSynchronousErrorHandling&&(de.syncErrorThrown=!0,de.syncErrorValue=se),function(H){for(;H;){const{closed:te,destination:de,isStopped:se}=H;if(te||se)return!1;H=de&&de instanceof d.L?de:null}return!0}(de)?de.error(se):console.warn(se)}}forEach(de,se){return new(se=O(se))((we,ue)=>{let ye;ye=this.subscribe(Ce=>{try{de(Ce)}catch(Me){ue(Me),ye&&ye.unsubscribe()}},ue,we)})}_subscribe(de){const{source:se}=this;return se&&se.subscribe(de)}[k.L](){return this}pipe(...de){return 0===de.length?this:function(H){return 0===H.length?j.y:1===H.length?H[0]:function(de){return H.reduce((se,we)=>we(se),de)}}(de)(this)}toPromise(de){return new(de=O(de))((se,we)=>{let ue;this.subscribe(ye=>ue=ye,ye=>we(ye),()=>se(ue))})}}return H.create=te=>new H(te),H})();function O(H){if(H||(H=S.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},6490:(Q,B,D)=>{"use strict";D.d(B,{c:()=>Y});var d=D(2494),N=D(4449);const Y={closed:!0,next(q){},error(q){if(d.v.useDeprecatedSynchronousErrorHandling)throw q;(0,N.z)(q)},complete(){}}},5197:(Q,B,D)=>{"use strict";D.d(B,{L:()=>N});var d=D(7393);class N extends d.L{notifyNext(q,$,k,j,P){this.destination.next($)}notifyError(q,$){this.destination.error(q)}notifyComplete(q){this.destination.complete()}}},8229:(Q,B,D)=>{"use strict";D.d(B,{t:()=>j});var d=D(9765),N=D(7771),Y=D(5319),q=D(9746),$=D(7971),k=D(8858);class j extends d.xQ{constructor(S=Number.POSITIVE_INFINITY,V=Number.POSITIVE_INFINITY,O){super(),this.scheduler=O,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=S<1?1:S,this._windowTime=V<1?1:V,V===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(S){if(!this.isStopped){const V=this._events;V.push(S),V.length>this._bufferSize&&V.shift()}super.next(S)}nextTimeWindow(S){this.isStopped||(this._events.push(new P(this._getNow(),S)),this._trimBufferThenGetEvents()),super.next(S)}_subscribe(S){const V=this._infiniteTimeWindow,O=V?this._events:this._trimBufferThenGetEvents(),H=this.scheduler,te=O.length;let de;if(this.closed)throw new $.N;if(this.isStopped||this.hasError?de=Y.w.EMPTY:(this.observers.push(S),de=new k.W(this,S)),H&&S.add(S=new q.ht(S,H)),V)for(let se=0;se<te&&!S.closed;se++)S.next(O[se]);else for(let se=0;se<te&&!S.closed;se++)S.next(O[se].value);return this.hasError?S.error(this.thrownError):this.isStopped&&S.complete(),de}_getNow(){return(this.scheduler||N.c).now()}_trimBufferThenGetEvents(){const S=this._getNow(),V=this._bufferSize,O=this._windowTime,H=this._events,te=H.length;let de=0;for(;de<te&&!(S-H[de].time<O);)de++;return te>V&&(de=Math.max(de,te-V)),de>0&&H.splice(0,de),H}}class P{constructor(S,V){this.time=S,this.value=V}}},9765:(Q,B,D)=>{"use strict";D.d(B,{Yc:()=>j,xQ:()=>P});var d=D(7574),N=D(7393),Y=D(5319),q=D(7971),$=D(8858),k=D(9181);class j extends N.L{constructor(V){super(V),this.destination=V}}let P=(()=>{class S extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[k.b](){return new j(this)}lift(O){const H=new R(this,this);return H.operator=O,H}next(O){if(this.closed)throw new q.N;if(!this.isStopped){const{observers:H}=this,te=H.length,de=H.slice();for(let se=0;se<te;se++)de[se].next(O)}}error(O){if(this.closed)throw new q.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:H}=this,te=H.length,de=H.slice();for(let se=0;se<te;se++)de[se].error(O);this.observers.length=0}complete(){if(this.closed)throw new q.N;this.isStopped=!0;const{observers:O}=this,H=O.length,te=O.slice();for(let de=0;de<H;de++)te[de].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new q.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new q.N;return this.hasError?(O.error(this.thrownError),Y.w.EMPTY):this.isStopped?(O.complete(),Y.w.EMPTY):(this.observers.push(O),new $.W(this,O))}asObservable(){const O=new d.y;return O.source=this,O}}return S.create=(V,O)=>new R(V,O),S})();class R extends P{constructor(V,O){super(),this.destination=V,this.source=O}next(V){const{destination:O}=this;O&&O.next&&O.next(V)}error(V){const{destination:O}=this;O&&O.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:O}=this;return O?this.source.subscribe(V):Y.w.EMPTY}}},8858:(Q,B,D)=>{"use strict";D.d(B,{W:()=>N});var d=D(5319);class N extends d.w{constructor(q,$){super(),this.subject=q,this.subscriber=$,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const q=this.subject,$=q.observers;if(this.subject=null,!$||0===$.length||q.isStopped||q.closed)return;const k=$.indexOf(this.subscriber);-1!==k&&$.splice(k,1)}}},7393:(Q,B,D)=>{"use strict";D.d(B,{L:()=>j});var d=D(9105),N=D(6490),Y=D(5319),q=D(9181),$=D(2494),k=D(4449);class j extends Y.w{constructor(S,V,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!S){this.destination=N.c;break}if("object"==typeof S){S instanceof j?(this.syncErrorThrowable=S.syncErrorThrowable,this.destination=S,S.add(this)):(this.syncErrorThrowable=!0,this.destination=new P(this,S));break}default:this.syncErrorThrowable=!0,this.destination=new P(this,S,V,O)}}[q.b](){return this}static create(S,V,O){const H=new j(S,V,O);return H.syncErrorThrowable=!1,H}next(S){this.isStopped||this._next(S)}error(S){this.isStopped||(this.isStopped=!0,this._error(S))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(S){this.destination.next(S)}_error(S){this.destination.error(S),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:S}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=S,this}}class P extends j{constructor(S,V,O,H){super(),this._parentSubscriber=S;let te,de=this;(0,d.m)(V)?te=V:V&&(te=V.next,O=V.error,H=V.complete,V!==N.c&&(de=Object.create(V),(0,d.m)(de.unsubscribe)&&this.add(de.unsubscribe.bind(de)),de.unsubscribe=this.unsubscribe.bind(this))),this._context=de,this._next=te,this._error=O,this._complete=H}next(S){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;$.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,S)&&this.unsubscribe():this.__tryOrUnsub(this._next,S)}}error(S){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:O}=$.v;if(this._error)O&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,S),this.unsubscribe()):(this.__tryOrUnsub(this._error,S),this.unsubscribe());else if(V.syncErrorThrowable)O?(V.syncErrorValue=S,V.syncErrorThrown=!0):(0,k.z)(S),this.unsubscribe();else{if(this.unsubscribe(),O)throw S;(0,k.z)(S)}}}complete(){if(!this.isStopped){const{_parentSubscriber:S}=this;if(this._complete){const V=()=>this._complete.call(this._context);$.v.useDeprecatedSynchronousErrorHandling&&S.syncErrorThrowable?(this.__tryOrSetError(S,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(S,V){try{S.call(this._context,V)}catch(O){if(this.unsubscribe(),$.v.useDeprecatedSynchronousErrorHandling)throw O;(0,k.z)(O)}}__tryOrSetError(S,V,O){if(!$.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,O)}catch(H){return $.v.useDeprecatedSynchronousErrorHandling?(S.syncErrorValue=H,S.syncErrorThrown=!0,!0):((0,k.z)(H),!0)}return!1}_unsubscribe(){const{_parentSubscriber:S}=this;this._context=null,this._parentSubscriber=null,S.unsubscribe()}}},5319:(Q,B,D)=>{"use strict";D.d(B,{w:()=>k});var d=D(9796),N=D(1555),Y=D(9105);const $=(()=>{function P(R){return Error.call(this),this.message=R?`${R.length} errors occurred during unsubscription:\n${R.map((S,V)=>`${V+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=R,this}return P.prototype=Object.create(Error.prototype),P})();class k{constructor(R){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,R&&(this._ctorUnsubscribe=!0,this._unsubscribe=R)}unsubscribe(){let R;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:V,_unsubscribe:O,_subscriptions:H}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof k)S.remove(this);else if(null!==S)for(let te=0;te<S.length;++te)S[te].remove(this);if((0,Y.m)(O)){V&&(this._unsubscribe=void 0);try{O.call(this)}catch(te){R=te instanceof $?j(te.errors):[te]}}if((0,d.k)(H)){let te=-1,de=H.length;for(;++te<de;){const se=H[te];if((0,N.K)(se))try{se.unsubscribe()}catch(we){R=R||[],we instanceof $?R=R.concat(j(we.errors)):R.push(we)}}}if(R)throw new $(R)}add(R){let S=R;if(!R)return k.EMPTY;switch(typeof R){case"function":S=new k(R);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof k)){const H=S;S=new k,S._subscriptions=[H]}break;default:throw new Error("unrecognized teardown "+R+" added to Subscription.")}let{_parentOrParents:V}=S;if(null===V)S._parentOrParents=this;else if(V instanceof k){if(V===this)return S;S._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return S;V.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[S]:O.push(S),S}remove(R){const S=this._subscriptions;if(S){const V=S.indexOf(R);-1!==V&&S.splice(V,1)}}}var P;function j(P){return P.reduce((R,S)=>R.concat(S instanceof $?S.errors:S),[])}k.EMPTY=((P=new k).closed=!0,P)},2494:(Q,B,D)=>{"use strict";D.d(B,{v:()=>N});let d=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Y){if(Y){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=Y},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Q,B,D)=>{"use strict";D.d(B,{IY:()=>q,Ds:()=>k,ft:()=>P});var d=D(7393),N=D(7574),Y=D(7444);class q extends d.L{constructor(S){super(),this.parent=S}_next(S){this.parent.notifyNext(S)}_error(S){this.parent.notifyError(S),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class k extends d.L{notifyNext(S){this.destination.next(S)}notifyError(S){this.destination.error(S)}notifyComplete(){this.destination.complete()}}function P(R,S){if(S.closed)return;if(R instanceof N.y)return R.subscribe(S);let V;try{V=(0,Y.s)(R)(S)}catch(O){S.error(O)}return V}},2441:(Q,B,D)=>{"use strict";D.d(B,{c:()=>$,N:()=>k});var d=D(9765),N=D(7574),Y=D(5319),q=D(1307);class $ extends N.y{constructor(V,O){super(),this.source=V,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new Y.w,V.add(this.source.subscribe(new j(this.getSubject(),this))),V.closed&&(this._connection=null,V=Y.w.EMPTY)),V}refCount(){return(0,q.x)()(this)}}const k=(()=>{const S=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:S._subscribe},_isComplete:{value:S._isComplete,writable:!0},getSubject:{value:S.getSubject},connect:{value:S.connect},refCount:{value:S.refCount}}})();class j extends d.Yc{constructor(V,O){super(V),this.connectable=O}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const O=V._connection;V._refCount=0,V._subject=null,V._connection=null,O&&O.unsubscribe()}}}},9193:(Q,B,D)=>{"use strict";D.d(B,{E:()=>N,c:()=>Y});var d=D(7574);const N=new d.y($=>$.complete());function Y($){return $?function($){return new d.y(k=>$.schedule(()=>k.complete()))}($):N}},4402:(Q,B,D)=>{"use strict";D.d(B,{D:()=>de});var d=D(7574),N=D(7444),Y=D(5319),q=D(6554),j=D(4087),P=D(377),V=D(4072),O=D(9489);function de(se,we){return we?function(se,we){if(null!=se){if(function(se){return se&&"function"==typeof se[q.L]}(se))return function(se,we){return new d.y(ue=>{const ye=new Y.w;return ye.add(we.schedule(()=>{const Ce=se[q.L]();ye.add(Ce.subscribe({next(Me){ye.add(we.schedule(()=>ue.next(Me)))},error(Me){ye.add(we.schedule(()=>ue.error(Me)))},complete(){ye.add(we.schedule(()=>ue.complete()))}}))})),ye})}(se,we);if((0,V.t)(se))return function(se,we){return new d.y(ue=>{const ye=new Y.w;return ye.add(we.schedule(()=>se.then(Ce=>{ye.add(we.schedule(()=>{ue.next(Ce),ye.add(we.schedule(()=>ue.complete()))}))},Ce=>{ye.add(we.schedule(()=>ue.error(Ce)))}))),ye})}(se,we);if((0,O.z)(se))return(0,j.r)(se,we);if(function(se){return se&&"function"==typeof se[P.hZ]}(se)||"string"==typeof se)return function(se,we){if(!se)throw new Error("Iterable cannot be null");return new d.y(ue=>{const ye=new Y.w;let Ce;return ye.add(()=>{Ce&&"function"==typeof Ce.return&&Ce.return()}),ye.add(we.schedule(()=>{Ce=se[P.hZ](),ye.add(we.schedule(function(){if(ue.closed)return;let Me,Ne;try{const Ee=Ce.next();Me=Ee.value,Ne=Ee.done}catch(Ee){return void ue.error(Ee)}Ne?ue.complete():(ue.next(Me),this.schedule())}))})),ye})}(se,we)}throw new TypeError((null!==se&&typeof se||se)+" is not observable")}(se,we):se instanceof d.y?se:new d.y((0,N.s)(se))}},6693:(Q,B,D)=>{"use strict";D.d(B,{n:()=>q});var d=D(7574),N=D(5015),Y=D(4087);function q($,k){return k?(0,Y.r)($,k):new d.y((0,N.V)($))}},6682:(Q,B,D)=>{"use strict";D.d(B,{T:()=>$});var d=D(7574),N=D(4869),Y=D(3282),q=D(6693);function $(...k){let j=Number.POSITIVE_INFINITY,P=null,R=k[k.length-1];return(0,N.K)(R)?(P=k.pop(),k.length>1&&"number"==typeof k[k.length-1]&&(j=k.pop())):"number"==typeof R&&(j=k.pop()),null===P&&1===k.length&&k[0]instanceof d.y?k[0]:(0,Y.J)(j)((0,q.n)(k,P))}},5917:(Q,B,D)=>{"use strict";D.d(B,{of:()=>q});var d=D(4869),N=D(6693),Y=D(4087);function q(...$){let k=$[$.length-1];return(0,d.K)(k)?($.pop(),(0,Y.r)($,k)):(0,N.n)($)}},205:(Q,B,D)=>{"use strict";D.d(B,{_:()=>N});var d=D(7574);function N(q,$){return new d.y($?k=>$.schedule(Y,0,{error:q,subscriber:k}):k=>k.error(q))}function Y({error:q,subscriber:$}){$.error(q)}},5304:(Q,B,D)=>{"use strict";D.d(B,{K:()=>N});var d=D(5345);function N($){return function(j){const P=new Y($),R=j.lift(P);return P.caught=R}}class Y{constructor(k){this.selector=k}call(k,j){return j.subscribe(new q(k,this.selector,this.caught))}}class q extends d.Ds{constructor(k,j,P){super(k),this.selector=j,this.caught=P}error(k){if(!this.isStopped){let j;try{j=this.selector(k,this.caught)}catch(S){return void super.error(S)}this._unsubscribeAndRecycle();const P=new d.IY(this);this.add(P);const R=(0,d.ft)(j,P);R!==P&&this.add(R)}}}},4612:(Q,B,D)=>{"use strict";D.d(B,{b:()=>N});var d=D(9773);function N(Y,q){return(0,d.zg)(Y,q,1)}},4395:(Q,B,D)=>{"use strict";D.d(B,{b:()=>Y});var d=D(7393),N=D(3637);function Y(j,P=N.P){return R=>R.lift(new q(j,P))}class q{constructor(P,R){this.dueTime=P,this.scheduler=R}call(P,R){return R.subscribe(new $(P,this.dueTime,this.scheduler))}}class $ extends d.L{constructor(P,R,S){super(P),this.dueTime=R,this.scheduler=S,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(P){this.clearDebounce(),this.lastValue=P,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:P}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(P)}}clearDebounce(){const P=this.debouncedSubscription;null!==P&&(this.remove(P),P.unsubscribe(),this.debouncedSubscription=null)}}function k(j){j.debouncedNext()}},5435:(Q,B,D)=>{"use strict";D.d(B,{h:()=>N});var d=D(7393);function N($,k){return function(P){return P.lift(new Y($,k))}}class Y{constructor(k,j){this.predicate=k,this.thisArg=j}call(k,j){return j.subscribe(new q(k,this.predicate,this.thisArg))}}class q extends d.L{constructor(k,j,P){super(k),this.predicate=j,this.thisArg=P,this.count=0}_next(k){let j;try{j=this.predicate.call(this.thisArg,k,this.count++)}catch(P){return void this.destination.error(P)}j&&this.destination.next(k)}}},8002:(Q,B,D)=>{"use strict";D.d(B,{U:()=>N});var d=D(7393);function N($,k){return function(P){if("function"!=typeof $)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return P.lift(new Y($,k))}}class Y{constructor(k,j){this.project=k,this.thisArg=j}call(k,j){return j.subscribe(new q(k,this.project,this.thisArg))}}class q extends d.L{constructor(k,j,P){super(k),this.project=j,this.count=0,this.thisArg=P||this}_next(k){let j;try{j=this.project.call(this.thisArg,k,this.count++)}catch(P){return void this.destination.error(P)}this.destination.next(j)}}},3282:(Q,B,D)=>{"use strict";D.d(B,{J:()=>Y});var d=D(9773),N=D(4487);function Y(q=Number.POSITIVE_INFINITY){return(0,d.zg)(N.y,q)}},9773:(Q,B,D)=>{"use strict";D.d(B,{zg:()=>q});var d=D(8002),N=D(4402),Y=D(5345);function q(P,R,S=Number.POSITIVE_INFINITY){return"function"==typeof R?V=>V.pipe(q((O,H)=>(0,N.D)(P(O,H)).pipe((0,d.U)((te,de)=>R(O,te,H,de))),S)):("number"==typeof R&&(S=R),V=>V.lift(new $(P,S)))}class ${constructor(R,S=Number.POSITIVE_INFINITY){this.project=R,this.concurrent=S}call(R,S){return S.subscribe(new k(R,this.project,this.concurrent))}}class k extends Y.Ds{constructor(R,S,V=Number.POSITIVE_INFINITY){super(R),this.project=S,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(R){this.active<this.concurrent?this._tryNext(R):this.buffer.push(R)}_tryNext(R){let S;const V=this.index++;try{S=this.project(R,V)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(S)}_innerSub(R){const S=new Y.IY(this),V=this.destination;V.add(S);const O=(0,Y.ft)(R,S);O!==S&&V.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(R){this.destination.next(R)}notifyComplete(){const R=this.buffer;this.active--,R.length>0?this._next(R.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Q,B,D)=>{"use strict";D.d(B,{QV:()=>Y,ht:()=>$});var d=D(7393),N=D(3098);function Y(j,P=0){return function(S){return S.lift(new q(j,P))}}class q{constructor(P,R=0){this.scheduler=P,this.delay=R}call(P,R){return R.subscribe(new $(P,this.scheduler,this.delay))}}class $ extends d.L{constructor(P,R,S=0){super(P),this.scheduler=R,this.delay=S}static dispatch(P){const{notification:R,destination:S}=P;R.observe(S),this.unsubscribe()}scheduleMessage(P){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new k(P,this.destination)))}_next(P){this.scheduleMessage(N.P.createNext(P))}_error(P){this.scheduleMessage(N.P.createError(P)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class k{constructor(P,R){this.notification=P,this.destination=R}}},1307:(Q,B,D)=>{"use strict";D.d(B,{x:()=>N});var d=D(7393);function N(){return function(k){return k.lift(new Y(k))}}class Y{constructor(k){this.connectable=k}call(k,j){const{connectable:P}=this;P._refCount++;const R=new q(k,P),S=j.subscribe(R);return R.closed||(R.connection=P.connect()),S}}class q extends d.L{constructor(k,j){super(k),this.connectable=j}_unsubscribe(){const{connectable:k}=this;if(!k)return void(this.connection=null);this.connectable=null;const j=k._refCount;if(j<=0)return void(this.connection=null);if(k._refCount=j-1,j>1)return void(this.connection=null);const{connection:P}=this,R=k._connection;this.connection=null,R&&(!P||R===P)&&R.unsubscribe()}}},2145:(Q,B,D)=>{"use strict";D.d(B,{R:()=>N});var d=D(7393);function N($,k){let j=!1;return arguments.length>=2&&(j=!0),function(R){return R.lift(new Y($,k,j))}}class Y{constructor(k,j,P=!1){this.accumulator=k,this.seed=j,this.hasSeed=P}call(k,j){return j.subscribe(new q(k,this.accumulator,this.seed,this.hasSeed))}}class q extends d.L{constructor(k,j,P,R){super(k),this.accumulator=j,this._seed=P,this.hasSeed=R,this.index=0}get seed(){return this._seed}set seed(k){this.hasSeed=!0,this._seed=k}_next(k){if(this.hasSeed)return this._tryNext(k);this.seed=k,this.destination.next(k)}_tryNext(k){const j=this.index++;let P;try{P=this.accumulator(this.seed,k,j)}catch(R){this.destination.error(R)}this.seed=P,this.destination.next(P)}}},8819:(Q,B,D)=>{"use strict";D.d(B,{B:()=>j});var d=D(2441);var q=D(1307),$=D(9765);function k(){return new $.xQ}function j(){return P=>(0,q.x)()(function(P,R){return function(V){let O;O="function"==typeof P?P:function(){return P};const H=Object.create(V,d.N);return H.source=V,H.subjectFactory=O,H}}(k)(P))}},3653:(Q,B,D)=>{"use strict";D.d(B,{T:()=>N});var d=D(7393);function N($){return k=>k.lift(new Y($))}class Y{constructor(k){this.total=k}call(k,j){return j.subscribe(new q(k,this.total))}}class q extends d.L{constructor(k,j){super(k),this.total=j,this.count=0}_next(k){++this.count>this.total&&this.destination.next(k)}}},3101:(Q,B,D)=>{"use strict";D.d(B,{R:()=>we});var d=D(7574);let N=1;const Y=Promise.resolve(),q={};function $(ye){return ye in q&&(delete q[ye],!0)}const k={setImmediate(ye){const Ce=N++;return q[Ce]=!0,Y.then(()=>$(Ce)&&ye()),Ce},clearImmediate(ye){$(ye)}};var P=D(6465),S=D(6102);const H=new class extends S.v{flush(Ce){this.active=!0,this.scheduled=void 0;const{actions:Me}=this;let Ne,Ee=-1,ut=Me.length;Ce=Ce||Me.shift();do{if(Ne=Ce.execute(Ce.state,Ce.delay))break}while(++Ee<ut&&(Ce=Me.shift()));if(this.active=!1,Ne){for(;++Ee<ut&&(Ce=Me.shift());)Ce.unsubscribe();throw Ne}}}(class extends P.o{constructor(Ce,Me){super(Ce,Me),this.scheduler=Ce,this.work=Me}requestAsyncId(Ce,Me,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Ce,Me,Ne):(Ce.actions.push(this),Ce.scheduled||(Ce.scheduled=k.setImmediate(Ce.flush.bind(Ce,null))))}recycleAsyncId(Ce,Me,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(Ce,Me,Ne);0===Ce.actions.length&&(k.clearImmediate(Me),Ce.scheduled=void 0)}});var te=D(9796);class se extends d.y{constructor(Ce,Me=0,Ne=H){var ye;super(),this.source=Ce,this.delayTime=Me,this.scheduler=Ne,(!(!(0,te.k)(ye=Me)&&ye-parseFloat(ye)+1>=0)||Me<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=H)}static create(Ce,Me=0,Ne=H){return new se(Ce,Me,Ne)}static dispatch(Ce){const{source:Me,subscriber:Ne}=Ce;return this.add(Me.subscribe(Ne))}_subscribe(Ce){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:Ce})}}function we(ye,Ce=0){return function(Ne){return Ne.lift(new ue(ye,Ce))}}class ue{constructor(Ce,Me){this.scheduler=Ce,this.delay=Me}call(Ce,Me){return new se(Me,this.delay,this.scheduler).subscribe(Ce)}}},3190:(Q,B,D)=>{"use strict";D.d(B,{w:()=>q});var d=D(8002),N=D(4402),Y=D(5345);function q(j,P){return"function"==typeof P?R=>R.pipe(q((S,V)=>(0,N.D)(j(S,V)).pipe((0,d.U)((O,H)=>P(S,O,V,H))))):R=>R.lift(new $(j))}class ${constructor(P){this.project=P}call(P,R){return R.subscribe(new k(P,this.project))}}class k extends Y.Ds{constructor(P,R){super(P),this.project=R,this.index=0}_next(P){let R;const S=this.index++;try{R=this.project(P,S)}catch(V){return void this.destination.error(V)}this._innerSub(R)}_innerSub(P){const R=this.innerSubscription;R&&R.unsubscribe();const S=new Y.IY(this),V=this.destination;V.add(S),this.innerSubscription=(0,Y.ft)(P,S),this.innerSubscription!==S&&V.add(this.innerSubscription)}_complete(){const{innerSubscription:P}=this;(!P||P.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(P){this.destination.next(P)}}},5257:(Q,B,D)=>{"use strict";D.d(B,{q:()=>q});var d=D(7393),N=D(7108),Y=D(9193);function q(j){return P=>0===j?(0,Y.c)():P.lift(new $(j))}class ${constructor(P){if(this.total=P,this.total<0)throw new N.W}call(P,R){return R.subscribe(new k(P,this.total))}}class k extends d.L{constructor(P,R){super(P),this.total=R,this.count=0}_next(P){const R=this.total,S=++this.count;S<=R&&(this.destination.next(P),S===R&&(this.destination.complete(),this.unsubscribe()))}}},6782:(Q,B,D)=>{"use strict";D.d(B,{R:()=>N});var d=D(5345);function N($){return k=>k.lift(new Y($))}class Y{constructor(k){this.notifier=k}call(k,j){const P=new q(k),R=(0,d.ft)(this.notifier,new d.IY(P));return R&&!P.seenValue?(P.add(R),j.subscribe(P)):P}}class q extends d.Ds{constructor(k){super(k),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(Q,B,D)=>{"use strict";D.d(B,{b:()=>q});var d=D(7393);function N(){}var Y=D(9105);function q(j,P,R){return function(V){return V.lift(new $(j,P,R))}}class ${constructor(P,R,S){this.nextOrObserver=P,this.error=R,this.complete=S}call(P,R){return R.subscribe(new k(P,this.nextOrObserver,this.error,this.complete))}}class k extends d.L{constructor(P,R,S,V){super(P),this._tapNext=N,this._tapError=N,this._tapComplete=N,this._tapError=S||N,this._tapComplete=V||N,(0,Y.m)(R)?(this._context=this,this._tapNext=R):R&&(this._context=R,this._tapNext=R.next||N,this._tapError=R.error||N,this._tapComplete=R.complete||N)}_next(P){try{this._tapNext.call(this._context,P)}catch(R){return void this.destination.error(R)}this.destination.next(P)}_error(P){try{this._tapError.call(this._context,P)}catch(R){return void this.destination.error(R)}this.destination.error(P)}_complete(){try{this._tapComplete.call(this._context)}catch(P){return void this.destination.error(P)}return this.destination.complete()}}},2965:(Q,B,D)=>{"use strict";D.d(B,{V:()=>S});var d=D(3637);const Y=(()=>{function V(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return V.prototype=Object.create(Error.prototype),V})();var $=D(5345);class j{constructor(O,H,te,de){this.waitFor=O,this.absoluteTimeout=H,this.withObservable=te,this.scheduler=de}call(O,H){return H.subscribe(new P(O,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class P extends $.Ds{constructor(O,H,te,de,se){super(O),this.absoluteTimeout=H,this.waitFor=te,this.withObservable=de,this.scheduler=se,this.scheduleTimeout()}static dispatchTimeout(O){const{withObservable:H}=O;O._unsubscribeAndRecycle(),O.add((0,$.ft)(H,new $.IY(O)))}scheduleTimeout(){const{action:O}=this;O?this.action=O.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(P.dispatchTimeout,this.waitFor,this))}_next(O){this.absoluteTimeout||this.scheduleTimeout(),super._next(O)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var R=D(205);function S(V,O=d.P){return function(V,O,H=d.P){return te=>{let de=function(V){return V instanceof Date&&!isNaN(+V)}(V),se=de?+V-H.now():Math.abs(V);return te.lift(new j(se,de,O,H))}}(V,(0,R._)(new Y),O)}},7057:(Q,B,D)=>{"use strict";D.d(B,{M:()=>Y});var d=D(5197),N=D(509);function Y(...k){return j=>{let P;return"function"==typeof k[k.length-1]&&(P=k.pop()),j.lift(new q(k,P))}}class q{constructor(j,P){this.observables=j,this.project=P}call(j,P){return P.subscribe(new $(j,this.observables,this.project))}}class $ extends d.L{constructor(j,P,R){super(j),this.observables=P,this.project=R,this.toRespond=[];const S=P.length;this.values=new Array(S);for(let V=0;V<S;V++)this.toRespond.push(V);for(let V=0;V<S;V++)this.add((0,N.D)(this,P[V],void 0,V))}notifyNext(j,P,R){this.values[R]=P;const S=this.toRespond;if(S.length>0){const V=S.indexOf(R);-1!==V&&S.splice(V,1)}}notifyComplete(){}_next(j){if(0===this.toRespond.length){const P=[j,...this.values];this.project?this._tryProject(P):this.destination.next(P)}}_tryProject(j){let P;try{P=this.project.apply(this,j)}catch(R){return void this.destination.error(R)}this.destination.next(P)}}},4087:(Q,B,D)=>{"use strict";D.d(B,{r:()=>Y});var d=D(7574),N=D(5319);function Y(q,$){return new d.y(k=>{const j=new N.w;let P=0;return j.add($.schedule(function(){P!==q.length?(k.next(q[P++]),k.closed||j.add(this.schedule())):k.complete()})),j})}},6465:(Q,B,D)=>{"use strict";D.d(B,{o:()=>Y});var d=D(5319);class N extends d.w{constructor($,k){super()}schedule($,k=0){return this}}class Y extends N{constructor($,k){super($,k),this.scheduler=$,this.work=k,this.pending=!1}schedule($,k=0){if(this.closed)return this;this.state=$;const j=this.id,P=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(P,j,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(P,this.id,k),this}requestAsyncId($,k,j=0){return setInterval($.flush.bind($,this),j)}recycleAsyncId($,k,j=0){if(null!==j&&this.delay===j&&!1===this.pending)return k;clearInterval(k)}execute($,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute($,k);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,k){let P,j=!1;try{this.work($)}catch(R){j=!0,P=!!R&&R||new Error(R)}if(j)return this.unsubscribe(),P}_unsubscribe(){const $=this.id,k=this.scheduler,j=k.actions,P=j.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==P&&j.splice(P,1),null!=$&&(this.id=this.recycleAsyncId(k,$,null)),this.delay=null}}},6102:(Q,B,D)=>{"use strict";D.d(B,{v:()=>N});let d=(()=>{class Y{constructor($,k=Y.now){this.SchedulerAction=$,this.now=k}schedule($,k=0,j){return new this.SchedulerAction(this,$).schedule(j,k)}}return Y.now=()=>Date.now(),Y})();class N extends d{constructor(q,$=d.now){super(q,()=>N.delegate&&N.delegate!==this?N.delegate.now():$()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(q,$=0,k){return N.delegate&&N.delegate!==this?N.delegate.schedule(q,$,k):super.schedule(q,$,k)}flush(q){const{actions:$}=this;if(this.active)return void $.push(q);let k;this.active=!0;do{if(k=q.execute(q.state,q.delay))break}while(q=$.shift());if(this.active=!1,k){for(;q=$.shift();)q.unsubscribe();throw k}}}},3637:(Q,B,D)=>{"use strict";D.d(B,{z:()=>Y,P:()=>q});var d=D(6465);const Y=new(D(6102).v)(d.o),q=Y},7771:(Q,B,D)=>{"use strict";D.d(B,{c:()=>k,N:()=>$});var d=D(6465),Y=D(6102);const $=new class extends Y.v{}(class extends d.o{constructor(P,R){super(P,R),this.scheduler=P,this.work=R}schedule(P,R=0){return R>0?super.schedule(P,R):(this.delay=R,this.state=P,this.scheduler.flush(this),this)}execute(P,R){return R>0||this.closed?super.execute(P,R):this._execute(P,R)}requestAsyncId(P,R,S=0){return null!==S&&S>0||null===S&&this.delay>0?super.requestAsyncId(P,R,S):P.flush(this)}}),k=$},377:(Q,B,D)=>{"use strict";D.d(B,{hZ:()=>N});const N="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Q,B,D)=>{"use strict";D.d(B,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Q,B,D)=>{"use strict";D.d(B,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Q,B,D)=>{"use strict";D.d(B,{W:()=>N});const N=(()=>{function Y(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Y.prototype=Object.create(Error.prototype),Y})()},7971:(Q,B,D)=>{"use strict";D.d(B,{N:()=>N});const N=(()=>{function Y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Y.prototype=Object.create(Error.prototype),Y})()},4449:(Q,B,D)=>{"use strict";function d(N){setTimeout(()=>{throw N},0)}D.d(B,{z:()=>d})},4487:(Q,B,D)=>{"use strict";function d(N){return N}D.d(B,{y:()=>d})},9796:(Q,B,D)=>{"use strict";D.d(B,{k:()=>d});const d=Array.isArray||(N=>N&&"number"==typeof N.length)},9489:(Q,B,D)=>{"use strict";D.d(B,{z:()=>d});const d=N=>N&&"number"==typeof N.length&&"function"!=typeof N},9105:(Q,B,D)=>{"use strict";function d(N){return"function"==typeof N}D.d(B,{m:()=>d})},1555:(Q,B,D)=>{"use strict";function d(N){return null!==N&&"object"==typeof N}D.d(B,{K:()=>d})},4072:(Q,B,D)=>{"use strict";function d(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}D.d(B,{t:()=>d})},4869:(Q,B,D)=>{"use strict";function d(N){return N&&"function"==typeof N.schedule}D.d(B,{K:()=>d})},7444:(Q,B,D)=>{"use strict";D.d(B,{s:()=>V});var d=D(5015),N=D(4449),q=D(377),k=D(6554),P=D(9489),R=D(4072),S=D(1555);const V=O=>{if(O&&"function"==typeof O[k.L])return(O=>H=>{const te=O[k.L]();if("function"!=typeof te.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return te.subscribe(H)})(O);if((0,P.z)(O))return(0,d.V)(O);if((0,R.t)(O))return(O=>H=>(O.then(te=>{H.closed||(H.next(te),H.complete())},te=>H.error(te)).then(null,N.z),H))(O);if(O&&"function"==typeof O[q.hZ])return(O=>H=>{const te=O[q.hZ]();for(;;){let de;try{de=te.next()}catch(se){return H.error(se),H}if(de.done){H.complete();break}if(H.next(de.value),H.closed)break}return"function"==typeof te.return&&H.add(()=>{te.return&&te.return()}),H})(O);{const te=`You provided ${(0,S.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(te)}}},5015:(Q,B,D)=>{"use strict";D.d(B,{V:()=>d});const d=N=>Y=>{for(let q=0,$=N.length;q<$&&!Y.closed;q++)Y.next(N[q]);Y.complete()}},509:(Q,B,D)=>{"use strict";D.d(B,{D:()=>$});var d=D(7393);class N extends d.L{constructor(j,P,R){super(),this.parent=j,this.outerValue=P,this.outerIndex=R,this.index=0}_next(j){this.parent.notifyNext(this.outerValue,j,this.outerIndex,this.index++,this)}_error(j){this.parent.notifyError(j,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Y=D(7444),q=D(7574);function $(k,j,P,R,S=new N(k,P,R)){if(!S.closed)return j instanceof q.y?j.subscribe(S):(0,Y.s)(j)(S)}},1570:(Q,B,D)=>{"use strict";var d=D(7716);let N=null;function Y(){return N}const j=new d.OlP("DocumentToken");let P=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:R,token:i,providedIn:"platform"}),i})();function R(){return(0,d.LFG)(V)}const S=new d.OlP("Location Initialized");let V=(()=>{class i extends P{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){O()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){O()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=(0,d.Yz7)({factory:H,token:i,providedIn:"platform"}),i})();function O(){return!!window.history.pushState}function H(){return new V((0,d.LFG)(j))}function te(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function de(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function se(i){return i&&"?"!==i[0]?"?"+i:i}let we=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:ue,token:i,providedIn:"root"}),i})();function ue(i){const r=(0,d.LFG)(j).location;return new Ce((0,d.LFG)(P),r&&r.origin||"")}const ye=new d.OlP("appBaseHref");let Ce=(()=>{class i extends we{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return te(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+se(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,f){const g=this.prepareExternalUrl(l+se(f));this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,f){const g=this.prepareExternalUrl(l+se(f));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(P),d.LFG(ye,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Me=(()=>{class i extends we{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=te(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,f){let g=this.prepareExternalUrl(l+se(f));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,f){let g=this.prepareExternalUrl(l+se(f));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(P),d.LFG(ye,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ne=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=de(_t(l)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+se(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,_t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+se(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+se(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(we),d.LFG(P))},i.normalizeQueryParams=se,i.joinWithSlash=te,i.stripTrailingSlash=de,i.\u0275prov=(0,d.Yz7)({factory:Ee,token:i,providedIn:"root"}),i})();function Ee(){return new Ne((0,d.LFG)(we),(0,d.LFG)(P))}function _t(i){return i.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Zero=0]="Zero",ve[ve.One=1]="One",ve[ve.Two=2]="Two",ve[ve.Few=3]="Few",ve[ve.Many=4]="Many",ve[ve.Other=5]="Other",ve))();const si=d.kL8;class Gr{}let ua=(()=>{class i extends Gr{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(si(o||this.locale)(e)){case ve.Zero:return"zero";case ve.One:return"one";case ve.Two:return"two";case ve.Few:return"few";case ve.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Zn{constructor(r,e,o,l){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class i{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((l,f,g)=>{if(null==l.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new Zn(null,this._ngForOf,-1,-1),null===g?void 0:g),I=new uo(l,E);o.push(I)}else if(null==g)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const E=this._viewContainer.get(f);this._viewContainer.move(E,g);const I=new uo(l,E);o.push(I)}});for(let l=0;l<o.length;l++)this._perViewChange(o[l].view,o[l].record);for(let l=0,f=this._viewContainer.length;l<f;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=f,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class uo{constructor(r,e){this.record=r,this.view=e}}let ge=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new X,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class X{constructor(){this.$implicit=null,this.ngIf=null}}function pe(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(r)}'.`)}let ca=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:Gr,useClass:ua}]}),i})(),Il=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new Tf((0,d.LFG)(j),window)}),i})();class Tf{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const f=l.shadowRoot;if(f){const g=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(g)return g}l=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],l-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=po(this.window.history)||po(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function po(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class mc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new mc,N||(N=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(Ki=Ki||document.querySelector("base"),Ki?Ki.getAttribute("href"):null);return null==e?null:function(i){en=en||document.createElement("a"),en.setAttribute("href",i);const r=en.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[l,f]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let en,Ki=null;const _c=new d.OlP("TRANSITION_ID"),ir=[{provide:d.ip1,useFactory:function(i,r,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=Y(),l=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<l.length;f++)o.remove(l[f])})}},deps:[_c,j,d.zs3],multi:!0}];class Tl{static init(){(0,d.VLi)(new Tl)}addToWindow(r){d.dqk.getAngularTestability=(o,l=!0)=>{const f=r.findTestabilityInTree(o,l);if(null==f)throw new Error("Could not find testability for element.");return f},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const l=d.dqk.getAllAngularTestabilities();let f=l.length,g=!1;const E=function(I){g=g||I,f--,0==f&&o(g)};l.forEach(function(I){I.whenStable(E)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const l=r.getTestability(e);return null!=l?l:o?Y().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let fa=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const pa=new d.OlP("EventManagerPlugins");let De=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let f=0;f<l.length;f++){const g=l[f];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pa),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class wt{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const l=Y().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let ga=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),cn=(()=>{class i extends ga{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(f=>{const g=this._doc.createElement("style");g.textContent=f,l.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(bc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(bc))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function bc(i){Y().remove(i)}const Ii={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rr=/%COMP%/g;function On(i,r,e){for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?On(i,l,e):(l=l.replace(Rr,i),e.push(l))}return e}function hr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let ui=(()=>{class i{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Yr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new Ig(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case d.ifc.ShadowDom:return new wc(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=On(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(De),d.LFG(cn),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Yr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(Ii[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,l){if(l){e=l+":"+e;const f=Ii[l];f?r.setAttributeNS(f,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const l=Ii[o];l?r.removeAttributeNS(l,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,l){l&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,o,l&d.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,hr(o)):this.eventManager.addEventListener(r,e,hr(o))}}class Ig extends Yr{constructor(r,e,o,l){super(r),this.component=o;const f=On(l+"-"+o.id,o.styles,[]);e.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Rr,l+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Rr,l+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class wc extends Yr{constructor(r,e,o,l){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=On(l.id,l.styles,[]);for(let g=0;g<f.length;g++){const E=document.createElement("style");E.textContent=f[g],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Rl=(()=>{class i extends wt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Nl=["alt","control","meta","shift"],Tg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Is={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Tc=(()=>{class i extends wt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,l){const f=i.parseEventName(o),g=i.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,f.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const f=i._normalizeKey(o.pop());let g="";if(Nl.forEach(I=>{const T=o.indexOf(I);T>-1&&(o.splice(T,1),g+=I+".")}),g+=f,0!=o.length||0===f.length)return null;const E={};return E.domEventName=l,E.fullKey=g,E}static getEventFullKey(e){let o="",l=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&Jn.hasOwnProperty(r)&&(r=Jn[r]))}return Tg[r]||r}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Nl.forEach(f=>{f!=l&&Is[f](e)&&(o+=f+".")}),o+=l,o}static eventCallback(e,o,l){return f=>{i.getEventFullKey(f)===e&&l.runGuarded(()=>o(f))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Vl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){mc.makeCurrent(),Tl.init()},multi:!0},{provide:j,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Ul=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:pa,useClass:Rl,multi:!0,deps:[j,d.R0b,d.Lbi]},{provide:pa,useClass:Tc,multi:!0,deps:[j]},[],{provide:ui,useClass:ui,deps:[De,cn,d.AFp]},{provide:d.FYo,useExisting:ui},{provide:ga,useExisting:cn},{provide:cn,useClass:cn,deps:[j]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:De,useClass:De,deps:[pa,d.R0b]},{provide:class{},useClass:fa,deps:[]},[]];let iv=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:_c,useExisting:d.AFp},ir]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:Ul,imports:[ca,d.hGG]}),i})();"undefined"!=typeof window&&window;var gn=D(4402),sr=D(7574),Yi=D(9796),At=D(8002),Vf=D(1555);function Wl(i,r){return new sr.y(e=>{const o=i.length;if(0===o)return void e.complete();const l=new Array(o);let f=0,g=0;for(let E=0;E<o;E++){const I=(0,gn.D)(i[E]);let T=!1;e.add(I.subscribe({next:L=>{T||(T=!0,g++),l[E]=L},error:L=>e.error(L),complete:()=>{f++,(f===o||!T)&&(g===o&&e.next(r?r.reduce((L,U,J)=>(L[U]=l[J],L),{}):l),e.complete())}}))}})}let Gl=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),Ts=(()=>{class i extends Gl{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const ci=new d.OlP("NgValueAccessor"),Mg={provide:ci,useExisting:(0,d.Gpc)(()=>di),multi:!0},xc=new d.OlP("CompositionEventMode");let di=(()=>{class i extends Gl{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Y()?Y().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(xc,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[d._Bn([Mg]),d.qOj]}),i})();function Ti(i){return null==i||0===i.length}const Rn=new d.OlP("NgValidators"),pr=new d.OlP("NgAsyncValidators"),bo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Wt(i){return null}function Yl(i){return null!=i}function Nc(i){const r=(0,d.QGY)(i)?(0,gn.D)(i):i;return(0,d.CqO)(r),r}function kc(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function Pg(i,r){return r.map(e=>e(i))}function Ng(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function Ea(i){return null!=i?function(i){if(!i)return null;const r=i.filter(Yl);return 0==r.length?null:function(e){return kc(Pg(e,r))}}(Ng(i)):null}function Hf(i){return null!=i?function(i){if(!i)return null;const r=i.filter(Yl);return 0==r.length?null:function(e){return function(...i){if(1===i.length){const r=i[0];if((0,Yi.k)(r))return Wl(r,null);if((0,Vf.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return Wl(e.map(o=>r[o]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return Wl(i=1===i.length&&(0,Yi.k)(i[0])?i[0]:i,null).pipe((0,At.U)(e=>r(...e)))}return Wl(i,null)}(Pg(e,r).map(Nc)).pipe((0,At.U)(kc))}}(Ng(i)):null}function Vc(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function dn(i){return i?Array.isArray(i)?i:[i]:[]}function Os(i,r){return Array.isArray(i)?i.includes(r):i===r}function Ca(i,r){const e=dn(r);return dn(i).forEach(l=>{Os(e,l)||e.push(l)}),e}function kg(i,r){return dn(r).filter(e=>!Os(i,e))}let ql=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ea(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})(),Qt=(()=>{class i extends ql{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class Pn extends ql{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ba{constructor(r){this._cd=r}is(r){var e,o,l;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[r])}}let Do=(()=>{class i extends ba{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Pn,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),Uc=(()=>{class i extends ba{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Qt,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function Da(i,r){Jl(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&zf(i,r)})}(i,r),function(i,r){const e=(o,l)=>{r.valueAccessor.writeValue(o),l&&r.viewToModelUpdate(o)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&zf(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function Ao(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Jl(i,r){const e=function(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(Vc(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(Vc(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const l=()=>i.updateValueAndValidity();Ao(r._rawValidators,l),Ao(r._rawAsyncValidators,l)}function zf(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Sa(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const mr="VALID",es="INVALID",So="PENDING",Mo="DISABLED";function Kf(i){return(_r(i)?i.validators:i)||null}function ks(i){return Array.isArray(i)?Ea(i):i||null}function xr(i,r){return(_r(r)?r.asyncValidators:i)||null}function Oo(i){return Array.isArray(i)?Hf(i):i||null}function _r(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Wc{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=ks(this._rawValidators),this._composedAsyncValidatorFn=Oo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===mr}get invalid(){return this.status===es}get pending(){return this.status==So}get disabled(){return this.status===Mo}get enabled(){return this.status!==Mo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=ks(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Oo(r)}addValidators(r){this.setValidators(Ca(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Ca(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(kg(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(kg(r,this._rawAsyncValidators))}hasValidator(r){return Os(this._rawValidators,r)}hasAsyncValidator(r){return Os(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=So,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Mo,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=mr,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mr||this.status===So)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mo:mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator=!0;const e=Nc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(l=>{o=o instanceof Oa?o.controls.hasOwnProperty(l)?o.controls[l]:null:o instanceof tu&&o.at(l)||null}),o}(this,r)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Mo:this.errors?es:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(es)?es:mr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){_r(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ma extends Wc{constructor(r=null,e,o){super(Kf(e),xr(o,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Sa(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Sa(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Oa extends Wc{constructor(r,e,o){super(Kf(e),xr(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e instanceof Ma?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((l,f)=>{o=e(o,l,f)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class tu extends Wc{constructor(r,e,o){super(Kf(e),xr(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((o,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof Ma?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const Yf={provide:Qt,useExisting:(0,d.Gpc)(()=>hi)},Ra=(()=>Promise.resolve(null))();let hi=(()=>{class i extends Qt{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new Oa({},Ea(e),Hf(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ra.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Da(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ra.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Sa(this._directives,e)})}addFormGroup(e){Ra.then(()=>{const o=this._findContainer(e.path),l=new Oa({});(function(i,r){Jl(i,r)})(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ra.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Ra.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Rn,10),d.Y36(pr,10))},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Yf]),d.qOj]}),i})();const Vg={provide:Pn,useExisting:(0,d.Gpc)(()=>Ro)},xa=(()=>Promise.resolve(null))();let Ro=(()=>{class i extends Pn{constructor(e,o,l,f){super(),this.control=new Ma,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function(i,r){if(!r)return null;let e,o,l;return Array.isArray(r),r.forEach(f=>{f.constructor===di?e=f:function(i){return Object.getPrototypeOf(i.constructor)===Ts}(f)?o=f:l=f}),l||o||e||null}(0,f)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Da(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){xa.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;xa.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Qt,9),d.Y36(Rn,10),d.Y36(pr,10),d.Y36(ci,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Vg]),d.qOj,d.TTD]}),i})(),pi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),iu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const Jf={provide:Rn,useExisting:(0,d.Gpc)(()=>lu),multi:!0};let lu=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(i){return Ti(i.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[d._Bn([Jf])]}),i})();const kA={provide:Rn,useExisting:(0,d.Gpc)(()=>yv),multi:!0};let yv=(()=>{class i{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?function(i){return Ti(i.value)||bo.test(i.value)?null:{email:!0}}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d._Bn([kA])]}),i})();const vv={provide:Rn,useExisting:(0,d.Gpc)(()=>Wg),multi:!0};let Wg=(()=>{class i{constructor(){this._validator=Wt}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?function(i){return r=>Ti(r.value)||!function(i){return null!=i&&"number"==typeof i.length}(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null}(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.minlength)):Wt}enabled(){return null!=this.minlength}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("minlength",o.enabled()?o.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([vv]),d.TTD]}),i})(),bv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[iu]]}),i})(),In=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[bv]}),i})();var rt=D(5917),Ai=D(6215),wv=D(4869),tI=D(5197),nI=D(509),LA=D(6693);const rI={};class yr{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new Kg(r,this.resultSelector))}}class Kg extends tI.L{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(rI),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add((0,nI.D)(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const l=this.values,g=this.toRespond?l[o]===rI?--this.toRespond:this.toRespond:0;l[o]=e,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const Qc=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Nn=D(3282);function Xc(...i){return(0,Nn.J)(1)((0,rt.of)(...i))}var ka=D(9193);function Dv(i){return new sr.y(r=>{let e;try{e=i()}catch(l){return void r.error(l)}return(e?(0,gn.D)(e):(0,ka.c)()).subscribe(r)})}var Tv=D(2441),Po=D(9765),kn=D(3190),ed=D(5257),Sv=D(2145),ss=D(5435),No=D(5304),uu=D(4612),Si=D(7393),Mv=D(7108);function Yg(i){return function(e){return 0===i?(0,ka.c)():e.lift(new VA(i))}}class VA{constructor(r){if(this.total=r,this.total<0)throw new Mv.W}call(r,e){return e.subscribe(new Ov(r,this.total))}}class Ov extends Si.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,l=this.count++;e.length<o?e.push(r):e[l%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,l=this.ring;for(let f=0;f<o;f++){const g=e++%o;r.next(l[g])}}r.complete()}}function td(i=cu){return r=>r.lift(new sI(i))}class sI{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new oI(r,this.errorFactory))}}class oI extends Si.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function cu(){return new Qc}function Rv(i=null){return r=>r.lift(new aI(i))}class aI{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new lI(r,this.defaultValue))}}class lI extends Si.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var xv=D(4487);function os(i,r){const e=arguments.length>=2;return o=>o.pipe(i?(0,ss.h)((l,f)=>i(l,f,o)):xv.y,(0,ed.q)(1),e?Rv(r):td(()=>new Qc))}var tn=D(9773),Pr=D(3342),cI=D(1307),qg=D(5319);class UA{constructor(r){this.callback=r}call(r,e){return e.subscribe(new Nv(r,this.callback))}}class Nv extends Si.L{constructor(r,e){super(r),this.add(new qg.w(e))}}class Fs{constructor(r,e){this.id=r,this.url=e}}class Zg extends Fs{constructor(r,e,o="imperative",l=null){super(r,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nd extends Fs{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fa extends Fs{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class as extends Fs{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jA extends Fs{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BA extends Fs{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kv extends Fs{constructor(r,e,o,l,f){super(r,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HA extends Fs{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends Fs{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eh{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class th{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dI{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fv{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rd{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lv{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class Jg{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function La(i){return new Jg(i)}const fI="ngNavigationCancelingError";function ko(i){const r=Error("NavigationCancelingError: "+i);return r[fI]=!0,r}function Vv(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const l={};for(let f=0;f<o.length;f++){const g=o[f],E=i[f];if(g.startsWith(":"))l[g.substring(1)]=E;else if(g!==E.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function mi(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let f=0;f<e.length;f++)if(l=e[f],!Uv(i[l],r[l]))return!1;return!0}function Uv(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((l,f)=>o[f]===l)}return i===r}function jv(i){return Array.prototype.concat.apply([],i)}function Bv(i){return i.length>0?i[i.length-1]:null}function Xn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function us(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,gn.D)(Promise.resolve(i)):(0,rt.of)(i)}const em={exact:function $v(i,r,e){if(!Uo(i.segments,r.segments)||!id(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!$v(i.children[o],r.children[o],e))return!1;return!0},subset:nm},tm={exact:function(i,r){return mi(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>Uv(i[e],r[e]))},ignored:()=>!0};function nh(i,r,e){return em[e.paths](i.root,r.root,e.matrixParams)&&tm[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function nm(i,r,e){return Fo(i,r,r.segments,e)}function Fo(i,r,e,o){if(i.segments.length>e.length){const l=i.segments.slice(0,e.length);return!(!Uo(l,e)||r.hasChildren()||!id(l,e,o))}if(i.segments.length===e.length){if(!Uo(i.segments,e)||!id(i.segments,e,o))return!1;for(const l in r.children)if(!i.children[l]||!nm(i.children[l],r.children[l],o))return!1;return!0}{const l=e.slice(0,i.segments.length),f=e.slice(i.segments.length);return!!(Uo(i.segments,l)&&id(i.segments,l,o)&&i.children[vt])&&Fo(i.children[vt],r,f,o)}}function id(i,r,e){return r.every((o,l)=>tm[e](i[l].parameters,o.parameters))}class Lo{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return zv.serialize(this)}}class Mt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Xn(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Va(this)}}class Vo{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return im(this)}}function Uo(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class rh{}class ih{parse(r){const e=new Jv(r);return new Lo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){var i;return`${`/${jo(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(l=>`${du(e)}=${du(l)}`).join("&"):`${du(e)}=${du(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const zv=new ih;function Va(i){return i.segments.map(r=>im(r)).join("/")}function jo(i,r){if(!i.hasChildren())return Va(i);if(r){const e=i.children[vt]?jo(i.children[vt],!1):"",o=[];return Xn(i.children,(l,f)=>{f!==vt&&o.push(`${f}:${jo(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return Xn(i.children,(o,l)=>{l===vt&&(e=e.concat(r(o,l)))}),Xn(i.children,(o,l)=>{l!==vt&&(e=e.concat(r(o,l)))}),e}(i,(o,l)=>l===vt?[jo(i.children[vt],!1)]:[`${l}:${jo(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vt]?`${Va(i)}/${e[0]}`:`${Va(i)}/(${e.join("//")})`}}function rm(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function du(i){return rm(i).replace(/%3B/gi,";")}function sd(i){return rm(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bo(i){return decodeURIComponent(i)}function Yv(i){return Bo(i.replace(/\+/g,"%20"))}function im(i){return`${sd(i.path)}${function(i){return Object.keys(i).map(r=>`;${sd(r)}=${sd(i[r])}`).join("")}(i.parameters)}`}const qv=/^[^\/()?;=#]+/;function fu(i){const r=i.match(qv);return r?r[0]:""}const Zv=/^[^=?&#]+/,Qv=/^[^?&#]+/;class Jv{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[vt]=new Mt(r,e)),o}parseSegment(){const r=fu(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Vo(Bo(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=fu(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=fu(this.remaining);l&&(o=l,this.capture(o))}r[Bo(e)]=Bo(o)}parseQueryParam(r){const e=function(i){const r=i.match(Zv);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function(i){const r=i.match(Qv);return r?r[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const l=Yv(e),f=Yv(o);if(r.hasOwnProperty(l)){let g=r[l];Array.isArray(g)||(g=[g],r[l]=g),g.push(f)}else r[l]=f}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=fu(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=vt);const g=this.parseChildren();e[f]=1===Object.keys(g).length?g[vt]:new Mt([],g),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Xv{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=sm(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=sm(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Zr(r,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return Zr(r,this._root).map(e=>e.value)}}function sm(i,r){if(i===r.value)return r;for(const e of r.children){const o=sm(i,e);if(o)return o}return null}function Zr(i,r){if(i===r.value)return[r];for(const e of r.children){const o=Zr(i,e);if(o.length)return o.unshift(r),o}return[]}class Ls{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function hu(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class eE extends Xv{constructor(r,e){super(r),this.snapshot=e,tt(this,r)}toString(){return this.snapshot.toString()}}function tE(i,r){const e=function(i,r){const g=new sh([],{},{},"",{},vt,r,null,i.root,-1,{});return new nE("",new Ls(g,[]))}(i,r),o=new Ai.X([new Vo("",{})]),l=new Ai.X({}),f=new Ai.X({}),g=new Ai.X({}),E=new Ai.X(""),I=new pu(o,l,g,E,f,vt,r,e.root);return I.snapshot=e.root,new eE(new Ls(I,[]),e)}class pu{constructor(r,e,o,l,f,g,E,I){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=f,this.outlet=g,this.component=E,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(r=>La(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(r=>La(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function om(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const l=e[o],f=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class sh{constructor(r,e,o,l,f,g,E,I,T,L,U){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=f,this.outlet=g,this.component=E,this.routeConfig=I,this._urlSegment=T,this._lastPathIndex=L,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nE extends Xv{constructor(r,e){super(e),this.url=r,tt(this,e)}toString(){return am(this._root)}}function tt(i,r){r.value._routerState=i,r.children.forEach(e=>tt(i,e))}function am(i){const r=i.children.length>0?` { ${i.children.map(am).join(", ")} } `:"";return`${i.value}${r}`}function oh(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,mi(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),mi(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!mi(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),mi(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function gu(i,r){return mi(i.params,r.params)&&function(i,r){return Uo(i,r)&&i.every((e,o)=>mi(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||gu(i.parent,r.parent))}function od(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const l=function(i,r,e){return r.children.map(o=>{for(const l of e.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return od(i,o,l);return od(i,o)})}(i,r,e);return new Ls(o,l)}{if(i.shouldAttach(r.value)){const f=i.retrieve(r.value);if(null!==f){const g=f.route;return rE(r,g),g}}const o=function(i){return new pu(new Ai.X(i.url),new Ai.X(i.params),new Ai.X(i.queryParams),new Ai.X(i.fragment),new Ai.X(i.data),i.outlet,i.component,i)}(r.value),l=r.children.map(f=>od(i,f));return new Ls(o,l)}}function rE(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)rE(i.children[e],r.children[e])}function ad(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Ua(i){return"object"==typeof i&&null!=i&&i.outlets}function iE(i,r,e,o,l){let f={};return o&&Xn(o,(g,E)=>{f[E]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),new Lo(e.root===i?r:cm(e.root,i,r),f,l)}function cm(i,r,e){const o={};return Xn(i.children,(l,f)=>{o[f]=l===r?e:cm(l,r,e)}),new Mt(i.segments,o)}class CI{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&ad(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Ua);if(l&&l!==Bv(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mu{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function sE(i,r,e){if(i||(i=new Mt([],{})),0===i.segments.length&&i.hasChildren())return ld(i,r,e);const o=function(i,r,e){let o=0,l=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=e.length)return f;const g=i.segments[l],E=e[o];if(Ua(E))break;const I=`${E}`,T=o<e.length-1?e[o+1]:null;if(l>0&&void 0===I)break;if(I&&T&&"object"==typeof T&&void 0===T.outlets){if(!pm(I,T,g))return f;o+=2}else{if(!pm(I,{},g))return f;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,r,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new Mt(i.segments.slice(0,o.pathIndex),{});return f.children[vt]=new Mt(i.segments.slice(o.pathIndex),i.children),ld(f,0,l)}return o.match&&0===l.length?new Mt(i.segments,{}):o.match&&!i.hasChildren()?fm(i,r,e):o.match?ld(i,0,l):fm(i,r,e)}function ld(i,r,e){if(0===e.length)return new Mt(i.segments,{});{const o=function(i){return Ua(i[0])?i[0].outlets:{[vt]:i}}(e),l={};return Xn(o,(f,g)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[g]=sE(i.children[g],r,f))}),Xn(i.children,(f,g)=>{void 0===o[g]&&(l[g]=f)}),new Mt(i.segments,l)}}function fm(i,r,e){const o=i.segments.slice(0,r);let l=0;for(;l<e.length;){const f=e[l];if(Ua(f)){const I=KA(f.outlets);return new Mt(o,I)}if(0===l&&ad(e[0])){o.push(new Vo(i.segments[r].path,hm(e[0]))),l++;continue}const g=Ua(f)?f.outlets[vt]:`${f}`,E=l<e.length-1?e[l+1]:null;g&&E&&ad(E)?(o.push(new Vo(g,hm(E))),l+=2):(o.push(new Vo(g,{})),l++)}return new Mt(o,{})}function KA(i){const r={};return Xn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=fm(new Mt([],{}),0,e))}),r}function hm(i){const r={};return Xn(i,(e,o)=>r[o]=`${e}`),r}function pm(i,r,e){return i==e.path&&mi(r,e.parameters)}class gm{constructor(r,e,o,l){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),oh(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const l=hu(e);r.children.forEach(f=>{const g=f.value.outlet;this.deactivateRoutes(f,l[g],o),delete l[g]}),Xn(l,(f,g)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(r,e,o){const l=r.value,f=e?e.value:null;if(l===f)if(l.component){const g=o.getContext(l.outlet);g&&this.deactivateChildRoutes(r,e,g.children)}else this.deactivateChildRoutes(r,e,o);else f&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const l=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:f})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,f=hu(r);for(const g of Object.keys(f))this.deactivateRouteAndItsChildren(f[g],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const l=hu(e);r.children.forEach(f=>{this.activateRoutes(f,l[f.value.outlet],o),this.forwardEvent(new Lv(f.value.snapshot))}),r.children.length&&this.forwardEvent(new Fv(r.value.snapshot))}activateRoutes(r,e,o){const l=r.value,f=e?e.value:null;if(oh(l),l===f)if(l.component){const g=o.getOrCreateContext(l.outlet);this.activateChildRoutes(r,e,g.children)}else this.activateChildRoutes(r,e,o);else if(l.component){const g=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(E.contexts),g.attachRef=E.componentRef,g.route=E.route.value,g.outlet&&g.outlet.attach(E.componentRef,E.route.value),II(E.route)}else{const E=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),I=E?E.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=I,g.outlet&&g.outlet.activateWith(l,I),this.activateChildRoutes(r,null,g.children)}}else this.activateChildRoutes(r,null,o)}}function II(i){oh(i.value),i.children.forEach(II)}class oE{constructor(r,e){this.routes=r,this.module=e}}function ja(i){return"function"==typeof i}function _u(i){return i instanceof Lo}const lh=Symbol("INITIAL_VALUE");function _i(){return(0,kn.w)(i=>function(...i){let r,e;return(0,wv.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,Yi.k)(i[0])&&(i=i[0]),(0,LA.n)(i,e).lift(new yr(r))}(i.map(r=>r.pipe((0,ed.q)(1),function(...i){const r=i[i.length-1];return(0,wv.K)(r)?(i.pop(),e=>Xc(i,e,r)):e=>Xc(i,e)}(lh)))).pipe((0,Sv.R)((r,e)=>{let o=!1;return e.reduce((l,f,g)=>l!==lh?l:(f===lh&&(o=!0),o||!1!==f&&g!==e.length-1&&!_u(f)?l:f),r)},lh),(0,ss.h)(r=>r!==lh),(0,At.U)(r=>_u(r)?r:!0===r),(0,ed.q)(1)))}let uh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[Oi]},encapsulation:2}),i})();function aE(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];lE(o,mm(r,o))}}function lE(i,r){i.children&&aE(i.children,r)}function mm(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function ch(i){const r=i.children&&i.children.map(ch),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==vt&&(e.component=uh),e}function Nr(i){return i.outlet||vt}function uE(i,r){const e=i.filter(o=>Nr(o)===r);return e.push(...i.filter(o=>Nr(o)!==r)),e}const js={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ud(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},js):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||Vv)(e,i,r);if(!f)return Object.assign({},js);const g={};Xn(f.posParams,(I,T)=>{g[T]=I.path});const E=f.consumed.length>0?Object.assign(Object.assign({},g),f.consumed[f.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:E,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function dh(i,r,e,o,l="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>fh(i,r,o)&&Nr(o)!==vt)}(i,e,o)){const g=new Mt(r,function(i,r,e,o){const l={};l[vt]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const f of e)if(""===f.path&&Nr(f)!==vt){const g=new Mt([],{});g._sourceSegment=i,g._segmentIndexShift=r.length,l[Nr(f)]=g}return l}(i,r,o,new Mt(e,i.children)));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>fh(i,r,o))}(i,e,o)){const g=new Mt(i.segments,function(i,r,e,o,l,f){const g={};for(const E of o)if(fh(i,e,E)&&!l[Nr(E)]){const I=new Mt([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===f?i.segments.length:r.length,g[Nr(E)]=I}return Object.assign(Object.assign({},l),g)}(i,r,e,o,i.children,l));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:e}}const f=new Mt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}function fh(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function dE(i,r,e,o){return!!(Nr(i)===o||o!==vt&&fh(r,e,i))&&("**"===i.path||ud(r,i,e).matched)}function yu(i,r,e){return 0===r.length&&!i.children[e]}class cs{constructor(r){this.segmentGroup=r||null}}class hh{constructor(r){this.urlTree=r}}function Bs(i){return new sr.y(r=>r.error(new cs(i)))}function vu(i){return new sr.y(r=>r.error(new hh(i)))}function Eu(i){return new sr.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class hE{constructor(r,e,o,l,f){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=dh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vt).pipe((0,At.U)(f=>this.createUrlTree(cd(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,No.K)(f=>{if(f instanceof hh)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof cs?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,vt).pipe((0,At.U)(l=>this.createUrlTree(cd(l),r.queryParams,r.fragment))).pipe((0,No.K)(l=>{throw l instanceof cs?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const l=r.segments.length>0?new Mt([],{[vt]:r}):r;return new Lo(l,e,o)}expandSegmentGroup(r,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,At.U)(f=>new Mt([],f))):this.expandSegment(r,o,e,o.segments,l,!0)}expandChildren(r,e,o){const l=[];for(const f of Object.keys(o.children))"primary"===f?l.unshift(f):l.push(f);return(0,gn.D)(l).pipe((0,uu.b)(f=>{const g=o.children[f],E=uE(e,f);return this.expandSegmentGroup(r,E,g,f).pipe((0,At.U)(I=>({segment:I,outlet:f})))}),(0,Sv.R)((f,g)=>(f[g.outlet]=g.segment,f),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?(0,ss.h)((l,f)=>i(l,f,o)):xv.y,Yg(1),e?Rv(r):td(()=>new Qc))}())}expandSegment(r,e,o,l,f,g){return(0,gn.D)(o).pipe((0,uu.b)(E=>this.expandSegmentAgainstRoute(r,e,o,E,l,f,g).pipe((0,No.K)(T=>{if(T instanceof cs)return(0,rt.of)(null);throw T}))),os(E=>!!E),(0,No.K)((E,I)=>{if(E instanceof Qc||"EmptyError"===E.name){if(yu(e,l,f))return(0,rt.of)(new Mt([],{}));throw new cs(e)}throw E}))}expandSegmentAgainstRoute(r,e,o,l,f,g,E){return dE(l,e,f,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,e,l,f,g):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,l,f,g):Bs(e):Bs(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,l,f,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,f,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,l){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?vu(f):this.lineralizeSegments(o,f).pipe((0,tn.zg)(g=>{const E=new Mt(g,{});return this.expandSegment(r,E,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,f,g){const{matched:E,consumedSegments:I,lastChild:T,positionalParamSegments:L}=ud(e,l,f);if(!E)return Bs(e);const U=this.applyRedirectCommands(I,l.redirectTo,L);return l.redirectTo.startsWith("/")?vu(U):this.lineralizeSegments(l,U).pipe((0,tn.zg)(J=>this.expandSegment(r,e,o,J.concat(f.slice(T)),g,!1)))}matchSegmentAgainstRoute(r,e,o,l,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,At.U)(J=>(o._loadedConfig=J,new Mt(l,{})))):(0,rt.of)(new Mt(l,{}));const{matched:g,consumedSegments:E,lastChild:I}=ud(e,o,l);if(!g)return Bs(e);const T=l.slice(I);return this.getChildConfig(r,o,l).pipe((0,tn.zg)(U=>{const J=U.module,me=U.routes,{segmentGroup:Te,slicedSegments:Le}=dh(e,E,T,me),Be=new Mt(Te.segments,Te.children);if(0===Le.length&&Be.hasChildren())return this.expandChildren(J,me,Be).pipe((0,At.U)(jt=>new Mt(E,jt)));if(0===me.length&&0===Le.length)return(0,rt.of)(new Mt(E,{}));const Ft=Nr(o)===f;return this.expandSegment(J,Be,me,Le,Ft?vt:f,!0).pipe((0,At.U)(ot=>new Mt(E.concat(ot.segments),ot.children)))}))}getChildConfig(r,e,o){return e.children?(0,rt.of)(new oE(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,rt.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,tn.zg)(l=>{return l?this.configLoader.load(r.injector,e).pipe((0,At.U)(f=>(e._loadedConfig=f,f))):(i=e,new sr.y(r=>r.error(ko(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,rt.of)(new oE([],r))}runCanLoadGuards(r,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,rt.of)(!0);const f=l.map(g=>{const E=r.get(g);let I;if((i=E)&&ja(i.canLoad))I=E.canLoad(e,o);else{if(!ja(E))throw new Error("Invalid CanLoad guard");I=E(e,o)}var i;return us(I)});return(0,rt.of)(f).pipe(_i(),(0,Pr.b)(g=>{if(!_u(g))return;const E=ko(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw E.url=g,E}),(0,At.U)(g=>!0===g))}lineralizeSegments(r,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,rt.of)(o);if(l.numberOfChildren>1||!l.children[vt])return Eu(r.redirectTo);l=l.children[vt]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,l){const f=this.createSegmentGroup(r,e.root,o,l);return new Lo(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return Xn(r,(l,f)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);o[f]=e[E]}else o[f]=l}),o}createSegmentGroup(r,e,o,l){const f=this.createSegments(r,e.segments,o,l);let g={};return Xn(e.children,(E,I)=>{g[I]=this.createSegmentGroup(r,E,o,l)}),new Mt(f,g)}createSegments(r,e,o,l){return e.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,l):this.findOrReturn(f,o))}findPosParam(r,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return l}findOrReturn(r,e){let o=0;for(const l of e){if(l.path===r.path)return e.splice(o),l;o++}return r}}function cd(i){const r={};for(const o of Object.keys(i.children)){const f=cd(i.children[o]);(f.segments.length>0||f.hasChildren())&&(r[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[vt]){const r=i.children[vt];return new Mt(i.segments.concat(r.segments),r.children)}return i}(new Mt(i.segments,r))}class dd{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class ph{constructor(r,e){this.component=r,this.route=e}}function gE(i,r,e){const o=i._root;return hd(o,r?r._root:null,e,[o.value])}function fd(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function hd(i,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=hu(r);return i.children.forEach(g=>{(function(i,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,g=r?r.value:null,E=e?e.getContext(i.value.outlet):null;if(g&&f.routeConfig===g.routeConfig){const I=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!Uo(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Uo(i.url,r.url)||!mi(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gu(i,r)||!mi(i.queryParams,r.queryParams);case"paramsChange":default:return!gu(i,r)}}(g,f,f.routeConfig.runGuardsAndResolvers);I?l.canActivateChecks.push(new dd(o)):(f.data=g.data,f._resolvedData=g._resolvedData),hd(i,r,f.component?E?E.children:null:e,o,l),I&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new ph(E.outlet.component,g))}else g&&pd(r,E,l),l.canActivateChecks.push(new dd(o)),hd(i,null,f.component?E?E.children:null:e,o,l)})(g,f[g.value.outlet],e,o.concat([g.value]),l),delete f[g.value.outlet]}),Xn(f,(g,E)=>pd(g,e.getContext(E),l)),l}function pd(i,r,e){const o=hu(i),l=i.value;Xn(o,(f,g)=>{pd(f,l.component?r?r.children.getContext(g):null:r,e)}),e.canDeactivateChecks.push(new ph(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class vm{}function Em(i){return new sr.y(r=>r.error(i))}class RI{constructor(r,e,o,l,f,g){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=g}recognize(){const r=dh(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,vt);if(null===e)return null;const o=new sh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Ls(o,e),f=new nE(this.url,l);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const e=r.value,o=om(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const f of Object.keys(e.children)){const g=e.children[f],E=uE(r,f),I=this.processSegmentGroup(E,g,f);if(null===I)return null;o.push(...I)}const l=Cm(o);return l.sort((r,e)=>r.value.outlet===vt?-1:e.value.outlet===vt?1:r.value.outlet.localeCompare(e.value.outlet)),l}processSegment(r,e,o,l){for(const f of r){const g=this.processSegmentAgainstRoute(f,e,o,l);if(null!==g)return g}return yu(e,o,l)?[]:null}processSegmentAgainstRoute(r,e,o,l){if(r.redirectTo||!dE(r,e,o,l))return null;let f,g=[],E=[];if("**"===r.path){const me=o.length>0?Bv(o).parameters:{};f=new sh(o,me,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Im(r),Nr(r),r.component,r,EE(e),bm(e)+o.length,CE(r))}else{const me=ud(e,r,o);if(!me.matched)return null;g=me.consumedSegments,E=o.slice(me.lastChild),f=new sh(g,me.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Im(r),Nr(r),r.component,r,EE(e),bm(e)+g.length,CE(r))}const I=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:L}=dh(e,g,E,I.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);var i;if(0===L.length&&T.hasChildren()){const me=this.processChildren(I,T);return null===me?null:[new Ls(f,me)]}if(0===I.length&&0===L.length)return[new Ls(f,[])];const U=Nr(r)===l,J=this.processSegment(I,T,L,U?vt:l);return null===J?null:[new Ls(f,J)]}}function PI(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Cm(i){const r=[],e=new Set;for(const o of i){if(!PI(o)){r.push(o);continue}const l=r.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):r.push(o)}for(const o of e){const l=Cm(o.children);r.push(new Ls(o.value,l))}return r.filter(o=>!e.has(o))}function EE(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function bm(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function Im(i){return i.data||{}}function CE(i){return i.resolve||{}}function gh(i){return(0,kn.w)(r=>{const e=i(r);return e?(0,gn.D)(e).pipe((0,At.U)(()=>r)):(0,rt.of)(r)})}class VI extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const gd=new d.OlP("ROUTES");class bE{constructor(r,e,o,l){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,At.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=f.create(r);return new oE(jv(g.injector.get(gd,void 0,d.XFs.Self|d.XFs.Optional)).map(ch),g)}),(0,No.K)(f=>{throw e._loader$=void 0,f}));return e._loader$=new Tv.c(l,()=>new Po.xQ).pipe((0,cI.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,gn.D)(this.loader.load(r)):us(r()).pipe((0,tn.zg)(e=>e instanceof d.YKP?(0,rt.of)(e):(0,gn.D)(this.compiler.compileModuleAsync(e))))}}class UI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hs,this.attachRef=null}}class Hs{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new UI,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class jI{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Tm(i){throw i}function Am(i,r,e){return r.parse("/")}function Sm(i,r){return(0,rt.of)(null)}const BI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class i{constructor(e,o,l,f,g,E,I,T){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=f,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Po.xQ,this.errorHandler=Tm,this.malformedUriErrorHandler=Am,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sm,afterPreactivation:Sm},this.urlHandlingStrategy=new jI,this.routeReuseStrategy=new VI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(d.h0i),this.console=g.get(d.c2e);const J=g.get(d.R0b);this.isNgZoneEnabled=J instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Lo(new Mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bE(E,I,me=>this.triggerEvent(new eh(me)),me=>this.triggerEvent(new th(me))),this.routerState=tE(this.currentUrlTree,this.rootComponentType),this.transitions=new Ai.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe((0,ss.h)(l=>0!==l.id),(0,At.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),(0,kn.w)(l=>{let f=!1,g=!1;return(0,rt.of)(l).pipe((0,Pr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,kn.w)(E=>{const I=!this.navigated||E.extractedUrl.toString()!==this.browserUrlTree.toString(),T=("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl);if(mh(E.source)&&(this.browserUrlTree=E.rawUrl),T)return(0,rt.of)(E).pipe((0,kn.w)(L=>{const U=this.transitions.getValue();return o.next(new Zg(L.id,this.serializeUrl(L.extractedUrl),L.source,L.restoredState)),U!==this.transitions.getValue()?ka.E:Promise.resolve(L)}),function(i,r,e,o){return(0,kn.w)(l=>function(i,r,e,o,l){return new hE(i,r,e,o,l).apply()}(i,r,e,l.extractedUrl,o).pipe((0,At.U)(f=>Object.assign(Object.assign({},l),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pr.b)(L=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:L.urlAfterRedirects})}),function(i,r,e,o,l){return(0,tn.zg)(f=>function(i,r,e,o,l="emptyOnly",f="legacy"){try{const g=new RI(i,r,e,o,l,f).recognize();return null===g?Em(new vm):(0,rt.of)(g)}catch(g){return Em(g)}}(i,r,f.urlAfterRedirects,e(f.urlAfterRedirects),o,l).pipe((0,At.U)(g=>Object.assign(Object.assign({},f),{targetSnapshot:g}))))}(this.rootComponentType,this.config,L=>this.serializeUrl(L),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pr.b)(L=>{"eager"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(L.urlAfterRedirects,L),this.browserUrlTree=L.urlAfterRedirects);const U=new jA(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);o.next(U)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:J,source:me,restoredState:Te,extras:Le}=E,Be=new Zg(U,this.serializeUrl(J),me,Te);o.next(Be);const Ft=tE(J,this.rootComponentType).snapshot;return(0,rt.of)(Object.assign(Object.assign({},E),{targetSnapshot:Ft,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),ka.E}),gh(E=>{const{targetSnapshot:I,id:T,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:J,replaceUrl:me}}=E;return this.hooks.beforePreactivation(I,{navigationId:T,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!J,replaceUrl:!!me})}),(0,Pr.b)(E=>{const I=new BA(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),(0,At.U)(E=>Object.assign(Object.assign({},E),{guards:gE(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,r){return(0,tn.zg)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:f,canDeactivateChecks:g}}=e;return 0===g.length&&0===f.length?(0,rt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,gn.D)(i).pipe((0,tn.zg)(l=>function(i,r,e,o,l){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,rt.of)(!0);const g=f.map(E=>{const I=fd(E,r,l);let T;if(function(i){return i&&ja(i.canDeactivate)}(I))T=us(I.canDeactivate(i,r,e,o));else{if(!ja(I))throw new Error("Invalid CanDeactivate guard");T=us(I(i,r,e,o))}return T.pipe(os())});return(0,rt.of)(g).pipe(_i())}(l.component,l.route,e,r,o)),os(l=>!0!==l,!0))}(g,o,l,i).pipe((0,tn.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,r,e,o){return(0,gn.D)(r).pipe((0,uu.b)(l=>Xc(function(i,r){return null!==i&&r&&r(new dI(i)),(0,rt.of)(!0)}(l.route.parent,o),function(i,r){return null!==i&&r&&r(new rd(i)),(0,rt.of)(!0)}(l.route,o),function(i,r,e){const o=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(g=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(g)).filter(g=>null!==g).map(g=>Dv(()=>{const E=g.guards.map(I=>{const T=fd(I,g.node,e);let L;if(function(i){return i&&ja(i.canActivateChild)}(T))L=us(T.canActivateChild(o,i));else{if(!ja(T))throw new Error("Invalid CanActivateChild guard");L=us(T(o,i))}return L.pipe(os())});return(0,rt.of)(E).pipe(_i())}));return(0,rt.of)(f).pipe(_i())}(i,l.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,rt.of)(!0);const l=o.map(f=>Dv(()=>{const g=fd(f,r,e);let E;if(function(i){return i&&ja(i.canActivate)}(g))E=us(g.canActivate(r,i));else{if(!ja(g))throw new Error("Invalid CanActivate guard");E=us(g(r,i))}return E.pipe(os())}));return(0,rt.of)(l).pipe(_i())}(i,l.route,e))),os(l=>!0!==l,!0))}(o,f,i,r):(0,rt.of)(E)),(0,At.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Pr.b)(E=>{if(_u(E.guardsResult)){const T=ko(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw T.url=E.guardsResult,T}const I=new kv(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(I)}),(0,ss.h)(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),gh(E=>{if(E.guards.canActivateChecks.length)return(0,rt.of)(E).pipe((0,Pr.b)(I=>{const T=new HA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(T)}),(0,kn.w)(I=>{let T=!1;return(0,rt.of)(I).pipe(function(i,r){return(0,tn.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,rt.of)(e);let f=0;return(0,gn.D)(l).pipe((0,uu.b)(g=>function(i,r,e,o){return function(i,r,e,o){const l=Object.keys(i);if(0===l.length)return(0,rt.of)({});const f={};return(0,gn.D)(l).pipe((0,tn.zg)(g=>function(i,r,e,o){const l=fd(i,r,o);return us(l.resolve?l.resolve(r,e):l(r,e))}(i[g],r,e,o).pipe((0,Pr.b)(E=>{f[g]=E}))),Yg(1),(0,tn.zg)(()=>Object.keys(f).length===l.length?(0,rt.of)(f):ka.E))}(i._resolve,i,r,o).pipe((0,At.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),om(i,e).resolve),null)))}(g.route,o,i,r)),(0,Pr.b)(()=>f++),Yg(1),(0,tn.zg)(g=>f===l.length?(0,rt.of)(e):ka.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pr.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Pr.b)(I=>{const T=new ls(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(T)}))}),gh(E=>{const{targetSnapshot:I,id:T,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:J,replaceUrl:me}}=E;return this.hooks.afterPreactivation(I,{navigationId:T,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!J,replaceUrl:!!me})}),(0,At.U)(E=>{const I=function(i,r,e){const o=od(i,r._root,e?e._root:void 0);return new eE(o,r)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:I})}),(0,Pr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,r,e)=>(0,At.U)(o=>(new gm(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Pr.b)({next(){f=!0},complete(){f=!0}}),function(i){return r=>r.lift(new UA(i))}(()=>{if(!f&&!g){const E=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,E)):this.cancelNavigationTransition(l,E)}this.currentNavigation=null}),(0,No.K)(E=>{if(g=!0,function(i){return i&&i[fI]}(E)){const I=_u(E.url);I||(this.navigated=!0,this.restoreHistory(l,!0));const T=new Fa(l.id,this.serializeUrl(l.extractedUrl),E.message);o.next(T),I?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),U={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mh(l.source)};this.scheduleNavigation(L,"imperative",null,U,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const I=new as(l.id,this.serializeUrl(l.extractedUrl),E);o.next(I);try{l.resolve(this.errorHandler(E))}catch(T){l.reject(T)}}return ka.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:l,state:f,urlTree:g}=o,E={replaceUrl:!0};if(f){const I=Object.assign({},f);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(E.state=I)}this.scheduleNavigation(g,l,f,E)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const l=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!l||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){aE(e),this.config=e.map(ch),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:f,fragment:g,queryParamsHandling:E,preserveFragment:I}=o,T=l||this.routerState.root,L=I?this.currentUrlTree.fragment:g;let U=null;switch(E){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=f||null}return null!==U&&(U=this.removeEmptyProps(U)),function(i,r,e,o,l){if(0===e.length)return iE(r.root,r.root,r,o,l);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new CI(!0,0,i);let r=0,e=!1;const o=i.reduce((l,f,g)=>{if("object"==typeof f&&null!=f){if(f.outlets){const E={};return Xn(f.outlets,(I,T)=>{E[T]="string"==typeof I?I.split("/"):I}),[...l,{outlets:E}]}if(f.segmentPath)return[...l,f.segmentPath]}return"string"!=typeof f?[...l,f]:0===g?(f.split("/").forEach((E,I)=>{0==I&&"."===E||(0==I&&""===E?e=!0:".."===E?r++:""!=E&&l.push(E))}),l):[...l,f]},[]);return new CI(e,r,o)}(e);if(f.toRoot())return iE(r.root,new Mt([],{}),r,o,l);const g=function(i,r,e){if(i.isAbsolute)return new mu(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const f=e.snapshot._urlSegment;return new mu(f,f===r.root,0)}const o=ad(i.commands[0])?0:1;return function(i,r,e){let o=i,l=r,f=e;for(;f>l;){if(f-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new mu(o,!1,l-f)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,r,i),E=g.processChildren?ld(g.segmentGroup,g.index,f.commands):sE(g.segmentGroup,g.index,f.commands);return iE(g.segmentGroup,E,r,o,l)}(T,this.currentUrlTree,e,U,null!=L?L:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=_u(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},BI):!1===o?Object.assign({},HI):o,_u(e))return nh(this.currentUrlTree,e,l);const f=this.parseUrl(e);return nh(this.currentUrlTree,f,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const f=e[l];return null!=f&&(o[l]=f),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new nd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,l,f,g){var E,I;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),L=mh(o)&&T&&!mh(T.source),me=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(L&&me)return Promise.resolve(!0);let Te,Le,Be;g?(Te=g.resolve,Le=g.reject,Be=g.promise):Be=new Promise((ot,jt)=>{Te=ot,Le=jt});const Ft=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Pt=l&&l.\u0275routerPageId?l.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):Pt=0,this.setTransition({id:Ft,targetPageId:Pt,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:Te,reject:Le,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(ot=>Promise.reject(ot))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",f):this.location.go(l,"",f)}restoreHistory(e,o=!1){var l,f;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new Fa(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(rh),d.LFG(Hs),d.LFG(Ne),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function mh(i){return"imperative"!==i}let Oi=(()=>{class i{constructor(e,o,l,f,g){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=f||vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,I=new vh(e,E,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Hs),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class vh{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===pu?this.route:r===Hs?this.childContexts:this.parent.get(r,e)}}class DE{}class WI{preload(r,e){return(0,rt.of)(null)}}let Ha=(()=>{class i{constructor(e,o,l,f,g){this.router=e,this.injector=f,this.preloadingStrategy=g,this.loader=new bE(o,l,T=>e.triggerEvent(new eh(T)),T=>e.triggerEvent(new th(T)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ss.h)(e=>e instanceof nd),(0,uu.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const g=f._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else f.loadChildren&&!f.canLoad?l.push(this.preloadConfig(e,f)):f.children&&l.push(this.processRoutes(e,f.children));return(0,gn.D)(l).pipe((0,Nn.J)(),(0,At.U)(f=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,tn.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Bn),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(DE))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Eh=(()=>{class i{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Qg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Bn),d.LFG(Il),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Ri=new d.OlP("ROUTER_CONFIGURATION"),TE=new d.OlP("ROUTER_FORROOT_GUARD"),AE=[Ne,{provide:rh,useClass:ih},{provide:Bn,useFactory:function(i,r,e,o,l,f,g,E={},I,T){const L=new Bn(null,i,r,e,o,l,f,jv(g));return I&&(L.urlHandlingStrategy=I),T&&(L.routeReuseStrategy=T),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(E,L),E.enableTracing&&L.events.subscribe(U=>{var J,me;null===(J=console.group)||void 0===J||J.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(me=console.groupEnd)||void 0===me||me.call(console)}),L},deps:[rh,Hs,Ne,d.zs3,d.v3s,d.Sil,gd,Ri,[class{},new d.FiY],[class{},new d.FiY]]},Hs,{provide:pu,useFactory:function(i){return i.routerState.root},deps:[Bn]},{provide:d.v3s,useClass:d.EAV},Ha,WI,class{preload(r,e){return e().pipe((0,No.K)(()=>(0,rt.of)(null)))}},{provide:Ri,useValue:{enableTracing:!1}}];function GI(){return new d.PXZ("Router",Bn)}let Om=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[AE,SE(e),{provide:TE,useFactory:KI,deps:[[Bn,new d.FiY,new d.tp0]]},{provide:Ri,useValue:o||{}},{provide:we,useFactory:Rm,deps:[P,[new d.tBr(ye),new d.FiY],Ri]},{provide:Eh,useFactory:zI,deps:[Bn,Il,Ri]},{provide:DE,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:WI},{provide:d.PXZ,multi:!0,useFactory:GI},[xm,{provide:d.ip1,multi:!0,useFactory:YI,deps:[xm]},{provide:RE,useFactory:bu,deps:[xm]},{provide:d.tb,multi:!0,useExisting:RE}]]}}static forChild(e){return{ngModule:i,providers:[SE(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(TE,8),d.LFG(Bn,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function zI(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Eh(i,r,e)}function Rm(i,r,e={}){return e.useHash?new Me(i,r):new Ce(i,r)}function KI(i){return"guarded"}function SE(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:gd,multi:!0,useValue:i}]}let xm=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Po.xQ}appInitializer(){return this.injector.get(S,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(E=>o=E),f=this.injector.get(Bn),g=this.injector.get(Ri);return"disabled"===g.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Ri),l=this.injector.get(Ha),f=this.injector.get(Eh),g=this.injector.get(Bn),E=this.injector.get(d.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),f.init(),g.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function YI(i){return i.appInitializer.bind(i)}function bu(i){return i.bootstrapListener.bind(i)}const RE=new d.OlP("Router Initializer");var Iu=D(5676),le=D(4685),$a=D(5452),Pm=D(300),Jt=D(6034),dt=D(4220);const md=(0,dt.PH)("[AUTH] Sign Up Start",(0,dt.Ky)()),km=(0,dt.PH)("[AUTH] Sign Up Success",(0,dt.Ky)()),xE=(0,dt.PH)("[AUTH] Log In",(0,dt.Ky)());function ZI(i,r){1&i&&(d.TgZ(0,"span"),d._uU(1,"Passwords don't match"),d.qZA())}function PE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",3,4),d.NdJ("ngSubmit",function(){d.CHM(e);const l=d.MAs(1);return d.oxw().signupSubmit(l)}),d.TgZ(2,"label",5),d._uU(3,"Enter your Email"),d.qZA(),d._UZ(4,"input",6),d.TgZ(5,"label",7),d._uU(6,"Enter your Username"),d.qZA(),d._UZ(7,"input",8),d.TgZ(8,"label",9),d._uU(9,"Enter your password"),d.qZA(),d._UZ(10,"input",10),d.TgZ(11,"label",11),d._uU(12,"Repeat your password"),d.qZA(),d._UZ(13,"input",12),d.YNc(14,ZI,2,0,"span",13),d.TgZ(15,"button",14),d._uU(16,"Submit"),d.qZA(),d.qZA()}if(2&i){const e=d.MAs(1),o=d.oxw();d.xp6(14),d.Q6J("ngIf",o.hackyWayOfValidation),d.xp6(1),d.Q6J("disabled",e.invalid)}}function NE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",3,15),d.NdJ("ngSubmit",function(){d.CHM(e);const l=d.MAs(1);return d.oxw().loginSubmit(l)}),d.TgZ(2,"label",5),d._uU(3,"Enter your Email"),d.qZA(),d._UZ(4,"input",6),d.TgZ(5,"label",9),d._uU(6,"Enter your password"),d.qZA(),d._UZ(7,"input",10),d.TgZ(8,"button",14),d._uU(9,"Submit"),d.qZA(),d.qZA()}if(2&i){const e=d.MAs(1);d.xp6(8),d.Q6J("disabled",e.invalid)}}function kE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"span",16),d.NdJ("click",function(){d.CHM(e);const l=d.oxw();return l.signupMode=!l.signupMode}),d._uU(1,"Allready have an account?"),d.qZA()}}function FE(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"span",16),d.NdJ("click",function(){d.CHM(e);const l=d.oxw();return l.signupMode=!l.signupMode}),d._uU(1,"Don't have an account?"),d.qZA()}}let QI=(()=>{class i{constructor(e,o){this.store=e,this.router=o,this.auth=(0,Iu.n)(),this.hackyWayOfValidation=!1,this.signupMode=!1}ngOnInit(){const e=(0,Iu.n)();(0,Iu.t)(e,o=>{o?(console.log(o),this.store.dispatch(km({payload:{email:o.email,uid:o.uid,username:"need something",tokenExpDate:new Date,token:"",messages:[]}}))):console.log("WE ARE IN THE ELSE BLOCK")})}signupSubmit(e){console.log(e),e.value.password!==e.value.rePassword&&(this.hackyWayOfValidation=!0,console.log("mismatch")),this.store.dispatch(md({payload:{email:e.value.email,password:e.value.password,username:e.value.username}})),this.store.select("auth").subscribe(o=>{console.log(o)}),this.router.navigate(["messenger"])}loginSubmit(e){console.log(e),this.store.dispatch(xE({payload:{email:e.value.email,password:e.value.password}})),this.router.navigate(["messenger"])}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(dt.yh),d.Y36(Bn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-auth"]],decls:5,vars:4,consts:[[1,"form-container"],["class","form",3,"ngSubmit",4,"ngIf"],[3,"click",4,"ngIf"],[1,"form",3,"ngSubmit"],["signupForm","ngForm"],["for","email"],["id","email","type","email","ngModel","","name","email","required","","email",""],["for","userName"],["id","userName","type","text","ngModel","","name","username","required",""],["for","password"],["id","password","type","password","ngModel","","name","password","minlength","6","required",""],["for","rePassword"],["id","rePassword","type","password","ngModel","","name","rePassword","required",""],[4,"ngIf"],["type","submit",3,"disabled"],["loginForm","ngForm"],[3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.YNc(1,PE,17,2,"form",1),d.YNc(2,NE,10,1,"form",1),d.YNc(3,kE,2,0,"span",2),d.YNc(4,FE,2,0,"span",2),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",o.signupMode),d.xp6(1),d.Q6J("ngIf",!o.signupMode),d.xp6(1),d.Q6J("ngIf",o.signupMode),d.xp6(1),d.Q6J("ngIf",!o.signupMode))},directives:[ge,pi,Uc,hi,di,Do,Ro,lu,yv,Wg],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-container[_ngcontent-%COMP%]{background:#0f0c29;background:linear-gradient(to right,#24243e,#302b63,#0f0c29);display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;color:#ffebcd;box-shadow:2px 2px 15px 3px #fff3;background-color:#0006;border-radius:5px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 15px;width:400px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 5px}"]}),i})();var JI=D(8239);let bh="";class VE{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,le.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,le.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class UE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,le.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const jE=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new VE(r)}}catch(r){}return new UE},Wa=jE("localStorage"),Lm=jE("sessionStorage"),wu=new Pm.Yd("@firebase/database"),Vm=function(){let i=1;return function(){return i++}}(),XI=function(i){const r=(0,le.dS)(i),e=new le.gQ;e.update(r);const o=e.digest();return le.US.encodeByteArray(o)},Du=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=Du.apply(null,o):r+="object"==typeof o?(0,le.Pz)(o):o,r+=" "}return r};let Ga=null,BE=!0;const er=function(...i){if(!0===BE&&(BE=!1,null===Ga&&!0===Lm.get("logging_enabled")&&function(i,r){(0,le.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(wu.logLevel=Pm.in.VERBOSE,Ga=wu.log.bind(wu),r&&Lm.set("logging_enabled",!0)):"function"==typeof i?Ga=i:(Ga=null,Lm.remove("logging_enabled"))}(!0)),Ga){const r=Du.apply(null,i);Ga(r)}},za=function(i){return function(...r){er(i,...r)}},Um=function(...i){const r="FIREBASE INTERNAL ERROR: "+Du(...i);wu.error(r)},xi=function(...i){const r=`FIREBASE FATAL ERROR: ${Du(...i)}`;throw wu.error(r),new Error(r)},or=function(...i){const r="FIREBASE WARNING: "+Du(...i);wu.warn(r)},kr=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ho="[MIN_NAME]",Ws="[MAX_NAME]",$o=function(i,r){if(i===r)return 0;if(i===Ho||r===Ws)return-1;if(r===Ho||i===Ws)return 1;{const e=wh(i),o=wh(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},HE=function(i,r){return i===r?0:i<r?-1:1},Tu=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,le.Pz)(r))},jm=function(i){if("object"!=typeof i||null===i)return(0,le.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,le.Pz)(r[o]),e+=":",e+=jm(i[r[o]]);return e+="}",e},tw=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let l=0;l<e;l+=r)o.push(i.substring(l,l+r>e?e:l+r));return o};function Fn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const Ih=function(i){(0,le.hu)(!kr(i),"Invalid JSON number");const o=1023;let l,f,g,E,I;0===i?(f=0,g=0,l=1/i==-1/0?1:0):(l=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(i)/Math.LN2),o),f=E+o,g=Math.round(i*Math.pow(2,52-E)-Math.pow(2,52))):(f=0,g=Math.round(i/Math.pow(2,-1074))));const T=[];for(I=52;I;I-=1)T.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)T.push(f%2?1:0),f=Math.floor(f/2);T.push(l?1:0),T.reverse();const L=T.join("");let U="";for(I=0;I<64;I+=8){let J=parseInt(L.substr(I,8),2).toString(16);1===J.length&&(J="0"+J),U+=J}return U.toLowerCase()},iw=new RegExp("^-?(0*)\\d{1,10}$"),wh=function(i){if(iw.test(i)){const r=Number(i);if(r>=-2147483648&&r<=2147483647)return r}return null},Au=function(i){try{i()}catch(r){setTimeout(()=>{throw or("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},fs=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class WE{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Pi{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',or(r)}}let Gs=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const tr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mh="websocket",Ka="long_polling";class Ya{constructor(r,e,o,l,f=!1,g="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=f,this.persistenceKey=g,this.includeNamespaceInQueryParams=E,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wa.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Wa.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qa(i,r,e){let o;if((0,le.hu)("string"==typeof r,"typeof type must == string"),(0,le.hu)("object"==typeof e,"typeof params must == object"),r===Mh)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==Ka)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const l=[];return Fn(e,(f,g)=>{l.push(f+"="+g)}),o+l.join("&")}class Ou{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,le.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,le.p$)(this.counters_)}}const Go={},zo={};function Ko(i){const r=i.toString();return Go[r]||(Go[r]=new Ou),Go[r]}class zE{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Au(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xu{constructor(r,e,o,l,f,g,E){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=f,this.transportSessionId=g,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=za(r),this.stats_=Ko(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),qa(e,Ka,I))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zE(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,le.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Oh((...f)=>{const[g,E,I,T,L]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=E,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[g,E]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(g,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&tr.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xu.forceAllow_=!0}static forceDisallow(){xu.forceDisallow_=!0}static isAvailable(){return!((0,le.Yr)()||!xu.forceAllow_&&(xu.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,le.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,le.h$)(e),l=tw(o,1840);for(let f=0;f<l.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[f]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,le.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,le.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Oh{constructor(r,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,le.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Vm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Oh.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(E){er("frame writing exception"),E.stack&&er(E.stack),er(E)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||er("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(l),o()})}addTag(r,e){(0,le.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{er("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Rh=null;"undefined"!=typeof MozWebSocket?Rh=MozWebSocket:"undefined"!=typeof WebSocket&&(Rh=WebSocket);let yd=(()=>{class i{constructor(e,o,l,f,g,E,I){this.connId=e,this.applicationId=l,this.appCheckToken=f,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=za(this.connId),this.stats_=Ko(o),this.connURL=i.connectionURL_(o,E,I,f),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,f){const g={v:"5"};return!(0,le.Yr)()&&"undefined"!=typeof location&&location.hostname&&tr.test(location.hostname)&&(g.r="f"),o&&(g.s=o),l&&(g.ls=l),f&&(g.ac=f),qa(e,Mh,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wa.set("previous_websocket_failure",!0);try{if((0,le.Yr)()){const f={headers:{"User-Agent":`Firebase/5/${bh}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,E=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;E&&(f.proxy={origin:E}),this.mySock=new Rh(this.connURL,[],f)}else this.mySock=new Rh(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const f=l.message||l.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const f=l.message||l.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Rh&&!i.forceDisallow_}static previouslyFailed(){return Wa.isInMemoryStorage||!0===Wa.get("previous_websocket_failure")}markConnectionHealthy(){Wa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,le.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,le.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,le.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=tw(o,16384);l.length>1&&this.sendString_(String(l.length));for(let f=0;f<l.length;f++)this.sendString_(l[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class xh{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[xu,yd]}initTransports_(r){const e=yd&&yd.isAvailable();let o=e&&!yd.previouslyFailed();if(r.webSocketOnly&&(e||or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[yd];else{const l=this.transports_=[];for(const f of xh.ALL_TRANSPORTS)f&&f.isAvailable()&&l.push(f)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class iC{constructor(r,e,o,l,f,g,E,I,T,L){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=f,this.onMessage_=g,this.onReady_=E,this.onDisconnect_=I,this.onKill_=T,this.lastSessionId=L,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=za("c:"+this.id+":"),this.transportManager_=new xh(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=r.healthyTimeout||0;l>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=Tu("t",r),o=Tu("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=Tu("t",r),o=Tu("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=Tu("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Um("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Um("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,l=r.h;this.sessionId=r.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mw{put(r,e,o,l){}merge(r,e,o,l){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class sC{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,le.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const l=this.getInitialEvent(r);l&&e.apply(o,l)}off(r,e,o){this.validateEventType_(r);const l=this.listeners_[r]||[];for(let f=0;f<l.length;f++)if(l[f].callback===e&&(!o||o===l[f].context))return void l.splice(f,1)}validateEventType_(r){(0,le.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class zs extends sC{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,le.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zs}getInitialEvent(r){return(0,le.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Kt{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function Ut(){return new Kt("")}function ft(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Yo(i){return i.pieces_.length-i.pieceNum_}function Xt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Kt(i.pieces_,r)}function Zm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function vd(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function aC(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new Kt(r,0)}function mn(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof Kt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Kt(e,0)}function Et(i){return i.pieceNum_>=i.pieces_.length}function vr(i,r){const e=ft(i),o=ft(r);if(null===e)return r;if(e===o)return vr(Xt(i),Xt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function Nh(i,r){if(Yo(i)!==Yo(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function Lr(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(Yo(i)>Yo(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class mS{constructor(r,e){this.errorPrefix_=e,this.parts_=vd(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,le.ug)(this.parts_[o]);vw(this)}}function vw(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ki(i))}function ki(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Jm extends sC{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Jm}getInitialEvent(r){return(0,le.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Za=1e3;let Ed,Qa=(()=>{class i extends mw{constructor(e,o,l,f,g,E,I,T){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=f,this.onServerInfoUpdate_=g,this.authTokenProvider_=E,this.appCheckTokenProvider_=I,this.authOverride_=T,this.id=i.nextPersistentConnectionId_++,this.log_=za("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Za,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,le.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&zs.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const f=++this.requestNumber_,g={r:f,a:e,b:o};this.log_((0,le.Pz)(g)),(0,le.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[f]=l)}get(e){this.initConnection_();const o=new le.BH,l={p:e._path.toString(),q:e._queryObject},f={action:"g",request:l,onComplete:E=>{const I=E.d;"ok"===E.s?(this.onDataUpdate_(l.p,I,!1,null),o.resolve(I)):o.reject(I)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[g];void 0===E||f!==E||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(e,o,l,f){this.initConnection_();const g=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+g),this.listens.has(E)||this.listens.set(E,new Map),(0,le.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,le.hu)(!this.listens.get(E).has(g),"listen() called twice for same path/queryId.");const I={onComplete:f,hashFn:o,query:e,tag:l};this.listens.get(E).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+l+" for "+f);const g={p:l};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const T=I.d,L=I.s;i.warnOnListenWarnings_(T,o),(this.listens.get(l)&&this.listens.get(l).get(f))===e&&(this.log_("listen response",I),"ok"!==L&&this.removeListen_(l,f),e.onComplete&&e.onComplete(L,T))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,le.r3)(e,"w")){const l=(0,le.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,le.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,le.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,f=>{const g=f.s,E=f.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+f),(0,le.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,f)&&this.connected_&&this.sendUnlisten_(l,f,e._queryObject,o)}sendUnlisten_(e,o,l,f){this.log_("Unlisten on "+e+" for "+o);const g={p:e};f&&(g.q=l,g.t=f),this.sendRequest("n",g)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,f){const g={p:o,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,E=>{f&&setTimeout(()=>{f(E.s,E.d)},Math.floor(0))})}put(e,o,l,f){this.putInternal("p",e,o,l,f)}merge(e,o,l,f){this.putInternal("m",e,o,l,f)}putInternal(e,o,l,f,g){this.initConnection_();const E={p:o,d:l};void 0!==g&&(E.h=g),this.outstandingPuts_.push({action:e,request:E,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,le.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Um("Unrecognized action received from server: "+(0,le.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,le.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,JI.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+i.nextConnectionId_++,E=e.lastSessionId;let I=!1,T=null;const L=function(){T?T.close():(I=!0,f())};e.realtime_={close:L,sendRequest:function(me){(0,le.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(me)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,Te]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);I?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=Te&&Te.token,T=new iC(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,f,Le=>{or(Le+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(me){e.log_("Failed to get token: "+me),I||(e.repoInfo_.nodeAdmin&&or(me),L())}}})()}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,le.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(g=>jm(g)).join("$"):"default";const f=this.removeListen_(e,l);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,o){const l=new Kt(e).toString();let f;if(this.listens.has(l)){const g=this.listens.get(l);f=g.get(o),g.delete(o),0===g.size&&this.listens.delete(l)}else f=void 0;return f}onAuthRevoked_(e,o){er("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){er("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,le.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+bh.replace(/\./g,"-")]=1,(0,le.uI)()?e["framework.cordova"]=1:(0,le.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zs.getInstance().currentlyOnline();return(0,le.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class It{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new It(r,e)}}class Fh{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new It(Ho,r),l=new It(Ho,e);return 0!==this.compare(o,l)}minPost(){return It.MIN}}class Lh extends Fh{static get __EMPTY_NODE(){return Ed}static set __EMPTY_NODE(r){Ed=r}compare(r,e){return $o(r.name,e.name)}isDefinedOn(r){throw(0,le.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return It.MIN}maxPost(){return new It(Ws,Ed)}makePost(r,e){return(0,le.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new It(r,Ed)}toString(){return".key"}}const Fi=new Lh;class Pu{constructor(r,e,o,l,f=null){this.isReverse_=l,this.resultGenerator_=f,this.nodeStack_=[];let g=1;for(;!r.isEmpty();)if(r=r,g=e?o(r.key,e):1,l&&(g*=-1),g<0)r=this.isReverse_?r.left:r.right;else{if(0===g){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Cd,Jr=(()=>{class i{constructor(e,o,l,f,g){this.key=e,this.value=o,this.color=null!=l?l:i.RED,this.left=null!=f?f:Vr.EMPTY_NODE,this.right=null!=g?g:Vr.EMPTY_NODE}copy(e,o,l,f,g){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=f?f:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let f=this;const g=l(e,f.key);return f=g<0?f.copy(null,null,null,f.left.insert(e,o,l),null):0===g?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(e,o,l)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,f;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return Vr.EMPTY_NODE;f=l.right.min_(),l=l.copy(f.key,f.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Vr{constructor(r,e=Vr.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new Vr(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Jr.BLACK,null,null))}remove(r){return new Vr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Jr.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Pu(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Pu(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Pu(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Pu(this.root_,null,this.comparator_,!0,r)}}function fC(i,r){return $o(i.name,r.name)}function Vh(i,r){return $o(i,r)}Vr.EMPTY_NODE=new class{copy(r,e,o,l,f){return this}insert(r,e,o){return new Jr(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pC=function(i){return"number"==typeof i?"number:"+Ih(i):"string:"+i},t_=function(i){if(i.isLeafNode()){const r=i.val();(0,le.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,le.r3)(r,".sv"),"Priority must be a string or number.")}else(0,le.hu)(i===Cd||i.isEmpty(),"priority of unexpected type.");(0,le.hu)(i===Cd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let n_,Uh,r_,Ja=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,le.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),t_(this.priorityNode_)}static set __childrenNodeConstructor(e){n_=e}static get __childrenNodeConstructor(){return n_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===ft(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=ft(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,le.hu)(".priority"!==l||1===Yo(e),".priority must be the last token in a path"),this.updateImmediateChild(l,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pC(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Ih(this.value_):this.value_,this.lazyHash_=XI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,le.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,f=i.VALUE_TYPE_ORDER.indexOf(o),g=i.VALUE_TYPE_ORDER.indexOf(l);return(0,le.hu)(f>=0,"Unknown leaf type: "+o),(0,le.hu)(g>=0,"Unknown leaf type: "+l),f===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const nn=new class extends Fh{compare(r,e){const o=r.node.getPriority(),l=e.node.getPriority(),f=o.compareTo(l);return 0===f?$o(r.name,e.name):f}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return It.MIN}maxPost(){return new It(Ws,new Ja("[PRIORITY-POST]",r_))}makePost(r,e){const o=Uh(r);return new It(e,new Ja("[PRIORITY-POST]",o))}toString(){return".priority"}},yC=Math.log(2);class vC{constructor(r){this.count=parseInt(Math.log(r+1)/yC,10),this.current_=this.count-1;const l=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&l}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const bd=function(i,r,e,o){i.sort(r);const l=function(I,T){const L=T-I;let U,J;if(0===L)return null;if(1===L)return U=i[I],J=e?e(U):U,new Jr(J,U.node,Jr.BLACK,null,null);{const me=parseInt(L/2,10)+I,Te=l(I,me),Le=l(me+1,T);return U=i[me],J=e?e(U):U,new Jr(J,U.node,Jr.BLACK,Te,Le)}},E=function(I){let T=null,L=null,U=i.length;const J=function(Te,Le){const Be=U-Te,Ft=U;U-=Te;const Pt=l(Be+1,Ft),ot=i[Be],jt=e?e(ot):ot;me(new Jr(jt,ot.node,Le,null,Pt))},me=function(Te){T?(T.left=Te,T=Te):(L=Te,T=Te)};for(let Te=0;Te<I.count;++Te){const Le=I.nextBitIsOne(),Be=Math.pow(2,I.count-(Te+1));Le?J(Be,Jr.BLACK):(J(Be,Jr.BLACK),J(Be,Jr.RED))}return L}(new vC(i.length));return new Vr(o||r,E)};let EC;const Nu={};class Ks{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,le.hu)(Nu&&nn,"ChildrenNode.ts has not been loaded"),EC=EC||new Ks({".priority":Nu},{".priority":nn}),EC}get(r){const e=(0,le.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof Vr?e:null}hasIndex(r){return(0,le.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,le.hu)(r!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const f=e.getIterator(It.Wrap);let E,g=f.getNext();for(;g;)l=l||r.isDefinedOn(g.node),o.push(g),g=f.getNext();E=l?bd(o,r.getCompare()):Nu;const I=r.toString(),T=Object.assign({},this.indexSet_);T[I]=r;const L=Object.assign({},this.indexes_);return L[I]=E,new Ks(L,T)}addToIndexes(r,e){const o=(0,le.UI)(this.indexes_,(l,f)=>{const g=(0,le.DV)(this.indexSet_,f);if((0,le.hu)(g,"Missing index implementation for "+f),l===Nu){if(g.isDefinedOn(r.node)){const E=[],I=e.getIterator(It.Wrap);let T=I.getNext();for(;T;)T.name!==r.name&&E.push(T),T=I.getNext();return E.push(r),bd(E,g.getCompare())}return Nu}{const E=e.get(r.name);let I=l;return E&&(I=I.remove(new It(r.name,E))),I.insert(r,r.node)}});return new Ks(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,le.UI)(this.indexes_,l=>{if(l===Nu)return l;{const f=e.get(r.name);return f?l.remove(new It(r.name,f)):l}});return new Ks(o,this.indexSet_)}}let ku,ct=(()=>{class i{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&t_(this.priorityNode_),this.children_.isEmpty()&&(0,le.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ku||(ku=new i(new Vr(Vh),null,Ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ku}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?ku:o}}getChild(e){const o=ft(e);return null===o?this:this.getImmediateChild(o).getChild(Xt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,le.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new It(e,o);let f,g;o.isEmpty()?(f=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(f=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(l,this.children_));const E=f.isEmpty()?ku:this.priorityNode_;return new i(f,E,g)}}updateChild(e,o){const l=ft(e);if(null===l)return o;{(0,le.hu)(".priority"!==ft(e)||1===Yo(e),".priority must be the last token in a path");const f=this.getImmediateChild(l).updateChild(Xt(e),o);return this.updateImmediateChild(l,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,f=0,g=!0;if(this.forEachChild(nn,(E,I)=>{o[E]=I.val(e),l++,g&&i.INTEGER_REGEXP_.test(E)?f=Math.max(f,Number(E)):g=!1}),!e&&g&&f<2*l){const E=[];for(const I in o)E[I]=o[I];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pC(this.getPriority().val())+":"),this.forEachChild(nn,(o,l)=>{const f=l.hash();""!==f&&(e+=":"+o+":"+f)}),this.lazyHash_=""===e?"":XI(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const f=this.resolveIndex_(l);if(f){const g=f.getPredecessorKey(new It(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new It(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new It(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,It.Wrap);let g=f.peek();for(;null!=g&&o.compare(g,e)<0;)f.getNext(),g=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,It.Wrap);let g=f.peek();for(;null!=g&&o.compare(g,e)>0;)f.getNext(),g=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fu?-1:0}withIndex(e){if(e===Fi||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Fi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(nn),f=o.getIterator(nn);let g=l.getNext(),E=f.getNext();for(;g&&E;){if(g.name!==E.name||!g.node.equals(E.node))return!1;g=l.getNext(),E=f.getNext()}return null===g&&null===E}return!1}return!1}}resolveIndex_(e){return e===Fi?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Fu=new class extends ct{constructor(){super(new Vr(Vh),ct.EMPTY_NODE,Ks.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return ct.EMPTY_NODE}isEmpty(){return!1}};function vn(i,r=null){if(null===i)return ct.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,le.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Ja(i,vn(r));if(i instanceof Array){let e=ct.EMPTY_NODE;return Fn(i,(o,l)=>{if((0,le.r3)(i,o)&&"."!==o.substring(0,1)){const f=vn(l);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(o,f))}}),e.updatePriority(vn(r))}{const e=[];let o=!1;if(Fn(i,(g,E)=>{if("."!==g.substring(0,1)){const I=vn(E);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new It(g,I)))}}),0===e.length)return ct.EMPTY_NODE;const f=bd(e,fC,g=>g.name,Vh);if(o){const g=bd(e,nn.getCompare());return new ct(f,vn(r),new Ks({".priority":g},{".priority":nn}))}return new ct(f,vn(r),Ks.Default)}}Object.defineProperties(It,{MIN:{value:new It(Ho,ct.EMPTY_NODE)},MAX:{value:new It(Ws,Fu)}}),Lh.__EMPTY_NODE=ct.EMPTY_NODE,Ja.__childrenNodeConstructor=ct,Cd=Fu,r_=Fu,function(i){Uh=i}(vn);class jh extends Fh{constructor(r){super(),this.indexPath_=r,(0,le.hu)(!Et(r)&&".priority"!==ft(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),l=this.extractChild(e.node),f=o.compareTo(l);return 0===f?$o(r.name,e.name):f}makePost(r,e){const o=vn(r),l=ct.EMPTY_NODE.updateChild(this.indexPath_,o);return new It(e,l)}maxPost(){const r=ct.EMPTY_NODE.updateChild(this.indexPath_,Fu);return new It(Ws,r)}toString(){return vd(this.indexPath_,0).join("/")}}const Bh=new class extends Fh{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?$o(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return It.MIN}maxPost(){return It.MAX}makePost(r,e){const o=vn(r);return new It(e,o)}toString(){return".value"}},Xa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IC=function(){let i=0;const r=[];return function(e){const o=e===i;let l;i=e;const f=new Array(8);for(l=7;l>=0;l--)f[l]=Xa.charAt(e%64),e=Math.floor(e/64);(0,le.hu)(0===e,"Cannot push at time == 0");let g=f.join("");if(o){for(l=11;l>=0&&63===r[l];l--)r[l]=0;r[l]++}else for(l=0;l<12;l++)r[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=Xa.charAt(r[l]);return(0,le.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();function Iw(i){return{type:"value",snapshotNode:i}}function el(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function tl(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Ur(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class s_{constructor(r){this.index_=r}updateChild(r,e,o,l,f,g){(0,le.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=r.getImmediateChild(e);return E.getChild(l).equals(o.getChild(l))&&E.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?r.hasChild(e)?g.trackChildChange(tl(e,E)):(0,le.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?g.trackChildChange(el(e,o)):g.trackChildChange(Ur(e,o,E))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(nn,(l,f)=>{e.hasChild(l)||o.trackChildChange(tl(l,f))}),e.isLeafNode()||e.forEachChild(nn,(l,f)=>{if(r.hasChild(l)){const g=r.getImmediateChild(l);g.equals(f)||o.trackChildChange(Ur(l,f,g))}else o.trackChildChange(el(l,f))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?ct.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jr{constructor(r){this.indexedFilter_=new s_(r.getIndex()),this.index_=r.getIndex(),this.startPost_=jr.getStartPost_(r),this.endPost_=jr.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,l,f,g){return this.matches(new It(e,o))||(o=ct.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,l,f,g)}updateFullNode(r,e,o){e.isLeafNode()&&(e=ct.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ct.EMPTY_NODE);const f=this;return e.forEachChild(nn,(g,E)=>{f.matches(new It(g,E))||(l=l.updateImmediateChild(g,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,l,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class Li{constructor(r){this.rangedFilter_=new jr(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,l,f,g){return this.rangedFilter_.matches(new It(e,o))||(o=ct.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,l,f,g):this.fullLimitUpdateChild_(r,e,o,f,g)}updateFullNode(r,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;l=ct.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;f.hasNext()&&g<this.limit_;){const E=f.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!I)break;l=l.updateImmediateChild(E.name,E.node),g++}}else{let f,g,E,I;if(l=e.withIndex(this.index_),l=l.updatePriority(ct.EMPTY_NODE),this.reverse_){I=l.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();E=(J,me)=>U(me,J)}else I=l.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let T=0,L=!1;for(;I.hasNext();){const U=I.getNext();!L&&E(f,U)<=0&&(L=!0),L&&T<this.limit_&&E(U,g)<=0?T++:l=l.updateImmediateChild(U.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,l,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,l,f){let g;if(this.reverse_){const U=this.index_.getCompare();g=(J,me)=>U(me,J)}else g=this.index_.getCompare();const E=r;(0,le.hu)(E.numChildren()===this.limit_,"");const I=new It(e,o),T=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),L=this.rangedFilter_.matches(I);if(E.hasChild(e)){const U=E.getImmediateChild(e);let J=l.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=J&&(J.name===e||E.hasChild(J.name));)J=l.getChildAfterChild(this.index_,J,this.reverse_);const me=null==J?1:g(J,I);if(L&&!o.isEmpty()&&me>=0)return null!=f&&f.trackChildChange(Ur(e,o,U)),E.updateImmediateChild(e,o);{null!=f&&f.trackChildChange(tl(e,U));const Le=E.updateImmediateChild(e,ct.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(null!=f&&f.trackChildChange(el(J.name,J.node)),Le.updateImmediateChild(J.name,J.node)):Le}}return o.isEmpty()?r:L&&g(T,I)>=0?(null!=f&&(f.trackChildChange(tl(T.name,T.node)),f.trackChildChange(el(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(T.name,ct.EMPTY_NODE)):r}}class Xr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,le.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,le.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ho}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,le.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,le.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,le.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){const r=new Xr;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function AC(i){const r={};if(i.isDefault())return r;let e;return i.index_===nn?e="$priority":i.index_===Bh?e="$value":i.index_===Fi?e="$key":((0,le.hu)(i.index_ instanceof jh,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,le.Pz)(e),i.startSet_&&(r.startAt=(0,le.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,le.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,le.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,le.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function u_(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==nn&&(r.i=i.index_.toString()),r}class Hh extends mw{constructor(r,e,o,l){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=za("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,le.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,l){const f=r._path.toString();this.log_("Listen called for "+f+" "+r._queryIdentifier);const g=Hh.getListenId_(r,o),E={};this.listens_[g]=E;const I=AC(r._queryParams);this.restRequest_(f+".json",I,(T,L)=>{let U=L;if(404===T&&(U=null,T=null),null===T&&this.onDataUpdate_(f,U,!1,o),(0,le.DV)(this.listens_,g)===E){let J;J=T?401===T?"permission_denied":"rest_error:"+T:"ok",l(J,null)}})}unlisten(r,e){const o=Hh.getListenId_(r,e);delete this.listens_[o]}get(r){const e=AC(r._queryParams),o=r._path.toString(),l=new le.BH;return this.restRequest_(o+".json",e,(f,g)=>{let E=g;404===f&&(E=null,f=null),null===f?(this.onDataUpdate_(o,E,!1,null),l.resolve(E)):l.reject(new Error(E))}),l.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,f])=>{l&&l.accessToken&&(e.auth=l.accessToken),f&&f.token&&(e.ac=f.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,le.xO)(e);this.log_("Sending REST request for "+g);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+g+" received. status:",E.status,"response:",E.responseText);let I=null;if(E.status>=200&&E.status<300){try{I=(0,le.cI)(E.responseText)}catch(T){or("Failed to parse JSON response for "+g+": "+E.responseText)}o(null,I)}else 401!==E.status&&404!==E.status&&or("Got unsuccessful REST response for "+g+" Status: "+E.status),o(E.status);o=null}},E.open("GET",g,!0),E.send()})}}class SC{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function Id(){return{value:null,children:new Map}}function Ys(i,r,e){if(Et(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=ft(r);i.children.has(o)||i.children.set(o,Id()),Ys(i.children.get(o),r=Xt(r),e)}}function $h(i,r,e){null!==i.value?e(r,i.value):function(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,l)=>{$h(l,new Kt(r.toString()+"/"+o),e)})}class d_{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&Fn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=r,e}}class xC{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new d_(r);const o=1e4+2e4*Math.random();fs(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;Fn(r,(l,f)=>{f>0&&(0,le.r3)(this.statsToReport_,l)&&(e[l]=f,o=!0)}),o&&this.server_.reportStats(e),fs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ei=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ei||(ei={})),ei))();function zh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Dd{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=ei.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,le.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Kt(r));return new Dd(Ut(),e,this.revert)}}return(0,le.hu)(ft(this.path)===r,"operationForChild called for unrelated child."),new Dd(Xt(this.path),this.affectedTree,this.revert)}}class Td{constructor(r,e){this.source=r,this.path=e,this.type=ei.LISTEN_COMPLETE}operationForChild(r){return Et(this.path)?new Td(this.source,Ut()):new Td(this.source,Xt(this.path))}}class nl{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=ei.OVERWRITE}operationForChild(r){return Et(this.path)?new nl(this.source,Ut(),this.snap.getImmediateChild(r)):new nl(this.source,Xt(this.path),this.snap)}}class Lu{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=ei.MERGE}operationForChild(r){if(Et(this.path)){const e=this.children.subtree(new Kt(r));return e.isEmpty()?null:e.value?new nl(this.source,Ut(),e.value):new Lu(this.source,Ut(),e)}return(0,le.hu)(ft(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Lu(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qo{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Et(r))return this.isFullyInitialized()&&!this.filtered_;const e=ft(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Aw{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Ad(i,r,e,o,l,f){const g=o.filter(E=>E.type===e);g.sort((E,I)=>function(i,r,e){if(null==r.childName||null==e.childName)throw(0,le.g5)("Should only compare child_ events.");const o=new It(r.childName,r.snapshotNode),l=new It(e.childName,e.snapshotNode);return i.index_.compare(o,l)}(i,E,I)),g.forEach(E=>{const I=function(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,E,f);l.forEach(T=>{T.respondsTo(E.type)&&r.push(T.createEvent(I,i.query_))})})}function Kh(i,r){return{eventCache:i,serverCache:r}}function Sd(i,r,e,o){return Kh(new Qo(r,e,o),i.serverCache)}function PC(i,r,e,o){return Kh(i.eventCache,new Qo(r,e,o))}function Yh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function rl(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let f_;class an{constructor(r,e=(()=>(f_||(f_=new Vr(HE)),f_))()){this.value=r,this.children=e}static fromObject(r){let e=new an(null);return Fn(r,(o,l)=>{e=e.set(new Kt(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:Ut(),value:this.value};if(Et(r))return null;{const o=ft(r),l=this.children.get(o);if(null!==l){const f=l.findRootMostMatchingPathAndValue(Xt(r),e);return null!=f?{path:mn(new Kt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Et(r))return this;{const e=ft(r),o=this.children.get(e);return null!==o?o.subtree(Xt(r)):new an(null)}}set(r,e){if(Et(r))return new an(e,this.children);{const o=ft(r),f=(this.children.get(o)||new an(null)).set(Xt(r),e),g=this.children.insert(o,f);return new an(this.value,g)}}remove(r){if(Et(r))return this.children.isEmpty()?new an(null):new an(null,this.children);{const e=ft(r),o=this.children.get(e);if(o){const l=o.remove(Xt(r));let f;return f=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&f.isEmpty()?new an(null):new an(this.value,f)}return this}}get(r){if(Et(r))return this.value;{const e=ft(r),o=this.children.get(e);return o?o.get(Xt(r)):null}}setTree(r,e){if(Et(r))return e;{const o=ft(r),f=(this.children.get(o)||new an(null)).setTree(Xt(r),e);let g;return g=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new an(this.value,g)}}fold(r){return this.fold_(Ut(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((l,f)=>{o[l]=f.fold_(mn(r,l),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,Ut(),e)}findOnPath_(r,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(Et(r))return null;{const f=ft(r),g=this.children.get(f);return g?g.findOnPath_(Xt(r),mn(e,f),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,Ut(),e)}foreachOnPath_(r,e,o){if(Et(r))return this;{this.value&&o(e,this.value);const l=ft(r),f=this.children.get(l);return f?f.foreachOnPath_(Xt(r),mn(e,l),o):new an(null)}}foreach(r){this.foreach_(Ut(),r)}foreach_(r,e){this.children.inorderTraversal((o,l)=>{l.foreach_(mn(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class Vi{constructor(r){this.writeTree_=r}static empty(){return new Vi(new an(null))}}function Vu(i,r,e){if(Et(r))return new Vi(new an(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const l=o.path;let f=o.value;const g=vr(l,r);return f=f.updateChild(g,e),new Vi(i.writeTree_.set(l,f))}{const l=new an(e),f=i.writeTree_.setTree(r,l);return new Vi(f)}}}function qh(i,r,e){let o=i;return Fn(e,(l,f)=>{o=Vu(o,mn(r,l),f)}),o}function h_(i,r){if(Et(r))return Vi.empty();{const e=i.writeTree_.setTree(r,new an(null));return new Vi(e)}}function Zh(i,r){return null!=Jo(i,r)}function Jo(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(vr(e.path,r)):null}function p_(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(nn,(o,l)=>{r.push(new It(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&r.push(new It(o,l.value))}),r}function qs(i,r){if(Et(r))return i;{const e=Jo(i,r);return new Vi(null!=e?new an(e):i.writeTree_.subtree(r))}}function Qh(i){return i.writeTree_.isEmpty()}function il(i,r){return Jh(Ut(),i.writeTree_,r)}function Jh(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((l,f)=>{".priority"===l?((0,le.hu)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):e=Jh(mn(i,l),f,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(mn(i,".priority"),o)),e}}function Md(i,r){return NC(r,i)}function yS(i,r){if(i.snap)return Lr(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Lr(mn(i.path,e),r))return!0;return!1}function vS(i){return i.visible}function m_(i,r,e){let o=Vi.empty();for(let l=0;l<i.length;++l){const f=i[l];if(r(f)){const g=f.path;let E;if(f.snap)Lr(e,g)?(E=vr(e,g),o=Vu(o,E,f.snap)):Lr(g,e)&&(E=vr(g,e),o=Vu(o,Ut(),f.snap.getChild(E)));else{if(!f.children)throw(0,le.g5)("WriteRecord should have .snap or .children");if(Lr(e,g))E=vr(e,g),o=qh(o,E,f.children);else if(Lr(g,e))if(E=vr(g,e),Et(E))o=qh(o,Ut(),f.children);else{const I=(0,le.DV)(f.children,ft(E));if(I){const T=I.getChild(Xt(E));o=Vu(o,Ut(),T)}}}}}return o}function __(i,r,e,o,l){if(o||l){const f=qs(i.visibleWrites,r);return!l&&Qh(f)?e:l||null!=e||Zh(f,Ut())?il(m_(i.allWrites,function(T){return(T.visible||l)&&(!o||!~o.indexOf(T.writeId))&&(Lr(T.path,r)||Lr(r,T.path))},r),e||ct.EMPTY_NODE):null}{const f=Jo(i.visibleWrites,r);if(null!=f)return f;{const g=qs(i.visibleWrites,r);return Qh(g)?e:null!=e||Zh(g,Ut())?il(g,e||ct.EMPTY_NODE):null}}}function ep(i,r,e,o){return __(i.writeTree,i.treePath,r,e,o)}function ju(i,r){return function(i,r,e){let o=ct.EMPTY_NODE;const l=Jo(i.visibleWrites,r);if(l)return l.isLeafNode()||l.forEachChild(nn,(f,g)=>{o=o.updateImmediateChild(f,g)}),o;if(e){const f=qs(i.visibleWrites,r);return e.forEachChild(nn,(g,E)=>{const I=il(qs(f,new Kt(g)),E);o=o.updateImmediateChild(g,I)}),p_(f).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return p_(qs(i.visibleWrites,r)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(i.writeTree,i.treePath,r)}function Od(i,r,e,o){return function(i,r,e,o,l){(0,le.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const f=mn(r,e);if(Zh(i.visibleWrites,f))return null;{const g=qs(i.visibleWrites,f);return Qh(g)?l.getChild(e):il(g,l.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function pn(i,r){return function(i,r){return Jo(i.visibleWrites,r)}(i.writeTree,mn(i.treePath,r))}function tp(i,r,e){return function(i,r,e,o){const l=mn(r,e),f=Jo(i.visibleWrites,l);return null!=f?f:o.isCompleteForChild(e)?il(qs(i.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function np(i,r){return NC(mn(i.treePath,r),i.writeTree)}function NC(i,r){return{treePath:i,writeTree:r}}class kC{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,le.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,le.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const f=l.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(o,Ur(o,r.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(o,tl(o,l.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(o,el(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,le.g5)("Illegal combination of changes: "+r+" occurred after "+l);this.changeMap.set(o,Ur(o,r.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const y_=new class{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class rp{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new Qo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tp(this.writes_,r,o)}}getChildAfterChild(r,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:rl(this.viewCache_),f=function(i,r,e,o,l,f){return function(i,r,e,o,l,f,g){let E;const I=qs(i.visibleWrites,r),T=Jo(I,Ut());if(null!=T)E=T;else{if(null==e)return[];E=il(I,e)}if(E=E.withIndex(g),E.isEmpty()||E.isLeafNode())return[];{const L=[],U=g.getCompare(),J=f?E.getReverseIteratorFrom(o,g):E.getIteratorFrom(o,g);let me=J.getNext();for(;me&&L.length<l;)0!==U(me,o)&&L.push(me),me=J.getNext();return L}}(i.writeTree,i.treePath,r,e,o,l,f)}(this.writes_,l,e,1,o,r);return 0===f.length?null:f[0]}}function LC(i,r,e,o,l,f){const g=r.eventCache;if(null!=pn(o,e))return r;{let E,I;if(Et(e))if((0,le.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const T=rl(r),U=ju(o,T instanceof ct?T:ct.EMPTY_NODE);E=i.filter.updateFullNode(r.eventCache.getNode(),U,f)}else{const T=ep(o,rl(r));E=i.filter.updateFullNode(r.eventCache.getNode(),T,f)}else{const T=ft(e);if(".priority"===T){(0,le.hu)(1===Yo(e),"Can't have a priority with additional path components");const L=g.getNode();I=r.serverCache.getNode();const U=Od(o,e,L,I);E=null!=U?i.filter.updatePriority(L,U):g.getNode()}else{const L=Xt(e);let U;if(g.isCompleteForChild(T)){I=r.serverCache.getNode();const J=Od(o,e,g.getNode(),I);U=null!=J?g.getNode().getImmediateChild(T).updateChild(L,J):g.getNode().getImmediateChild(T)}else U=tp(o,T,r.serverCache);E=null!=U?i.filter.updateChild(g.getNode(),T,U,L,l,f):g.getNode()}}return Sd(r,E,g.isFullyInitialized()||Et(e),i.filter.filtersNodes())}}function ip(i,r,e,o,l,f,g,E){const I=r.serverCache;let T;const L=g?i.filter:i.filter.getIndexedFilter();if(Et(e))T=L.updateFullNode(I.getNode(),o,null);else if(L.filtersNodes()&&!I.isFiltered()){const me=I.getNode().updateChild(e,o);T=L.updateFullNode(I.getNode(),me,null)}else{const me=ft(e);if(!I.isCompleteForPath(e)&&Yo(e)>1)return r;const Te=Xt(e),Be=I.getNode().getImmediateChild(me).updateChild(Te,o);T=".priority"===me?L.updatePriority(I.getNode(),Be):L.updateChild(I.getNode(),me,Be,Te,y_,null)}const U=PC(r,T,I.isFullyInitialized()||Et(e),L.filtersNodes());return LC(i,U,e,l,new rp(l,U,f),E)}function v_(i,r,e,o,l,f,g){const E=r.eventCache;let I,T;const L=new rp(l,r,f);if(Et(e))T=i.filter.updateFullNode(r.eventCache.getNode(),o,g),I=Sd(r,T,!0,i.filter.filtersNodes());else{const U=ft(e);if(".priority"===U)T=i.filter.updatePriority(r.eventCache.getNode(),o),I=Sd(r,T,E.isFullyInitialized(),E.isFiltered());else{const J=Xt(e),me=E.getNode().getImmediateChild(U);let Te;if(Et(J))Te=o;else{const Le=L.getCompleteChild(U);Te=null!=Le?".priority"===Zm(J)&&Le.getChild(aC(J)).isEmpty()?Le:Le.updateChild(J,o):ct.EMPTY_NODE}I=me.equals(Te)?r:Sd(r,i.filter.updateChild(E.getNode(),U,Te,J,L,g),E.isFullyInitialized(),i.filter.filtersNodes())}}return I}function xd(i,r){return i.eventCache.isCompleteForChild(r)}function E_(i,r,e){return e.foreach((o,l)=>{r=r.updateChild(o,l)}),r}function sp(i,r,e,o,l,f,g,E){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let T,I=r;T=Et(e)?o:new an(null).setTree(e,o);const L=r.serverCache.getNode();return T.children.inorderTraversal((U,J)=>{if(L.hasChild(U)){const Te=E_(0,r.serverCache.getNode().getImmediateChild(U),J);I=ip(i,I,new Kt(U),Te,l,f,g,E)}}),T.children.inorderTraversal((U,J)=>{const me=!r.serverCache.isCompleteForChild(U)&&void 0===J.value;if(!L.hasChild(U)&&!me){const Le=E_(0,r.serverCache.getNode().getImmediateChild(U),J);I=ip(i,I,new Kt(U),Le,l,f,g,E)}}),I}class Bw{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new s_(o.getIndex()),f=function(i){return i.loadsAllData()?new s_(i.getIndex()):i.hasLimit()?new Li(i):new jr(i)}(o);this.processor_=function(i){return{filter:i}}(f);const g=e.serverCache,E=e.eventCache,I=l.updateFullNode(ct.EMPTY_NODE,g.getNode(),null),T=f.updateFullNode(ct.EMPTY_NODE,E.getNode(),null),L=new Qo(I,g.isFullyInitialized(),l.filtersNodes()),U=new Qo(T,E.isFullyInitialized(),f.filtersNodes());this.viewCache_=Kh(U,L),this.eventGenerator_=new Aw(this.query_)}get query(){return this.query_}}function UC(i,r){const e=rl(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Et(r)&&!e.getImmediateChild(ft(r)).isEmpty())?e.getChild(r):null}function C_(i){return 0===i.eventRegistrations_.length}function BC(i,r,e){const o=[];if(e){(0,le.hu)(null==r,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(f=>{const g=f.createCancelEvent(e,l);g&&o.push(g)})}if(r){let l=[];for(let f=0;f<i.eventRegistrations_.length;++f){const g=i.eventRegistrations_[f];if(g.matches(r)){if(r.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(f+1));break}}else l.push(g)}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function b_(i,r,e,o){r.type===ei.MERGE&&null!==r.source.queryId&&((0,le.hu)(rl(i.viewCache_),"We should always have a full cache before handling merges"),(0,le.hu)(Yh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,f=function(i,r,e,o,l){const f=new kC;let g,E;if(e.type===ei.OVERWRITE){const T=e;T.source.fromUser?g=v_(i,r,T.path,T.snap,o,l,f):((0,le.hu)(T.source.fromServer,"Unknown source."),E=T.source.tagged||r.serverCache.isFiltered()&&!Et(T.path),g=ip(i,r,T.path,T.snap,o,l,E,f))}else if(e.type===ei.MERGE){const T=e;T.source.fromUser?g=function(i,r,e,o,l,f,g){let E=r;return o.foreach((I,T)=>{const L=mn(e,I);xd(r,ft(L))&&(E=v_(i,E,L,T,l,f,g))}),o.foreach((I,T)=>{const L=mn(e,I);xd(r,ft(L))||(E=v_(i,E,L,T,l,f,g))}),E}(i,r,T.path,T.children,o,l,f):((0,le.hu)(T.source.fromServer,"Unknown source."),E=T.source.tagged||r.serverCache.isFiltered(),g=sp(i,r,T.path,T.children,o,l,E,f))}else if(e.type===ei.ACK_USER_WRITE){const T=e;g=T.revert?function(i,r,e,o,l,f){let g;if(null!=pn(o,e))return r;{const E=new rp(o,r,l),I=r.eventCache.getNode();let T;if(Et(e)||".priority"===ft(e)){let L;if(r.serverCache.isFullyInitialized())L=ep(o,rl(r));else{const U=r.serverCache.getNode();(0,le.hu)(U instanceof ct,"serverChildren would be complete if leaf node"),L=ju(o,U)}L=L,T=i.filter.updateFullNode(I,L,f)}else{const L=ft(e);let U=tp(o,L,r.serverCache);null==U&&r.serverCache.isCompleteForChild(L)&&(U=I.getImmediateChild(L)),T=null!=U?i.filter.updateChild(I,L,U,Xt(e),E,f):r.eventCache.getNode().hasChild(L)?i.filter.updateChild(I,L,ct.EMPTY_NODE,Xt(e),E,f):I,T.isEmpty()&&r.serverCache.isFullyInitialized()&&(g=ep(o,rl(r)),g.isLeafNode()&&(T=i.filter.updateFullNode(T,g,f)))}return g=r.serverCache.isFullyInitialized()||null!=pn(o,Ut()),Sd(r,T,g,i.filter.filtersNodes())}}(i,r,T.path,o,l,f):function(i,r,e,o,l,f,g){if(null!=pn(l,e))return r;const E=r.serverCache.isFiltered(),I=r.serverCache;if(null!=o.value){if(Et(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return ip(i,r,e,I.getNode().getChild(e),l,f,E,g);if(Et(e)){let T=new an(null);return I.getNode().forEachChild(Fi,(L,U)=>{T=T.set(new Kt(L),U)}),sp(i,r,e,T,l,f,E,g)}return r}{let T=new an(null);return o.foreach((L,U)=>{const J=mn(e,L);I.isCompleteForPath(J)&&(T=T.set(L,I.getNode().getChild(J)))}),sp(i,r,e,T,l,f,E,g)}}(i,r,T.path,T.affectedTree,o,l,f)}else{if(e.type!==ei.LISTEN_COMPLETE)throw(0,le.g5)("Unknown operation type: "+e.type);g=function(i,r,e,o,l){const f=r.serverCache;return LC(i,PC(r,f.getNode(),f.isFullyInitialized()||Et(e),f.isFiltered()),e,o,y_,l)}(i,r,e.path,o,f)}const I=f.getChanges();return function(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=Yh(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&e.push(Iw(Yh(r)))}}(r,g,I),{viewCache:g,changes:I}}(i.processor_,l,r,e,o);return function(i,r){(0,le.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,le.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,f.viewCache),(0,le.hu)(f.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=f.viewCache,HC(i,f.changes,f.viewCache.eventCache.getNode(),null)}function HC(i,r,e,o){return function(i,r,e,o){const l=[],f=[];return r.forEach(g=>{"child_changed"===g.type&&i.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&f.push(function(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(g.childName,g.snapshotNode))}),Ad(i,l,"child_removed",r,o,e),Ad(i,l,"child_added",r,o,e),Ad(i,l,"child_moved",f,o,e),Ad(i,l,"child_changed",r,o,e),Ad(i,l,"value",r,o,e),l}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let I_,kd;class Gw{constructor(){this.views=new Map}}function Bu(i,r,e,o){const l=r.source.queryId;if(null!==l){const f=i.views.get(l);return(0,le.hu)(null!=f,"SyncTree gave us an op for an invalid query."),b_(f,r,e,o)}{let f=[];for(const g of i.views.values())f=f.concat(b_(g,r,e,o));return f}}function zw(i,r,e,o,l,f){const g=function(i,r,e,o,l){const g=i.views.get(r._queryIdentifier);if(!g){let E=ep(e,l?o:null),I=!1;E?I=!0:o instanceof ct?(E=ju(e,o),I=!1):(E=ct.EMPTY_NODE,I=!1);const T=Kh(new Qo(E,I,!1),new Qo(o,l,!1));return new Bw(r,T)}return g}(i,r,o,l,f);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,g),function(i,r){i.eventRegistrations_.push(r)}(g,e),function(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(nn,(f,g)=>{o.push(el(f,g))}),e.isFullyInitialized()&&o.push(Iw(e.getNode())),HC(i,o,e.getNode(),r)}(g,e)}function Hu(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function Xo(i,r){let e=null;for(const o of i.views.values())e=e||UC(o,r);return e}function zC(i,r){return r._queryParams.loadsAllData()?op(i):i.views.get(r._queryIdentifier)}function KC(i,r){return null!=zC(i,r)}function ea(i){return null!=op(i)}function op(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let $u=1;class YC{constructor(r){this.listenProvider_=r,this.syncPointTree_=new an(null),this.pendingWriteTree_={visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ap(i,r,e,o,l){return function(i,r,e,o,l){(0,le.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:l}),l&&(i.visibleWrites=Vu(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,l),l?ta(i,new nl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Zs(i,r,e=!1){const o=function(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function(i,r){const e=i.allWrites.findIndex(E=>E.writeId===r);(0,le.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let l=o.visible,f=!1,g=i.allWrites.length-1;for(;l&&g>=0;){const E=i.allWrites[g];E.visible&&(g>=e&&yS(E,o.path)?l=!1:Lr(o.path,E.path)&&(f=!0)),g--}return!!l&&(f?(function(i){i.visibleWrites=m_(i.allWrites,vS,Ut()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=h_(i.visibleWrites,o.path):Fn(o.children,I=>{i.visibleWrites=h_(i.visibleWrites,mn(o.path,I))}),!0))}(i.pendingWriteTree_,r)){let f=new an(null);return null!=o.snap?f=f.set(Ut(),!0):Fn(o.children,g=>{f=f.set(new Kt(g),!0)}),ta(i,new Dd(o.path,f,e))}return[]}function Fd(i,r,e){return ta(i,new nl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function D_(i,r,e,o){const l=r._path,f=i.syncPointTree_.get(l);let g=[];if(f&&("default"===r._queryIdentifier||KC(f,r))){const E=function(i,r,e,o){const l=r._queryIdentifier,f=[];let g=[];const E=ea(i);if("default"===l)for(const[I,T]of i.views.entries())g=g.concat(BC(T,e,o)),C_(T)&&(i.views.delete(I),T.query._queryParams.loadsAllData()||f.push(T.query));else{const I=i.views.get(l);I&&(g=g.concat(BC(I,e,o)),C_(I)&&(i.views.delete(l),I.query._queryParams.loadsAllData()||f.push(I.query)))}return E&&!ea(i)&&f.push(new((0,le.hu)(I_,"Reference.ts has not been loaded"),I_)(r._repo,r._path)),{removed:f,events:g}}(f,r,e,o);(function(i){return 0===i.views.size})(f)&&(i.syncPointTree_=i.syncPointTree_.remove(l));const I=E.removed;g=E.events;const T=-1!==I.findIndex(U=>U._queryParams.loadsAllData()),L=i.syncPointTree_.findOnPath(l,(U,J)=>ea(J));if(T&&!L){const U=i.syncPointTree_.subtree(l);if(!U.isEmpty()){const J=function(i){return i.fold((r,e,o)=>{if(e&&ea(e))return[op(e)];{let l=[];return e&&(l=Hu(e)),Fn(o,(f,g)=>{l=l.concat(g)}),l}})}(U);for(let me=0;me<J.length;++me){const Te=J[me],Le=Te.query,Be=eb(i,Te);i.listenProvider_.startListening(Ld(Le),up(i,Le),Be.hashFn,Be.onComplete)}}}if(!L&&I.length>0&&!o)if(T){const U=null;i.listenProvider_.stopListening(Ld(r),U)}else I.forEach(U=>{const J=i.queryToTagMap.get(cp(U));i.listenProvider_.stopListening(Ld(U),J)});!function(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const l=cp(o),f=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(f)}}}(i,I)}return g}function JC(i,r,e){const o=r._path;let l=null,f=!1;i.syncPointTree_.foreachOnPath(o,(U,J)=>{const me=vr(U,o);l=l||Xo(J,me),f=f||ea(J)});let E,g=i.syncPointTree_.get(o);g?(f=f||ea(g),l=l||Xo(g,Ut())):(g=new Gw,i.syncPointTree_=i.syncPointTree_.set(o,g)),null!=l?E=!0:(E=!1,l=ct.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((J,me)=>{const Te=Xo(me,Ut());Te&&(l=l.updateImmediateChild(J,Te))}));const I=KC(g,r);if(!I&&!r._queryParams.loadsAllData()){const U=cp(r);(0,le.hu)(!i.queryToTagMap.has(U),"View does not exist, but we have a tag");const J=$u++;i.queryToTagMap.set(U,J),i.tagToQueryMap.set(J,U)}let L=zw(g,r,e,Md(i.pendingWriteTree_,o),l,E);if(!I&&!f){const U=zC(g,r);L=L.concat(function(i,r,e){const o=r._path,l=up(i,r),f=eb(i,e),g=i.listenProvider_.startListening(Ld(r),l,f.hashFn,f.onComplete),E=i.syncPointTree_.subtree(o);if(l)(0,le.hu)(!ea(E.value),"If we're adding a query, it shouldn't be shadowed");else{const I=E.fold((T,L,U)=>{if(!Et(T)&&L&&ea(L))return[op(L).query];{let J=[];return L&&(J=J.concat(Hu(L).map(me=>me.query))),Fn(U,(me,Te)=>{J=J.concat(Te)}),J}});for(let T=0;T<I.length;++T){const L=I[T];i.listenProvider_.stopListening(Ld(L),up(i,L))}}return g}(i,r,U))}return L}function lp(i,r,e){const l=i.pendingWriteTree_,f=i.syncPointTree_.findOnPath(r,(g,E)=>{const T=Xo(E,vr(g,r));if(T)return T});return __(l,r,f,e,!0)}function ta(i,r){return XC(r,i.syncPointTree_,null,Md(i.pendingWriteTree_,Ut()))}function XC(i,r,e,o){if(Et(i.path))return T_(i,r,e,o);{const l=r.get(Ut());null==e&&null!=l&&(e=Xo(l,Ut()));let f=[];const g=ft(i.path),E=i.operationForChild(g),I=r.children.get(g);if(I&&E){const T=e?e.getImmediateChild(g):null,L=np(o,g);f=f.concat(XC(E,I,T,L))}return l&&(f=f.concat(Bu(l,i,o,e))),f}}function T_(i,r,e,o){const l=r.get(Ut());null==e&&null!=l&&(e=Xo(l,Ut()));let f=[];return r.children.inorderTraversal((g,E)=>{const I=e?e.getImmediateChild(g):null,T=np(o,g),L=i.operationForChild(g);L&&(f=f.concat(T_(L,E,I,T)))}),l&&(f=f.concat(Bu(l,i,o,e))),f}function eb(i,r){const e=r.query,o=up(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(r)||ct.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function(i,r,e){const o=A_(i,e);if(o){const l=S_(o),f=l.path,g=l.queryId,E=vr(f,r);return M_(i,f,new Td(zh(g),E))}return[]}(i,e._path,o):function(i,r){return ta(i,new Td({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const f=function(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(l,e);return D_(i,e,null,f)}}}}function up(i,r){const e=cp(r);return i.queryToTagMap.get(e)}function cp(i){return i._path.toString()+"$"+i._queryIdentifier}function A_(i,r){return i.tagToQueryMap.get(r)}function S_(i){const r=i.indexOf("$");return(0,le.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Kt(i.substr(0,r))}}function M_(i,r,e){const o=i.syncPointTree_.get(r);return(0,le.hu)(o,"Missing sync point for query tag that we're tracking"),Bu(o,e,Md(i.pendingWriteTree_,r),null)}function Ld(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,le.hu)(kd,"Reference.ts has not been loaded"),kd)(i._repo,i._path):i}class O_{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new O_(e)}node(){return this.node_}}class dp{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=mn(this.path_,r);return new dp(this.syncTree_,e)}node(){return lp(this.syncTree_,this.path_)}}const rb=function(i,r,e){return i&&"object"==typeof i?((0,le.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?tD(i[".sv"],r,e):"object"==typeof i[".sv"]?R_(i[".sv"],r):void(0,le.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},tD=function(i,r,e){switch(i){case"timestamp":return e.timestamp;default:(0,le.hu)(!1,"Unexpected server value: "+i)}},R_=function(i,r,e){i.hasOwnProperty("increment")||(0,le.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,le.hu)(!1,"Unexpected increment value: "+o);const l=r.node();if((0,le.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const g=l.getValue();return"number"!=typeof g?o:g+o},hp=function(i,r,e){return Vd(i,new O_(r),e)};function Vd(i,r,e){const o=i.getPriority().val(),l=rb(o,r.getImmediateChild(".priority"),e);let f;if(i.isLeafNode()){const g=i,E=rb(g.getValue(),r,e);return E!==g.getValue()||l!==g.getPriority().val()?new Ja(E,vn(l)):i}{const g=i;return f=g,l!==g.getPriority().val()&&(f=f.updatePriority(new Ja(l))),g.forEachChild(nn,(E,I)=>{const T=Vd(I,r.getImmediateChild(E),e);T!==I&&(f=f.updateImmediateChild(E,T))}),f}}class x_{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function pp(i,r){let e=r instanceof Kt?r:new Kt(r),o=i,l=ft(e);for(;null!==l;){const f=(0,le.DV)(o.node.children,l)||{children:{},childCount:0};o=new x_(l,o,f),e=Xt(e),l=ft(e)}return o}function Qs(i){return i.node.value}function P_(i,r){i.node.value=r,F_(i)}function N_(i){return i.node.childCount>0}function Ud(i,r){Fn(i.node.children,(e,o)=>{r(new x_(e,i,o))})}function k_(i,r,e,o){e&&!o&&r(i),Ud(i,l=>{k_(l,r,!0,o)}),e&&o&&r(i)}function gp(i){return new Kt(null===i.parent?i.name:gp(i.parent)+"/"+i.name)}function F_(i){null!==i.parent&&function(i,r,e){const o=function(i){return void 0===Qs(i)&&!N_(i)}(e),l=(0,le.r3)(i.node.children,r);o&&l?(delete i.node.children[r],i.node.childCount--,F_(i)):!o&&!l&&(i.node.children[r]=e.node,i.node.childCount++,F_(i))}(i.parent,i.name,i)}const wS=/[\[\].#$\/\u0000-\u001F\u007F]/,L_=/[\[\].#$\u0000-\u001F\u007F]/,Wu=10485760,mp=function(i){return"string"==typeof i&&0!==i.length&&!wS.test(i)},al=function(i){return"string"==typeof i&&0!==i.length&&!L_.test(i)},hs=function(i,r,e,o){o&&void 0===r||Br((0,le.gK)(i,"value"),r,e)},Br=function(i,r,e){const o=e instanceof Kt?new mS(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+ki(o));if("function"==typeof r)throw new Error(i+"contains a function "+ki(o)+" with contents = "+r.toString());if(kr(r))throw new Error(i+"contains "+r.toString()+" "+ki(o));if("string"==typeof r&&r.length>Wu/3&&(0,le.ug)(r)>Wu)throw new Error(i+"contains a string greater than "+Wu+" utf8 bytes "+ki(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let l=!1,f=!1;if(Fn(r,(g,E)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(f=!0,!mp(g)))throw new Error(i+" contains an invalid key ("+g+") "+ki(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,le.ug)(r),vw(i)})(o,g),Br(i,E,o),function(i){const r=i.parts_.pop();i.byteLength_-=(0,le.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),l&&f)throw new Error(i+' contains ".value" child '+ki(o)+" in addition to actual children.")}},V_=function(i,r,e,o){if(!(o&&void 0===e||al(e)))throw new Error((0,le.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ps=function(i,r){if(".info"===ft(r))throw new Error(i+" failed = Can't modify data under /.info/")};class sD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zu(i,r){let e=null;for(let o=0;o<r.length;o++){const l=r[o],f=l.getPath();null!==e&&!Nh(f,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(l)}e&&i.eventLists_.push(e)}function yp(i,r,e){zu(i,e),U_(i,o=>Nh(o,r))}function Hr(i,r,e){zu(i,e),U_(i,o=>Lr(o,r)||Lr(r,o))}function U_(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];l&&(r(l.path)?(oD(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function oD(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();Ga&&er("event: "+e.toString()),Au(o)}}}class uD{constructor(r,e,o,l){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Id(),this.transactionQueueTree_=new x_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function j_(i){const e=i.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ku(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:j_(i)})}function B_(i,r,e,o,l){i.dataUpdateCount++;const f=new Kt(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let g=[];if(l)if(o){const I=(0,le.UI)(e,T=>vn(T));g=function(i,r,e,o){const l=A_(i,o);if(l){const f=S_(l),g=f.path,E=f.queryId,I=vr(g,r),T=an.fromObject(e);return M_(i,g,new Lu(zh(E),I,T))}return[]}(i.serverSyncTree_,f,I,l)}else{const I=vn(e);g=function(i,r,e,o){const l=A_(i,o);if(null!=l){const f=S_(l),g=f.path,E=f.queryId,I=vr(g,r);return M_(i,g,new nl(zh(E),I,e))}return[]}(i.serverSyncTree_,f,I,l)}else if(o){const I=(0,le.UI)(e,T=>vn(T));g=function(i,r,e){const o=an.fromObject(e);return ta(i,new Lu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,f,I)}else{const I=vn(e);g=Fd(i.serverSyncTree_,f,I)}let E=f;g.length>0&&(E=qu(i,f)),Hr(i.eventQueue_,E,g)}function ab(i,r){vp(i,"connected",r),!1===r&&function(i){Yu(i,"onDisconnectEvents");const r=Ku(i),e=Id();$h(i.onDisconnect_,Ut(),(l,f)=>{const g=function(i,r,e,o){return Vd(r,new dp(e,i),o)}(l,f,i.serverSyncTree_,r);Ys(e,l,g)});let o=[];$h(e,Ut(),(l,f)=>{o=o.concat(Fd(i.serverSyncTree_,l,f));const g=Js(i,l);qu(i,g)}),i.onDisconnect_=Id(),Hr(i.eventQueue_,Ut(),o)}(i)}function vp(i,r,e){const o=new Kt("/.info/"+r),l=vn(e);i.infoData_.updateSnapshot(o,l);const f=Fd(i.infoSyncTree_,o,l);Hr(i.eventQueue_,o,f)}function ll(i){return i.nextWriteId_++}function Ep(i,r,e,o,l){Yu(i,"set",{path:r.toString(),value:e,priority:o});const f=Ku(i),g=vn(e,o),E=lp(i.serverSyncTree_,r),I=hp(g,E,f),T=ll(i),L=ap(i.serverSyncTree_,r,I,T,!0);zu(i.eventQueue_,L),i.server_.put(r.toString(),g.val(!0),(J,me)=>{const Te="ok"===J;Te||or("set at "+r+" failed: "+J);const Le=Zs(i.serverSyncTree_,T,!Te);Hr(i.eventQueue_,r,Le),function(i,r,e,o){r&&Au(()=>{if("ok"===e)r(null);else{const l=(e||"error").toUpperCase();let f=l;o&&(f+=": "+o);const g=new Error(f);g.code=l,r(g)}})}(0,l,J,me)});const U=Js(i,r);qu(i,U),Hr(i.eventQueue_,U,[])}function H_(i,r,e){let o;o=".info"===ft(r._path)?D_(i.infoSyncTree_,r,e):D_(i.serverSyncTree_,r,e),yp(i.eventQueue_,r._path,o)}function Yu(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),er(e,...r)}function $_(i,r,e){return lp(i.serverSyncTree_,r,e)||ct.EMPTY_NODE}function Ip(i,r=i.transactionQueueTree_){if(r||ul(i,r),Qs(r)){const e=db(i,r);(0,le.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function(i,r,e){const o=e.map(T=>T.currentWriteId),l=$_(i,r,o);let f=l;const g=l.hash();for(let T=0;T<e.length;T++){const L=e[T];(0,le.hu)(0===L.status,"tryToSendTransactionQueue_: items in queue should all be run."),L.status=1,L.retryCount++;const U=vr(r,L.path);f=f.updateChild(U,L.currentOutputSnapshotRaw)}const E=f.val(!0),I=r;i.server_.put(I.toString(),E,T=>{Yu(i,"transaction put response",{path:I.toString(),status:T});let L=[];if("ok"===T){const U=[];for(let J=0;J<e.length;J++)e[J].status=2,L=L.concat(Zs(i.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&U.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();ul(i,pp(i.transactionQueueTree_,r)),Ip(i,i.transactionQueueTree_),Hr(i.eventQueue_,r,L);for(let J=0;J<U.length;J++)Au(U[J])}else{if("datastale"===T)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{or("transaction at "+I.toString()+" failed: "+T);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=T}qu(i,r)}},g)}(i,gp(r),e)}else N_(r)&&Ud(r,e=>{Ip(i,e)})}function qu(i,r){const e=cb(i,r),o=gp(e);return function(i,r,e){if(0===r.length)return;const o=[];let l=[];const g=r.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<r.length;E++){const I=r[E],T=vr(e,I.path);let U,L=!1;if((0,le.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)L=!0,U=I.abortReason,l=l.concat(Zs(i.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)L=!0,U="maxretry",l=l.concat(Zs(i.serverSyncTree_,I.currentWriteId,!0));else{const J=$_(i,I.path,g);I.currentInputSnapshot=J;const me=r[E].update(J.val());if(void 0!==me){Br("transaction failed: Data returned ",me,I.path);let Te=vn(me);"object"==typeof me&&null!=me&&(0,le.r3)(me,".priority")||(Te=Te.updatePriority(J.getPriority()));const Be=I.currentWriteId,Ft=Ku(i),Pt=hp(Te,J,Ft);I.currentOutputSnapshotRaw=Te,I.currentOutputSnapshotResolved=Pt,I.currentWriteId=ll(i),g.splice(g.indexOf(Be),1),l=l.concat(ap(i.serverSyncTree_,I.path,Pt,I.currentWriteId,I.applyLocally)),l=l.concat(Zs(i.serverSyncTree_,Be,!0))}else L=!0,U="nodata",l=l.concat(Zs(i.serverSyncTree_,I.currentWriteId,!0))}Hr(i.eventQueue_,e,l),l=[],L&&(r[E].status=2,setTimeout(r[E].unwatcher,Math.floor(0)),r[E].onComplete&&o.push("nodata"===U?()=>r[E].onComplete(null,!1,r[E].currentInputSnapshot):()=>r[E].onComplete(new Error(U),!1,null)))}ul(i,i.transactionQueueTree_);for(let E=0;E<o.length;E++)Au(o[E]);Ip(i,i.transactionQueueTree_)}(i,db(i,e),o),o}function cb(i,r){let e,o=i.transactionQueueTree_;for(e=ft(r);null!==e&&void 0===Qs(o);)o=pp(o,e),e=ft(r=Xt(r));return o}function db(i,r){const e=[];return fb(i,r,e),e.sort((o,l)=>o.order-l.order),e}function fb(i,r,e){const o=Qs(r);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Ud(r,l=>{fb(i,l,e)})}function ul(i,r){const e=Qs(r);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,P_(r,e.length>0?e:void 0)}Ud(r,o=>{ul(i,o)})}function Js(i,r){const e=gp(cb(i,r)),o=pp(i.transactionQueueTree_,r);return function(i,r,e){let o=i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,l=>{wp(i,l)}),wp(i,o),k_(o,l=>{wp(i,l)}),e}function wp(i,r){const e=Qs(r);if(e){const o=[];let l=[],f=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,le.hu)(f===g-1,"All SENT items should be at beginning of queue."),f=g,e[g].status=3,e[g].abortReason="set"):((0,le.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat(Zs(i.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===f?P_(r,void 0):e.length=f+1,Hr(i.eventQueue_,gp(r),l);for(let g=0;g<o.length;g++)Au(o[g])}}const W_=function(i,r){const e=Dp(i),o=e.namespace;return"firebase.com"===e.domain&&xi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ya(e.host,e.secure,o,r,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new Kt(e.pathString)}},Dp=function(i){let r="",e="",o="",l="",f="",g=!0,E="https",I=443;if("string"==typeof i){let T=i.indexOf("//");T>=0&&(E=i.substring(0,T-1),i=i.substring(T+2));let L=i.indexOf("/");-1===L&&(L=i.length);let U=i.indexOf("?");-1===U&&(U=i.length),r=i.substring(0,Math.min(L,U)),L<U&&(l=function(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(f){}r+="/"+l}return r}(i.substring(L,U)));const J=function(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):or(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,U)));T=r.indexOf(":"),T>=0?(g="https"===E||"wss"===E,I=parseInt(r.substring(T+1),10)):T=r.length;const me=r.slice(0,T);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const Te=r.indexOf(".");o=r.substring(0,Te).toLowerCase(),e=r.substring(Te+1),f=o}"ns"in J&&(f=J.ns)}return{host:r,port:I,domain:e,subdomain:o,secure:g,scheme:E,pathString:l,namespace:f}};class hb{constructor(r,e,o,l){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,le.Pz)(this.snapshot.exportVal())}}class pb{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class G_{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,le.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Er{constructor(r,e,o,l){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return Et(this._path)?null:Zm(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const r=u_(this._queryParams),e=jm(r);return"{}"===e?"default":e}get _queryObject(){return u_(this._queryParams)}isEqual(r){if(!((r=(0,le.m9)(r))instanceof Er))return!1;const e=this._repo===r._repo,o=Nh(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}class Ui extends Er{constructor(r,e){super(r,e,new Xr,!1)}get parent(){const r=aC(this._path);return null===r?null:new Ui(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class ra{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Kt(r),o=to(this.ref,r);return new ra(this._node.getChild(e),o,nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>r(new ra(l,to(this.ref,o),nn)))}hasChild(r){const e=new Kt(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eo(i,r){return(i=(0,le.m9)(i))._checkNotDeleted("ref"),void 0!==r?to(i._root,r):i._root}function to(i,r){return null===ft((i=(0,le.m9)(i))._path)?((e=r)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),V_("child","path",e,!1)):V_("child","path",r,!1),new Ui(i._repo,mn(i._path,r));var e}function vD(i,r){i=(0,le.m9)(i),ps("push",i._path),hs("push",r,i._path,!0);const e=j_(i._repo),o=IC(e),l=to(i,o),f=to(i,o);let g;return g=null!=r?xt(f,r).then(()=>f):Promise.resolve(f),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}function xt(i,r){i=(0,le.m9)(i),ps("set",i._path),hs("set",r,i._path,!1);const e=new le.BH;return Ep(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}class et{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new hb("value",this,new ra(r.snapshotNode,new Ui(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new pb(this,r,e):null}matches(r){return r instanceof et&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Cr{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new pb(this,r,e):null}createEvent(r,e){(0,le.hu)(null!=r.childName,"Child events should have a childName.");const o=to(new Ui(e._repo,e._path),r.childName),l=e._queryParams.getIndex();return new hb(r.type,this,new ra(r.snapshotNode,o,l),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Cr&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ji(i,r,e,o){return function(i,r,e,o,l){let f;if("object"==typeof o&&(f=void 0,l=o),"function"==typeof o&&(f=o),l&&l.onlyOnce){const I=e,T=(L,U)=>{H_(i._repo,i,E),I(L,U)};T.userCallback=e.userCallback,T.context=e.context,e=T}const g=new G_(e,f||void 0),E="value"===r?new et(g):new Cr(r,g);return function(i,r,e){let o;o=".info"===ft(r._path)?JC(i.infoSyncTree_,r,e):JC(i.serverSyncTree_,r,e),yp(i.eventQueue_,r._path,o)}(i._repo,i,E),()=>H_(i._repo,i,E)}(i,"value",r,e,o)}(function(i){(0,le.hu)(!I_,"__referenceConstructor has already been defined"),I_=i})(Ui),function(i){(0,le.hu)(!kd,"__referenceConstructor has already been defined"),kd=i}(Ui);const q_={};function PS(i,r,e,o,l){let f=o||i.options.databaseURL;void 0===f&&(i.options.projectId||xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",i.options.projectId),f=`${i.options.projectId}-default-rtdb.firebaseio.com`);let I,T,g=W_(f,l),E=g.repoInfo;"undefined"!=typeof process&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(I=!0,f=`http://${T}?ns=${E.namespace}`,g=W_(f,l),E=g.repoInfo):I=!g.repoInfo.secure;const L=l&&I?new Gs(Gs.OWNER):new Pi(i.name,i.options,r);(function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!mp(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),al(i)}(e))throw new Error((0,le.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",g),Et(g.path)||xi("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function(i,r,e,o){let l=q_[r.name];l||(l={},q_[r.name]=l);let f=l[i.toURLString()];return f&&xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new uD(i,false,e,o),l[i.toURLString()]=f,f}(E,i,L,new WE(i.name,e));return new qd(U,i)}class qd{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,r,e){if(i.stats_=Ko(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new Hh(i.repoInfo_,(o,l,f,g)=>{B_(i,o,l,f,g)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>ab(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,le.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Qa(i.repoInfo_,r,(o,l,f,g)=>{B_(i,o,l,f,g)},o=>{ab(i,o)},o=>{!function(i,r){Fn(r,(e,o)=>{vp(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,r){const e=i.toString();return zo[e]||(zo[e]=r()),zo[e]}(i.repoInfo_,()=>new xC(i.stats_,i.server_)),i.infoData_=new SC,i.infoSyncTree_=new YC({startListening:(o,l,f,g)=>{let E=[];const I=i.infoData_.getNode(o._path);return I.isEmpty()||(E=Fd(i.infoSyncTree_,o._path,I),setTimeout(()=>{g("ok")},0)),E},stopListening:()=>{}}),vp(i,"connected",!1),i.serverSyncTree_=new YC({startListening:(o,l,f,g)=>(i.server_.listen(o,f,l,(E,I)=>{const T=g(E,I);Hr(i.eventQueue_,o._path,T)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,r){const e=q_[r];(!e||e[i.key]!==i)&&xi(`Database ${r}(${i.repoInfo_}) has already been deleted.`),function(i){i.persistentConnection_&&i.persistentConnection_.interrupt("repo_interrupt")}(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&xi("Cannot call "+r+" on a deleted database.")}}function Rp(i=(0,$a.getApp)(),r){return(0,$a._getProvider)(i,"database").getImmediate({identifier:r})}Qa.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},Qa.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},function(i){bh=i}($a.SDK_VERSION),(0,$a._registerComponent)(new Jt.wA("database",(r,{instanceIdentifier:e})=>PS(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$a.registerVersion)("@firebase/database","0.12.0",void 0);class SD{constructor(r,e,o,l){this.text=r,this.date=e,this.to=o,this.from=l}}(0,dt.PH)("[DATA] Get Users");const PD=(0,dt.PH)("[DATA] Set Users",(0,dt.Ky)()),ND=(0,dt.PH)("[DATA] Select User",(0,dt.Ky)()),wb=(0,dt.PH)("[DATA] Store Messages",(0,dt.Ky)()),X_=(0,dt.PH)("[DATA] Send Message",(0,dt.Ky)()),Db=(0,dt.PH)("[DATA] Store All Messages",(0,dt.Ky)());function kD(i,r){if(1&i&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&i){const e=d.oxw().index,o=d.oxw();d.xp6(1),d.hij(" ",o.userMessages[e][1][1].text," ")}}function FD(i,r){1&i&&(d.TgZ(0,"span",16),d._uU(1,"No messages yet"),d.qZA())}function LD(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div",8,9),d.NdJ("click",function(){const f=d.CHM(e).$implicit;return d.oxw().selectChat(f)}),d._UZ(2,"div",10),d.TgZ(3,"div",11),d.TgZ(4,"span",12),d._uU(5),d.qZA(),d.YNc(6,kD,2,1,"span",13),d.YNc(7,FD,2,0,"span",14),d.qZA(),d.qZA()}if(2&i){const e=r.$implicit,o=r.index,l=d.oxw();d.xp6(5),d.hij(" ",e[1].username," "),d.xp6(1),d.Q6J("ngIf",l.userMessages[o]),d.xp6(1),d.Q6J("ngIf",!l.userMessages[o])}}function Zd(i,r){1&i&&(d.TgZ(0,"div",17),d.TgZ(1,"span",18),d._uU(2,"Select someone to chat"),d.qZA(),d.qZA())}function VD(i,r){if(1&i&&(d.TgZ(0,"span",29),d._uU(1),d.qZA()),2&i){const e=d.oxw().$implicit;d.xp6(1),d.Oqu(e.text)}}function UD(i,r){if(1&i&&(d.TgZ(0,"span",30),d._uU(1),d.qZA()),2&i){const e=d.oxw().$implicit;d.xp6(1),d.Oqu(e.text)}}function Tb(i,r){if(1&i&&(d.TgZ(0,"div",26),d.YNc(1,VD,2,1,"span",27),d.YNc(2,UD,2,1,"span",28),d.qZA()),2&i){const e=r.index,o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",o.messages[e].from===o.selectedUser),d.xp6(1),d.Q6J("ngIf",o.messages[e].from!==o.selectedUser)}}function Qd(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div",19),d.YNc(1,Tb,3,2,"div",20),d.TgZ(2,"form",21,22),d.NdJ("ngSubmit",function(){d.CHM(e);const l=d.MAs(3);return d.oxw().send(l)}),d._UZ(4,"input",23),d.TgZ(5,"button",24),d._UZ(6,"i",25),d.qZA(),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngForOf",e.messages)}}let $S=(()=>{class i{constructor(e){this.store=e,this.db=Rp(),this.dbRef=eo(this.db),this.userMessages=[]}ngOnInit(){this.store.select("auth").subscribe(e=>{this.activeUser=e.uid}),ji(this.dbRef,e=>{this.users=e.val().users,console.log(this.users),this.users=Object.entries(this.users),this.users.forEach(o=>{o[0]===this.activeUser&&Object.entries(o[1].messages)&&(this.userMessages=Object.entries(o[1].messages),this.users.splice(this.users.indexOf(o),1))}),this.userMessages.forEach((o,l)=>{this.userMessages[l][1]=Object.entries(o[1]),this.userMessages[l][1]=this.userMessages[l][1][this.userMessages[l][1].length-1]}),console.log(this.userMessages)}),this.store.select("data").subscribe(e=>{this.messages=e.messages,console.log(this.messages),this.messages&&(this.messages=Object.values(this.messages))}),ji(this.dbRef,e=>{this.store.select("auth").subscribe(o=>{this.allMsg=e.val().users[o.uid].messages?e.val().users[o.uid].messages:[],this.store.dispatch(Db({payload:{allMessages:this.allMsg}}))})}),this.store.select("data").subscribe(e=>{let o;e.allMessages&&(o=Object.entries(e.allMessages)),this.allMsg=o,o.forEach(l=>{})})}selectChat(e){this.selectedUser=e[0],this.store.dispatch(ND({payload:{selectedUser:e[0]}})),ji(this.dbRef,o=>{this.store.select("auth").subscribe(l=>{this.msg=o.val().users[l.uid].messages,this.msg=this.msg[e[0]],this.store.dispatch(wb({payload:{messages:this.msg}}))})})}send(e){this.authSub=this.store.select("auth").subscribe(o=>{this.store.select("data").subscribe(l=>{this.selectedUser=l.selectedUser}),this.store.dispatch(X_({message:new SD(e.value.text,new Date,this.selectedUser,o.uid)})),e.reset()})}ngOnDestroy(){this.authSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(dt.yh))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-messenger"]],decls:9,vars:3,consts:[[1,"container"],[1,"users-display"],[1,"heading"],[1,"heading-text"],["class","available-chat",3,"click",4,"ngFor","ngForOf"],[1,"messenger-display"],["class","no-user-screen",4,"ngIf"],["class","open-chat",4,"ngIf"],[1,"available-chat",3,"click"],["info",""],[1,"image"],[1,"texts"],[1,"username"],["class","message-preview",4,"ngIf"],["class","message-preview no-messages",4,"ngIf"],[1,"message-preview"],[1,"message-preview","no-messages"],[1,"no-user-screen"],[1,"info-message"],[1,"open-chat"],["class","message-box",4,"ngFor","ngForOf"],[1,"send-message-box",3,"ngSubmit"],["msgForm","ngForm"],["autocomplete","off","id","text","type","text","ngModel","","name","text",1,"send-message-input"],["type","submit",1,"send-btn"],[1,"fab","fa-telegram-plane","send-icon"],[1,"message-box"],["class","from-chat chat-message",4,"ngIf"],["class","to-chat chat-message",4,"ngIf"],[1,"from-chat","chat-message"],[1,"to-chat","chat-message"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"span",3),d._uU(4,"Messages"),d.qZA(),d.qZA(),d.YNc(5,LD,8,3,"div",4),d.qZA(),d.TgZ(6,"div",5),d.YNc(7,Zd,3,0,"div",6),d.YNc(8,Qd,7,1,"div",7),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("ngForOf",o.users),d.xp6(2),d.Q6J("ngIf",!o.selectedUser),d.xp6(1),d.Q6J("ngIf",o.selectedUser))},directives:[$t,ge,pi,Uc,hi,di,Do,Ro],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;height:100vh}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px 20px}.container[_ngcontent-%COMP%]   .users-display[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .heading-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:65vw;border:1px solid yellow;overflow-y:auto}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .no-user-screen[_ngcontent-%COMP%]{background:#e1eec3;background:linear-gradient(to right,#C9D6FF,#E2E2E2);display:flex;justify-content:center;align-items:center;height:100%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .no-user-screen[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{font-size:25px}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:7px 0}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{padding:12px;color:#fdfdfd}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .from-chat[_ngcontent-%COMP%]{background-color:#b2b2b2;align-items:flex-start;margin-right:10%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .to-chat[_ngcontent-%COMP%]{background-color:#f03e32;align-items:flex-end;margin-left:10%}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#f5f1f0}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-message-input[_ngcontent-%COMP%]{width:100%;padding:10px 25px;background-color:transparent;outline:none;border:none}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{border:none;background-color:transparent}.container[_ngcontent-%COMP%]   .messenger-display[_ngcontent-%COMP%]   .send-message-box[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]   .send-icon[_ngcontent-%COMP%]{font-size:20px;align-self:center;padding-right:8px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:0 5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#000;align-self:center;margin:5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-weight:bold}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .message-preview[_ngcontent-%COMP%]{color:gray}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .texts[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]{font-style:italic;font-weight:200}.container[_ngcontent-%COMP%]   .available-chat[_ngcontent-%COMP%]   .active-chat[_ngcontent-%COMP%]{background-color:#f5fcfe}"]}),i})();var xp=D(6682),Pp=D(9746),jD=D(8229);function Ab(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let l,g,f=0,E=!1,I=!1;return function(L){let U;f++,!l||E?(E=!1,l=new jD.t(i,r,o),U=l.subscribe(this),g=L.subscribe({next(J){l.next(J)},error(J){E=!0,l.error(J)},complete(){I=!0,g=void 0,l.complete()}}),I&&(g=void 0)):U=l.subscribe(this),this.add(()=>{f--,U.unsubscribe(),U=void 0,g&&!I&&e&&0===f&&(g.unsubscribe(),g=void 0,l=void 0)})}}(o))}function Sb(i,r){return r?(0,kn.w)(()=>i,r):(0,kn.w)(()=>i)}var Np=D(3101),ey=D(7667),Zu=D(8939);D(7841);const GS=new d.OlP("angularfire2.auth.use-emulator"),ty=new d.OlP("angularfire2.auth.settings"),HD=new d.OlP("angularfire2.auth.tenant-id"),$D=new d.OlP("angularfire2.auth.langugage-code"),WD=new d.OlP("angularfire2.auth.use-device-language"),GD=new d.OlP("angularfire.auth.persistence");let Mb=(()=>{class i{constructor(e,o,l,f,g,E,I,T,L,U,J){const me=new Po.xQ,Te=(0,rt.of)(void 0).pipe((0,Pp.QV)(g.outsideAngular),(0,kn.w)(()=>f.runOutsideAngular(()=>D.e(828).then(D.bind(D,4828)))),(0,At.U)(()=>(0,Zu.on)(e,f,o)),(0,At.U)(Le=>((i,r,e,o,l,f,g,E)=>(0,ey.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const I=r.runOutsideAngular(()=>i.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=l,f&&I.useDeviceLanguage(),g)for(const[T,L]of Object.entries(g))I.settings[T]=L;return E&&I.setPersistence(E),I},[e,o,l,f,g,E]))(Le,f,E,T,L,U,I,J)),Ab({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{Te.pipe(os()).subscribe();const Be=Te.pipe((0,kn.w)(ot=>ot.getRedirectResult().then(jt=>jt,()=>null)),ey.iC,Ab({bufferSize:1,refCount:!1})),Ft=Te.pipe((0,kn.w)(ot=>new sr.y(jt=>({unsubscribe:f.runOutsideAngular(()=>ot.onAuthStateChanged(nr=>jt.next(nr),nr=>jt.error(nr),()=>jt.complete()))})))),Pt=Te.pipe((0,kn.w)(ot=>new sr.y(jt=>({unsubscribe:f.runOutsideAngular(()=>ot.onIdTokenChanged(nr=>jt.next(nr),nr=>jt.error(nr),()=>jt.complete()))}))));this.authState=Be.pipe(Sb(Ft),(0,Np.R)(g.outsideAngular),(0,Pp.QV)(g.insideAngular)),this.user=Be.pipe(Sb(Pt),(0,Np.R)(g.outsideAngular),(0,Pp.QV)(g.insideAngular)),this.idToken=this.user.pipe((0,kn.w)(ot=>ot?(0,gn.D)(ot.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe((0,kn.w)(ot=>ot?(0,gn.D)(ot.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,xp.T)(Be,me,this.authState.pipe((0,ss.h)(ot=>!ot))).pipe((0,At.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,Np.R)(g.outsideAngular),(0,Pp.QV)(g.insideAngular))}return(0,Zu.pX)(this,Te,f,{spy:{apply:(Le,Be,Ft)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&Ft.then(Pt=>me.next(Pt))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Zu.Dh),d.LFG(Zu.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ey.HU),d.LFG(GS,8),d.LFG(ty,8),d.LFG(HD,8),d.LFG($D,8),d.LFG(WD,8),d.LFG(GD,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();const Qu=(0,At.U)(i=>!!i);const JD=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:QI},{path:"messenger",component:$S,canActivate:[(()=>{class i{constructor(e,o){this.router=e,this.auth=o,this.canActivate=(l,f)=>{const g=l.data.authGuardPipe||(()=>Qu);return this.auth.user.pipe((0,ed.q)(1),g(l,f),(0,At.U)(E=>"boolean"==typeof E?E:Array.isArray(E)?this.router.createUrlTree(E):this.router.parseUrl(E)))}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Bn),d.LFG(Mb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()],data:{AuthGuardPipe:Qu}}];let XD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Om.forRoot(JD)],Om]}),i})();const Ju_firebase={apiKey:"AIzaSyDYv0H5RXmoYQduJjudu_-ckWqLLDUHKhk",authDomain:"test-96155.firebaseapp.com",databaseURL:"https://test-96155-default-rtdb.firebaseio.com",projectId:"test-96155",storageBucket:"test-96155.appspot.com",messagingSenderId:"6579512422",appId:"1:6579512422:web:83151b2eb41bbcc35d79a7",measurementId:"G-9402P23G8N"};let Rb=(()=>{class i{constructor(){this.title="ngChat",this.app=(0,$a.initializeApp)(Ju_firebase),this.db=Rp(),this.starCountRef=eo(this.db)}writeUserData(){xt(eo(this.db,"users/"),{username:"name",email:"email",profile_picture:"imageUrl"})}funkyFuncTest(){ji(this.starCountRef,e=>{const o=e.val();console.log(o)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:[Oi],styles:[""]}),i})();class KS{call(r,e){return e.subscribe(new tT(r))}}class tT extends Si.L{_next(r){}}var ry=D(3098);class YS{call(r,e){return e.subscribe(new xb(r))}}class xb extends Si.L{constructor(r){super(r)}_next(r){this.destination.next(ry.P.createNext(r))}_error(r){const e=this.destination;e.next(ry.P.createError(r)),e.complete()}_complete(){const r=this.destination;r.next(ry.P.createComplete()),r.complete()}}function Pb(i,r,e,o){return l=>l.lift(new qS(i,r,e,o))}class qS{constructor(r,e,o,l){this.keySelector=r,this.elementSelector=e,this.durationSelector=o,this.subjectSelector=l}call(r,e){return e.subscribe(new Nb(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Nb extends Si.L{constructor(r,e,o,l,f){super(r),this.keySelector=e,this.elementSelector=o,this.durationSelector=l,this.subjectSelector=f,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let e;try{e=this.keySelector(r)}catch(o){return void this.error(o)}this._group(r,e)}_group(r,e){let o=this.groups;o||(o=this.groups=new Map);let f,l=o.get(e);if(this.elementSelector)try{f=this.elementSelector(r)}catch(g){this.error(g)}else f=r;if(!l){l=this.subjectSelector?this.subjectSelector():new Po.xQ,o.set(e,l);const g=new kp(e,l,this);if(this.destination.next(g),this.durationSelector){let E;try{E=this.durationSelector(new kp(e,l))}catch(I){return void this.error(I)}this.add(E.subscribe(new nT(e,l,this)))}}l.closed||l.next(f)}_error(r){const e=this.groups;e&&(e.forEach((o,l)=>{o.error(r)}),e.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((e,o)=>{e.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class nT extends Si.L{constructor(r,e,o){super(e),this.key=r,this.group=e,this.parent=o}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:e}=this;this.key=this.parent=null,r&&r.removeGroup(e)}}class kp extends sr.y{constructor(r,e,o){super(),this.key=r,this.groupSubject=e,this.refCountSubscription=o}_subscribe(r){const e=new qg.w,{refCountSubscription:o,groupSubject:l}=this;return o&&!o.closed&&e.add(new rT(o)),e.add(l.subscribe(r)),e}}class rT extends qg.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var iy=D(5345);function kb(i,r){return r?e=>e.pipe(kb((o,l)=>(0,gn.D)(i(o,l)).pipe((0,At.U)((f,g)=>r(o,f,l,g))))):e=>e.lift(new iT(i))}class iT{constructor(r){this.project=r}call(r,e){return e.subscribe(new sT(r,this.project))}}class sT extends iy.Ds{constructor(r,e){super(r),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(r){this.hasSubscription||this.tryNext(r)}tryNext(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(l){return void this.destination.error(l)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(r){const e=new iy.IY(this),o=this.destination;o.add(e);const l=(0,iy.ft)(r,e);l!==e&&o.add(l)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class aT{call(r,e){return e.subscribe(new lT(r))}}class lT extends Si.L{constructor(r){super(r)}_next(r){r.observe(this.destination)}}const Fb={dispatch:!0,useEffectsErrorHandler:!0},Fp="__@ngrx/effects_create__";function hl(i,r){const e=i(),o=Object.assign(Object.assign({},Fb),r);return Object.defineProperty(e,Fp,{value:o}),e}function Lb(i){return Object.getOwnPropertyNames(i).filter(o=>!(!i[o]||!i[o].hasOwnProperty(Fp))&&i[o][Fp].hasOwnProperty("dispatch")).map(o=>Object.assign({propertyName:o},i[o][Fp]))}function Lp(i){return Object.getPrototypeOf(i)}const Xd="__@ngrx/effects__";function Vb(i){return(0,dt.qC)(dT,Lp)(i)}function dT(i){return function(i){return i.constructor.hasOwnProperty(Xd)}(i)?i.constructor[Xd]:[]}function fT(i,r,e){const o=Lp(i).constructor.name,l=function(i){return[Vb,Lb].reduce((e,o)=>e.concat(o(i)),[])}(i).map(({propertyName:f,dispatch:g,useEffectsErrorHandler:E})=>{const I="function"==typeof i[f]?i[f]():i[f],T=E?e(I,r):I;return!1===g?T.pipe(function(r){return r.lift(new KS)}):T.pipe(function(r){return r.lift(new YS)}).pipe((0,At.U)(U=>({effect:i[f],notification:U,propertyName:f,sourceName:o,sourceInstance:i})))});return(0,xp.T)(...l)}function ec(i,r,e=10){return i.pipe((0,No.K)(o=>(r&&r.handleError(o),e<=1?i:ec(i,r,e-1))))}let pl=(()=>{class i extends sr.y{constructor(e){super(),e&&(this.source=e)}lift(e){const o=new i;return o.source=this,o.operator=e,o}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(dt.Y$))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function sy(...i){return(0,ss.h)(r=>i.some(e=>"string"==typeof e?e===r.type:e.type===r.type))}function Bb(i){return ef(i,"ngrxOnInitEffects")}function ef(i,r){return i&&r in i&&"function"==typeof i[r]}const Up=new d.OlP("@ngrx/effects Internal Root Guard"),jp=new d.OlP("@ngrx/effects User Provided Effects"),uy=new d.OlP("@ngrx/effects Internal Root Effects"),Hb=new d.OlP("@ngrx/effects Root Effects"),$b=new d.OlP("@ngrx/effects Internal Feature Effects"),cy=new d.OlP("@ngrx/effects Feature Effects"),Bp=new d.OlP("@ngrx/effects Effects Error Handler");let Hp=(()=>{class i extends Po.xQ{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(Pb(Lp),(0,tn.zg)(e=>e.pipe(Pb(_T))),(0,tn.zg)(e=>{const o=e.pipe(kb(f=>function(i,r){return e=>{const o=fT(e,i,r);return function(i){return ef(i,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(o):o}}(this.errorHandler,this.effectsErrorHandler)(f)),(0,At.U)(f=>(function(i,r){if("N"===i.notification.kind){const e=i.notification.value;!function(i){return"function"!=typeof i&&i&&i.type&&"string"==typeof i.type}(e)&&r.handleError(new Error(`Effect ${function({propertyName:i,sourceInstance:r,sourceName:e}){const o="function"==typeof r[i];return`"${e}.${String(i)}${o?"()":""}"`}(i)} dispatched an invalid action: ${function(i){try{return JSON.stringify(i)}catch(r){return i}}(e)}`))}}(f,this.errorHandler),f.notification)),(0,ss.h)(f=>"N"===f.kind&&null!=f.value),function(r){return r.lift(new aT)}),l=e.pipe((0,ed.q)(1),(0,ss.h)(Bb),(0,At.U)(f=>f.ngrxOnInitEffects()));return(0,xp.T)(o,l)}))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.qLn),d.LFG(Bp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function _T(i){return function(i){return ef(i,"ngrxOnIdentifyEffects")}(i)?i.ngrxOnIdentifyEffects():""}let $p=(()=>{class i{constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Hp),d.LFG(dt.yh))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Gb="@ngrx/effects/init";(0,dt.PH)(Gb);let dy=(()=>{class i{constructor(e,o,l,f,g,E,I){this.sources=e,o.start(),f.forEach(T=>e.addEffects(T)),l.dispatch({type:Gb})}addEffects(e){this.sources.addEffects(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Hp),d.LFG($p),d.LFG(dt.yh),d.LFG(Hb),d.LFG(dt.cr,8),d.LFG(dt.CK,8),d.LFG(Up,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),vT=(()=>{class i{constructor(e,o,l,f){o.forEach(g=>g.forEach(E=>e.addEffects(E)))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(dy),d.LFG(cy),d.LFG(dt.cr,8),d.LFG(dt.CK,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),zb=(()=>{class i{static forFeature(e=[]){return{ngModule:vT,providers:[e,{provide:$b,multi:!0,useValue:e},{provide:jp,multi:!0,useValue:[]},{provide:cy,multi:!0,useFactory:Kb,deps:[d.zs3,$b,jp]}]}}static forRoot(e=[]){return{ngModule:dy,providers:[{provide:Bp,useValue:ec},$p,Hp,pl,e,{provide:uy,useValue:[e]},{provide:Up,useFactory:Ir,deps:[[$p,new d.FiY,new d.tp0],[uy,new d.PiD]]},{provide:jp,multi:!0,useValue:[]},{provide:Hb,useFactory:Kb,deps:[d.zs3,uy,jp]}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function Kb(i,r,e){const o=[];for(const l of r)o.push(...l);for(const l of e)o.push(...l);return function(i,r){return r.map(e=>i.get(e))}(i,o)}function Ir(i,r){if((1!==r.length||0!==r[0].length)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}(0,$a.initializeApp)(Ju_firebase);const ET=(0,Iu.n)(),tc=Rp();eo(tc);let fy=(()=>{class i{constructor(e,o){this.actions$=e,this.store=o,this.authSignup=hl(()=>this.actions$.pipe(sy(md),(0,kn.w)(l=>(0,Iu.a4)(ET,l.payload.email,l.payload.password).then(f=>(xt(eo(tc,"users/"+f.user.uid),{email:f.user.email,username:l.payload.username,uid:f.user.uid,messages:[]}),km({payload:{email:f.user.email,uid:f.user.uid,username:l.payload.username,token:"res.user.getIdToken()",tokenExpDate:new Date,messages:[]}})))))),this.authLogin=hl(()=>this.actions$.pipe(sy(xE),(0,kn.w)(l=>(0,Iu.a5)(ET,l.payload.email,l.payload.password).then(f=>km({payload:{email:f.user.email,uid:f.user.uid,username:"get this somehow",messages:void 0,token:"",tokenExpDate:new Date}})))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pl),d.LFG(dt.yh))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();(0,D(2329).ZF)(Ju_firebase);const hy=Rp();eo(hy);let py=(()=>{class i{constructor(e,o){this.actions$=e,this.store=o,this.sendMessage=hl(()=>this.actions$.pipe(sy(X_),(0,kn.w)(l=>(xt(vD(eo(hy,"/users/"+l.message.from+"/messages/"+l.message.to)),l.message),xt(vD(eo(hy,"/users/"+l.message.to+"/messages/"+l.message.from)),l.message)))),{dispatch:!1})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pl),d.LFG(dt.yh))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const rM={auth:(0,dt.Lq)({email:"",username:"",uid:"",token:"",tokenExpDate:null,messages:[]},(0,dt.on)(md,(i,r)=>Object.assign(Object.assign({},i),{username:r.payload.username})),(0,dt.on)(km,(i,r)=>(console.log(r.payload.messages),Object.assign(Object.assign({},i),{email:r.payload.email,uid:r.payload.uid,token:r.payload.token,tokenExpDate:r.payload.tokenExpDate})))),data:(0,dt.Lq)({users:{},selectedUser:"",messages:[],allMessages:[]},(0,dt.on)(PD,(i,r)=>Object.assign(Object.assign({},i),{users:r.payload.users})),(0,dt.on)(X_,(i,r)=>(console.log("logging from reducer"),console.log(r.message),i)),(0,dt.on)(ND,(i,r)=>Object.assign(Object.assign({},i),{selectedUser:r.payload.selectedUser})),(0,dt.on)(wb,(i,r)=>(console.log("THIS IS THE MESSAGES WE GET IN REDUCER"),console.log(r.payload.messages),Object.assign(Object.assign({},i),{messages:r.payload.messages}))),(0,dt.on)(Db,(i,r)=>Object.assign(Object.assign({},i),{allMessages:r.payload.allMessages})))};var Zb=D(3572);function nf(i){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function rf(i,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function IT(i,r,e){return r in i?Object.defineProperty(i,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[r]=e,i}function Dt(i){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),o.forEach(function(l){IT(i,l,e[l])})}return i}function sf(i,r){return function(i){if(Array.isArray(i))return i}(i)||function(i,r){var e=[],o=!0,l=!1,f=void 0;try{for(var E,g=i[Symbol.iterator]();!(o=(E=g.next()).done)&&(e.push(E.value),!r||e.length!==r);o=!0);}catch(I){l=!0,f=I}finally{try{!o&&null!=g.return&&g.return()}finally{if(l)throw f}}return e}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yy={},r0={};try{"undefined"!=typeof window&&(yy=window),"undefined"!=typeof document&&(r0=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(i){}var Ey=(yy.navigator||{}).userAgent,Cy=void 0===Ey?"":Ey,gl=yy,xn=r0,ia=!!xn.documentElement&&!!xn.head&&"function"==typeof xn.addEventListener&&"function"==typeof xn.createElement,sa=(~Cy.indexOf("MSIE")||Cy.indexOf("Trident/"),"___FONT_AWESOME___"),MT="svg-inline--fa",NT=[1,2,3,4,5,6,7,8,9,10],dM=NT.concat([11,12,13,14,15,16,17,18,19,20]),ml={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},d0=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",ml.GROUP,ml.SWAP_OPACITY,ml.PRIMARY,ml.SECONDARY].concat(NT.map(function(i){return"".concat(i,"x")})).concat(dM.map(function(i){return"w-".concat(i)})),gl.FontAwesomeConfig||{});xn&&"function"==typeof xn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(i){var r=sf(i,2),o=r[1],l=function(i){return""===i||"false"!==i&&("true"===i||i)}(function(i){var r=xn.querySelector("script["+i+"]");if(r)return r.getAttribute(i)}(r[0]));null!=l&&(d0[o]=l)});var by=Dt({},{familyPrefix:"fa",replacementClass:MT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},d0);by.autoReplaceSvg||(by.observeMutations=!1);var ht=Dt({},by);gl.FontAwesomeConfig=ht;var no=gl||{};no[sa]||(no[sa]={}),no[sa].styles||(no[sa].styles={}),no[sa].hooks||(no[sa].hooks={}),no[sa].shims||(no[sa].shims=[]);var ni=no[sa],_l=[];ia&&((xn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xn.readyState)||xn.addEventListener("DOMContentLoaded",function i(){xn.removeEventListener("DOMContentLoaded",i),_l.map(function(r){return r()})}));var h0,lf="pending",Iy="settled",uf="fulfilled",cf="rejected",_M=function(){},wy="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Kp="undefined"==typeof setImmediate?setTimeout:setImmediate,nc=[];function yM(){for(var i=0;i<nc.length;i++)nc[i][0](nc[i][1]);nc=[],h0=!1}function Dy(i,r){nc.push([i,r]),h0||(h0=!0,Kp(yM,0))}function VT(i){var r=i.owner,e=r._state,o=r._data,l=i[e],f=i.then;if("function"==typeof l){e=uf;try{o=l(o)}catch(g){Yp(f,g)}}df(f,o)||(e===uf&&Ty(f,o),e===cf&&Yp(f,o))}function df(i,r){var e;try{if(i===r)throw new TypeError("A promises callback cannot return that same promise.");if(r&&("function"==typeof r||"object"===nf(r))){var o=r.then;if("function"==typeof o)return o.call(r,function(l){e||(e=!0,r===l?UT(i,l):Ty(i,l))},function(l){e||(e=!0,Yp(i,l))}),!0}}catch(l){return e||Yp(i,l),!0}return!1}function Ty(i,r){(i===r||!df(i,r))&&UT(i,r)}function UT(i,r){i._state===lf&&(i._state=Iy,i._data=r,Dy(jT,i))}function Yp(i,r){i._state===lf&&(i._state=Iy,i._data=r,Dy(vM,i))}function qp(i){i._then=i._then.forEach(VT)}function jT(i){i._state=uf,qp(i)}function vM(i){i._state=cf,qp(i),!i._handled&&wy&&global.process.emit("unhandledRejection",i._data,i)}function EM(i){global.process.emit("rejectionHandled",i)}function ri(i){if("function"!=typeof i)throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof ri))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(i,r){function o(l){Yp(r,l)}try{i(function(l){Ty(r,l)},o)}catch(l){o(l)}}(i,this)}ri.prototype={constructor:ri,_state:lf,_then:null,_data:void 0,_handled:!1,then:function(r,e){var o={owner:this,then:new this.constructor(_M),fulfilled:r,rejected:e};return(e||r)&&!this._handled&&(this._handled=!0,this._state===cf&&wy&&Dy(EM,this)),this._state===uf||this._state===cf?Dy(VT,o):this._then.push(o),o.then},catch:function(r){return this.then(null,r)}},ri.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new ri(function(r,e){var o=[],l=0;function f(I){return l++,function(T){o[I]=T,--l||r(o)}}for(var E,g=0;g<i.length;g++)(E=i[g])&&"function"==typeof E.then?E.then(f(g),e):o[g]=E;l||r(o)})},ri.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new ri(function(r,e){for(var l,o=0;o<i.length;o++)(l=i[o])&&"function"==typeof l.then?l.then(r,e):r(l)})},ri.resolve=function(i){return i&&"object"===nf(i)&&i.constructor===ri?i:new ri(function(r){r(i)})},ri.reject=function(i){return new ri(function(r,e){e(i)})};var Ny=function(r,e,o,l){var I,T,L,f=Object.keys(r),g=f.length,E=void 0!==l?function(r,e){return function(o,l,f,g){return r.call(e,o,l,f,g)}}(e,l):e;for(void 0===o?(I=1,L=r[f[0]]):(I=0,L=o);I<g;I++)L=E(L,r[T=f[I]],T,r);return L};function v0(i,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.skipHooks,l=void 0!==o&&o,f=Object.keys(r).reduce(function(g,E){var I=r[E];return I.icon?g[I.iconName]=I.icon:g[E]=I,g},{});"function"!=typeof ni.hooks.addPack||l?ni.styles[i]=Dt({},ni.styles[i]||{},f):ni.hooks.addPack(i,f),"fas"===i&&v0("fa",r)}var E0=ni.styles,qT=ni.shims,b0=function(){var r=function(l){return Ny(E0,function(f,g,E){return f[E]=Ny(g,l,{}),f},{})};r(function(o,l,f){return l[3]&&(o[l[3]]=f),o}),r(function(o,l,f){var g=l[2];return o[f]=f,g.forEach(function(E){o[E]=f}),o});var e="far"in E0;Ny(qT,function(o,l){var g=l[1];return"far"===g&&!e&&(g="fas"),o[l[0]]={prefix:g,iconName:l[2]},o},{})};function ng(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=(new Error).stack}b0(),(ng.prototype=Object.create(Error.prototype)).constructor=ng;var pf={fill:"currentColor"},Vy={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},oc=(Dt({},pf,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Dt({},Vy,{attributeName:"opacity"}));Dt({},pf,{cx:"256",cy:"364",r:"28"}),Dt({},Vy,{attributeName:"r",values:"28;14;28;28;14;28;"}),Dt({},oc,{values:"1;0;1;1;0;1;"}),Dt({},pf,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Dt({},oc,{values:"1;0;0;0;0;1;"}),Dt({},pf,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Dt({},oc,{values:"0;0;1;1;0;0;"});new(function(){function i(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,i),this.definitions={}}return function(i,r,e){r&&rf(i.prototype,r)}(i,[{key:"add",value:function(){for(var e=this,o=arguments.length,l=new Array(o),f=0;f<o;f++)l[f]=arguments[f];var g=l.reduce(this._pullDefinitions,{});Object.keys(g).forEach(function(E){e.definitions[E]=Dt({},e.definitions[E]||{},g[E]),v0(E,g[E]),b0()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,o){var l=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(l).map(function(f){var g=l[f],E=g.prefix,I=g.iconName,T=g.icon;e[E]||(e[E]={}),e[E][I]=T}),e}}]),i}());let PM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),NM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[Rb]}),i.\u0275inj=d.cJS({providers:[],imports:[[iv,XD,In,dt.Aw.forRoot(rM),zb.forRoot([fy,py]),Zu.hO.initializeApp(Ju_firebase),Zb.FT.instrument({logOnly:true}),PM]]}),i})();(0,d.G48)(),Vl().bootstrapModule(NM).catch(i=>console.error(i))},4762:(Q,B,D)=>{"use strict";D.d(B,{ZT:()=>N,_T:()=>q,mG:()=>P,Jh:()=>R,XA:()=>O,CR:()=>H,ev:()=>se});var d=function(fe,ve){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,re){ie.__proto__=re}||function(ie,re){for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(ie[be]=re[be])})(fe,ve)};function N(fe,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Class extends value "+String(ve)+" is not a constructor or null");function ie(){this.constructor=fe}d(fe,ve),fe.prototype=null===ve?Object.create(ve):(ie.prototype=ve.prototype,new ie)}function q(fe,ve){var ie={};for(var re in fe)Object.prototype.hasOwnProperty.call(fe,re)&&ve.indexOf(re)<0&&(ie[re]=fe[re]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(re=Object.getOwnPropertySymbols(fe);be<re.length;be++)ve.indexOf(re[be])<0&&Object.prototype.propertyIsEnumerable.call(fe,re[be])&&(ie[re[be]]=fe[re[be]])}return ie}function P(fe,ve,ie,re){return new(ie||(ie=Promise))(function(oe,Fe){function at(st){try{ze(re.next(st))}catch(Je){Fe(Je)}}function pt(st){try{ze(re.throw(st))}catch(Je){Fe(Je)}}function ze(st){st.done?oe(st.value):function(oe){return oe instanceof ie?oe:new ie(function(Fe){Fe(oe)})}(st.value).then(at,pt)}ze((re=re.apply(fe,ve||[])).next())})}function R(fe,ve){var re,be,oe,Fe,ie={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return Fe={next:at(0),throw:at(1),return:at(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function at(ze){return function(st){return function(ze){if(re)throw new TypeError("Generator is already executing.");for(;ie;)try{if(re=1,be&&(oe=2&ze[0]?be.return:ze[0]?be.throw||((oe=be.return)&&oe.call(be),0):be.next)&&!(oe=oe.call(be,ze[1])).done)return oe;switch(be=0,oe&&(ze=[2&ze[0],oe.value]),ze[0]){case 0:case 1:oe=ze;break;case 4:return ie.label++,{value:ze[1],done:!1};case 5:ie.label++,be=ze[1],ze=[0];continue;case 7:ze=ie.ops.pop(),ie.trys.pop();continue;default:if(!(oe=(oe=ie.trys).length>0&&oe[oe.length-1])&&(6===ze[0]||2===ze[0])){ie=0;continue}if(3===ze[0]&&(!oe||ze[1]>oe[0]&&ze[1]<oe[3])){ie.label=ze[1];break}if(6===ze[0]&&ie.label<oe[1]){ie.label=oe[1],oe=ze;break}if(oe&&ie.label<oe[2]){ie.label=oe[2],ie.ops.push(ze);break}oe[2]&&ie.ops.pop(),ie.trys.pop();continue}ze=ve.call(fe,ie)}catch(st){ze=[6,st],be=0}finally{re=oe=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}}([ze,st])}}}function O(fe){var ve="function"==typeof Symbol&&Symbol.iterator,ie=ve&&fe[ve],re=0;if(ie)return ie.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&re>=fe.length&&(fe=void 0),{value:fe&&fe[re++],done:!fe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(fe,ve){var ie="function"==typeof Symbol&&fe[Symbol.iterator];if(!ie)return fe;var be,Fe,re=ie.call(fe),oe=[];try{for(;(void 0===ve||ve-- >0)&&!(be=re.next()).done;)oe.push(be.value)}catch(at){Fe={error:at}}finally{try{be&&!be.done&&(ie=re.return)&&ie.call(re)}finally{if(Fe)throw Fe.error}}return oe}function se(fe,ve,ie){if(ie||2===arguments.length)for(var oe,re=0,be=ve.length;re<be;re++)(oe||!(re in ve))&&(oe||(oe=Array.prototype.slice.call(ve,0,re)),oe[re]=ve[re]);return fe.concat(oe||Array.prototype.slice.call(ve))}},8239:(Q,B,D)=>{"use strict";function d(Y,q,$,k,j,P,R){try{var S=Y[P](R),V=S.value}catch(O){return void $(O)}S.done?q(V):Promise.resolve(V).then(k,j)}function N(Y){return function(){var q=this,$=arguments;return new Promise(function(k,j){var P=Y.apply(q,$);function R(V){d(P,k,j,R,S,"next",V)}function S(V){d(P,k,j,R,S,"throw",V)}R(void 0)})}}D.d(B,{Z:()=>N})}},Q=>{Q(Q.s=1570)}]);